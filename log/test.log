  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_admin_comments"[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "active_admin_comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "namespace" varchar, "body" text, "resource_type" varchar, "resource_id" integer, "author_type" varchar, "author_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_author" ON "active_admin_comments" ("author_type", "author_id")[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_namespace" ON "active_admin_comments" ("namespace")[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_resource" ON "active_admin_comments" ("resource_type", "resource_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "books"[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "titolo" varchar, "trama" text, "tag" text, "genere" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, "cover_file_name" varchar, "cover_content_type" varchar, "cover_file_size" integer, "cover_updated_at" datetime(6), "likes" integer, "stato" varchar DEFAULT 'inpubblicazione', "visibility" varchar DEFAULT 'visibile')[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE INDEX "index_books_on_user_id" ON "books" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "chapters"[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "chapters" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "titolo" text, "testo" text, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE INDEX "index_chapters_on_book_id" ON "chapters" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments"[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "testo" text, "chapter_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_chapter_id" ON "comments" ("chapter_id")[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "flags"[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "flags" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "review_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE INDEX "index_flags_on_review_id" ON "flags" ("review_id")[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_flags_on_user_id" ON "flags" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "follows"[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "follows" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "followable_type" varchar NOT NULL, "followable_id" integer NOT NULL, "follower_type" varchar NOT NULL, "follower_id" integer NOT NULL, "blocked" boolean DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE INDEX "fk_followables" ON "follows" ("followable_id", "followable_type")[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE INDEX "index_follows_on_followable" ON "follows" ("followable_type", "followable_id")[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE INDEX "fk_follows" ON "follows" ("follower_id", "follower_type")[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE INDEX "index_follows_on_follower" ON "follows" ("follower_type", "follower_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "likes"[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "likes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "chapter_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE INDEX "index_likes_on_chapter_id" ON "likes" ("chapter_id")[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE INDEX "index_likes_on_user_id" ON "likes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts"[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "body" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "reviews"[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "testo" text, "ranking" integer, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_book_id" ON "reviews" ("book_id")[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_user_id" ON "reviews" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "full_name" varchar, "uid" varchar, "avatar_url" varchar, "provider" varchar, "admin" boolean DEFAULT 0, "username" varchar, "avatar_file_name" varchar, "avatar_content_type" varchar, "avatar_file_size" integer, "avatar_updated_at" datetime(6), "confirmation_token" varchar, "confirmed_at" datetime(6), "confirmation_sent_at" datetime(6), "unconfirmed_email" varchar)[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_confirmation_token" ON "users" ("confirmation_token")[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "votes"[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "votes" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "votable_type" varchar, "votable_id" integer, "voter_type" varchar, "voter_id" integer, "vote_flag" boolean, "vote_scope" varchar, "vote_weight" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE INDEX "index_votes_on_votable_id_and_votable_type_and_vote_scope" ON "votes" ("votable_id", "votable_type", "vote_scope")[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE INDEX "index_votes_on_votable" ON "votes" ("votable_type", "votable_id")[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE INDEX "index_votes_on_voter_id_and_voter_type_and_vote_scope" ON "votes" ("voter_id", "voter_type", "vote_scope")[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE INDEX "index_votes_on_voter" ON "votes" ("voter_type", "voter_id")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "active_storage_attachments"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer NOT NULL PRIMARY KEY, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at")
                     SELECT "id","name","record_type","record_id","blob_id","created_at" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer NOT NULL PRIMARY KEY, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abooks" ("id" integer NOT NULL PRIMARY KEY, "titolo" varchar DEFAULT NULL, "trama" text DEFAULT NULL, "tag" text DEFAULT NULL, "genere" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "cover_file_name" varchar DEFAULT NULL, "cover_content_type" varchar DEFAULT NULL, "cover_file_size" integer DEFAULT NULL, "cover_updated_at" datetime(6) DEFAULT NULL, "likes" integer DEFAULT NULL, "stato" varchar DEFAULT 'inpubblicazione', "visibility" varchar DEFAULT 'visibile')[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_abooks_on_user_id" ON "abooks" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "abooks" ("id","titolo","trama","tag","genere","created_at","updated_at","user_id","cover_file_name","cover_content_type","cover_file_size","cover_updated_at","likes","stato","visibility")
                     SELECT "id","titolo","trama","tag","genere","created_at","updated_at","user_id","cover_file_name","cover_content_type","cover_file_size","cover_updated_at","likes","stato","visibility" FROM "books"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer NOT NULL PRIMARY KEY, "titolo" varchar DEFAULT NULL, "trama" text DEFAULT NULL, "tag" text DEFAULT NULL, "genere" text DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, "cover_file_name" varchar DEFAULT NULL, "cover_content_type" varchar DEFAULT NULL, "cover_file_size" integer DEFAULT NULL, "cover_updated_at" datetime(6) DEFAULT NULL, "likes" integer DEFAULT NULL, "stato" varchar DEFAULT 'inpubblicazione', "visibility" varchar DEFAULT 'visibile', CONSTRAINT "fk_rails_bc582ddd02"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_books_on_user_id" ON "books" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "books" ("id","titolo","trama","tag","genere","created_at","updated_at","user_id","cover_file_name","cover_content_type","cover_file_size","cover_updated_at","likes","stato","visibility")
                     SELECT "id","titolo","trama","tag","genere","created_at","updated_at","user_id","cover_file_name","cover_content_type","cover_file_size","cover_updated_at","likes","stato","visibility" FROM "abooks"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abooks"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "achapters" ("id" integer NOT NULL PRIMARY KEY, "titolo" text DEFAULT NULL, "testo" text DEFAULT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_achapters_on_book_id" ON "achapters" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "achapters" ("id","titolo","testo","book_id","created_at","updated_at")
                     SELECT "id","titolo","testo","book_id","created_at","updated_at" FROM "chapters"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "chapters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "chapters" ("id" integer NOT NULL PRIMARY KEY, "titolo" text DEFAULT NULL, "testo" text DEFAULT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_71ecfd0b86"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_chapters_on_book_id" ON "chapters" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "chapters" ("id","titolo","testo","book_id","created_at","updated_at")
                     SELECT "id","titolo","testo","book_id","created_at","updated_at" FROM "achapters"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "achapters"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "chapter_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_chapter_id" ON "acomments" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acomments" ("id","testo","chapter_id","created_at","updated_at","user_id")
                     SELECT "id","testo","chapter_id","created_at","updated_at","user_id" FROM "comments"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "chapter_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL, CONSTRAINT "fk_rails_4d60c12392"
FOREIGN KEY ("chapter_id")
  REFERENCES "chapters" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_chapter_id" ON "comments" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "comments" ("id","testo","chapter_id","created_at","updated_at","user_id")
                     SELECT "id","testo","chapter_id","created_at","updated_at","user_id" FROM "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomments" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "chapter_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_user_id" ON "acomments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomments_on_chapter_id" ON "acomments" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "acomments" ("id","testo","chapter_id","created_at","updated_at","user_id")
                     SELECT "id","testo","chapter_id","created_at","updated_at","user_id" FROM "comments"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "chapter_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL, CONSTRAINT "fk_rails_4d60c12392"
FOREIGN KEY ("chapter_id")
  REFERENCES "chapters" ("id")
, CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_chapter_id" ON "comments" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "comments" ("id","testo","chapter_id","created_at","updated_at","user_id")
                     SELECT "id","testo","chapter_id","created_at","updated_at","user_id" FROM "acomments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflags" ("id" integer NOT NULL PRIMARY KEY, "review_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aflags_on_user_id" ON "aflags" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aflags_on_review_id" ON "aflags" ("review_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aflags" ("id","review_id","user_id","created_at","updated_at")
                     SELECT "id","review_id","user_id","created_at","updated_at" FROM "flags"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "flags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "flags" ("id" integer NOT NULL PRIMARY KEY, "review_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3ef19e5b1"
FOREIGN KEY ("review_id")
  REFERENCES "reviews" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_flags_on_review_id" ON "flags" ("review_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_flags_on_user_id" ON "flags" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "flags" ("id","review_id","user_id","created_at","updated_at")
                     SELECT "id","review_id","user_id","created_at","updated_at" FROM "aflags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aflags"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aflags" ("id" integer NOT NULL PRIMARY KEY, "review_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aflags_on_user_id" ON "aflags" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aflags_on_review_id" ON "aflags" ("review_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aflags" ("id","review_id","user_id","created_at","updated_at")
                     SELECT "id","review_id","user_id","created_at","updated_at" FROM "flags"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "flags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "flags" ("id" integer NOT NULL PRIMARY KEY, "review_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3ef19e5b1"
FOREIGN KEY ("review_id")
  REFERENCES "reviews" ("id")
, CONSTRAINT "fk_rails_d7842de637"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_flags_on_review_id" ON "flags" ("review_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_flags_on_user_id" ON "flags" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "flags" ("id","review_id","user_id","created_at","updated_at")
                     SELECT "id","review_id","user_id","created_at","updated_at" FROM "aflags"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aflags"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (9.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alikes" ("id" integer NOT NULL PRIMARY KEY, "chapter_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_alikes_on_user_id" ON "alikes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_alikes_on_chapter_id" ON "alikes" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "alikes" ("id","chapter_id","user_id","created_at","updated_at")
                     SELECT "id","chapter_id","user_id","created_at","updated_at" FROM "likes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "likes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "likes" ("id" integer NOT NULL PRIMARY KEY, "chapter_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5368829c5"
FOREIGN KEY ("chapter_id")
  REFERENCES "chapters" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_likes_on_chapter_id" ON "likes" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_likes_on_user_id" ON "likes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "likes" ("id","chapter_id","user_id","created_at","updated_at")
                     SELECT "id","chapter_id","user_id","created_at","updated_at" FROM "alikes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alikes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "alikes" ("id" integer NOT NULL PRIMARY KEY, "chapter_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_alikes_on_user_id" ON "alikes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_alikes_on_chapter_id" ON "alikes" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "alikes" ("id","chapter_id","user_id","created_at","updated_at")
                     SELECT "id","chapter_id","user_id","created_at","updated_at" FROM "likes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "likes"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "likes" ("id" integer NOT NULL PRIMARY KEY, "chapter_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e5368829c5"
FOREIGN KEY ("chapter_id")
  REFERENCES "chapters" ("id")
, CONSTRAINT "fk_rails_1e09b5dabf"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_likes_on_chapter_id" ON "likes" ("chapter_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_likes_on_user_id" ON "likes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "likes" ("id","chapter_id","user_id","created_at","updated_at")
                     SELECT "id","chapter_id","user_id","created_at","updated_at" FROM "alikes"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "alikes"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areviews" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "ranking" integer DEFAULT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_user_id" ON "areviews" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_book_id" ON "areviews" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "areviews" ("id","testo","ranking","book_id","created_at","updated_at","user_id")
                     SELECT "id","testo","ranking","book_id","created_at","updated_at","user_id" FROM "reviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "reviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "ranking" integer DEFAULT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL, CONSTRAINT "fk_rails_924a0b30ca"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_book_id" ON "reviews" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_user_id" ON "reviews" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "reviews" ("id","testo","ranking","book_id","created_at","updated_at","user_id")
                     SELECT "id","testo","ranking","book_id","created_at","updated_at","user_id" FROM "areviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "areviews"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areviews" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "ranking" integer DEFAULT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_user_id" ON "areviews" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_areviews_on_book_id" ON "areviews" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "areviews" ("id","testo","ranking","book_id","created_at","updated_at","user_id")
                     SELECT "id","testo","ranking","book_id","created_at","updated_at","user_id" FROM "reviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "reviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "reviews" ("id" integer NOT NULL PRIMARY KEY, "testo" text DEFAULT NULL, "ranking" integer DEFAULT NULL, "book_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer NOT NULL, CONSTRAINT "fk_rails_924a0b30ca"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_74a66bd6c5"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_book_id" ON "reviews" ("book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_reviews_on_user_id" ON "reviews" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "reviews" ("id","testo","ranking","book_id","created_at","updated_at","user_id")
                     SELECT "id","testo","ranking","book_id","created_at","updated_at","user_id" FROM "areviews"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "areviews"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230714101955)[0m
  [1m[35m (9.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230621113925),
(20230621120626),
(20230621153053),
(20230621155538),
(20230623111231),
(20230624113632),
(20230624132351),
(20230624141751),
(20230624151557),
(20230624200919),
(20230626084822),
(20230626170246),
(20230626175034),
(20230627074557),
(20230627074908),
(20230627095441),
(20230627101119),
(20230627101922),
(20230627135108),
(20230628073817),
(20230628125056),
(20230629150109),
(20230630124633),
(20230703081403),
(20230710133832),
(20230714090603);

[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-07-31 14:10:18.813393"], ["updated_at", "2023-07-31 14:10:18.813393"]]
  [1m[36mTRANSACTION (11.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "efe6e501796dd18613b0b307324b8d22dbd5bf00"], ["created_at", "2023-07-31 14:10:18.827699"], ["updated_at", "2023-07-31 14:10:18.827699"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:14:55 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 1563.4ms | Allocations: 273028)
  Rendered layout layouts/application.html.erb (Duration: 1563.5ms | Allocations: 273066)
Completed 500 Internal Server Error in 1580ms (ActiveRecord: 0.1ms | Allocations: 302940)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:16:32 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 1336.1ms | Allocations: 71893)
  Rendered layout layouts/application.html.erb (Duration: 1336.3ms | Allocations: 71931)
Completed 500 Internal Server Error in 1352ms (ActiveRecord: 0.1ms | Allocations: 101805)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:16:50 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 1337.5ms | Allocations: 71827)
  Rendered layout layouts/application.html.erb (Duration: 1337.6ms | Allocations: 71865)
Completed 500 Internal Server Error in 1354ms (ActiveRecord: 0.1ms | Allocations: 101739)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:27:04 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1270.9ms | Allocations: 71876)
  Rendered layout layouts/application.html.erb (Duration: 1271.0ms | Allocations: 71914)
Completed 500 Internal Server Error in 1288ms (ActiveRecord: 0.2ms | Allocations: 101636)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2023-07-31 16:30:02 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 428.9ms | Allocations: 5470)
  Rendered layout layouts/application.html.erb (Duration: 429.1ms | Allocations: 5508)
Completed 500 Internal Server Error in 434ms (ActiveRecord: 0.0ms | Allocations: 12820)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:31:43 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1927.2ms | Allocations: 92562)
  Rendered layout layouts/application.html.erb (Duration: 1932.0ms | Allocations: 110311)
Completed 200 OK in 1949ms (Views: 1935.2ms | ActiveRecord: 0.1ms | Allocations: 140060)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:32:04 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1747)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1601.0ms | Allocations: 83453)
  Rendered layout layouts/application.html.erb (Duration: 1606.0ms | Allocations: 101228)
Completed 200 OK in 1620ms (Views: 1608.0ms | ActiveRecord: 0.2ms | Allocations: 130978)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:34:28 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1747)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1592.4ms | Allocations: 83010)
  Rendered layout layouts/application.html.erb (Duration: 1597.7ms | Allocations: 100785)
Completed 200 OK in 1621ms (Views: 1600.5ms | ActiveRecord: 0.2ms | Allocations: 130535)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:35:27 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.9ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1650.9ms | Allocations: 83079)
  Rendered layout layouts/application.html.erb (Duration: 1656.6ms | Allocations: 100825)
Completed 200 OK in 1678ms (Views: 1659.8ms | ActiveRecord: 0.2ms | Allocations: 130575)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:35:45 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1477.3ms | Allocations: 79562)
  Rendered layout layouts/application.html.erb (Duration: 1482.0ms | Allocations: 97308)
Completed 200 OK in 1498ms (Views: 1484.6ms | ActiveRecord: 0.1ms | Allocations: 127058)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:36:24 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1594.4ms | Allocations: 83205)
  Rendered layout layouts/application.html.erb (Duration: 1599.2ms | Allocations: 100951)
Completed 200 OK in 1616ms (Views: 1601.7ms | ActiveRecord: 0.1ms | Allocations: 130701)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:40:26 +0200
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1534.3ms | Allocations: 83250)
  Rendered layout layouts/application.html.erb (Duration: 1539.6ms | Allocations: 100996)
Completed 200 OK in 1556ms (Views: 1542.4ms | ActiveRecord: 0.1ms | Allocations: 130746)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$KZrum5X56ek5nIjf/QiMeOpk52G8paFguXOvuTIlM7ijb3aunHkL6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:45:37.706074"], ["updated_at", "2023-07-31 14:45:37.706074"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "8Ukk3zRWVSj9yXP85Te7"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:45:37.706205"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dl7uhmyiu7d1bg39295ko3vhjw8e"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:45:37.743720"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:45:37.744469"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:45:37.744909"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: dl7uhmyiu7d1bg39295ko3vhjw8e (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 190128d1-c584-4536-8033-ad10e12180ef) to Async(default) with arguments: #<GlobalID:0x000055bd2da9f2a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:45:37 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [190128d1-c584-4536-8033-ad10e12180ef]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [190128d1-c584-4536-8033-ad10e12180ef] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [190128d1-c584-4536-8033-ad10e12180ef] Performed ActiveStorage::AnalyzeJob (Job ID: 190128d1-c584-4536-8033-ad10e12180ef) from Async(default) in 14.44ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1517.7ms | Allocations: 83313)
  Rendered layout layouts/application.html.erb (Duration: 1522.6ms | Allocations: 101059)
Completed 200 OK in 1530ms (Views: 1524.9ms | ActiveRecord: 0.0ms | Allocations: 107181)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$RjlFSkuRkil/KUsz5f2udOrnWuaD7ft5Y6gAWNjwM0G65CXv6yyIS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:45:53.382863"], ["updated_at", "2023-07-31 14:45:53.382863"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "HEmtayC6FKZLegGLcCEH"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:45:53.382945"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3kz37yqjw1oi15mmdvy3223phl77"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:45:53.409492"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:45:53.410134"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:45:53.410643"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 3kz37yqjw1oi15mmdvy3223phl77 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 40d97897-3bb0-4752-9d80-e9de8363aa0d) to Async(default) with arguments: #<GlobalID:0x000055575ffe9be0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:45:53 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [40d97897-3bb0-4752-9d80-e9de8363aa0d]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [40d97897-3bb0-4752-9d80-e9de8363aa0d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [40d97897-3bb0-4752-9d80-e9de8363aa0d] Performed ActiveStorage::AnalyzeJob (Job ID: 40d97897-3bb0-4752-9d80-e9de8363aa0d) from Async(default) in 7.56ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1639.6ms | Allocations: 83373)
  Rendered layout layouts/application.html.erb (Duration: 1644.3ms | Allocations: 101119)
Completed 200 OK in 1652ms (Views: 1647.3ms | ActiveRecord: 0.0ms | Allocations: 107241)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$KewBlt6DGCDsEfjAWNxMJeZpuKSkC4oBRLBvNYpSM6kwAsuisK74a"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:46:39.116380"], ["updated_at", "2023-07-31 14:46:39.116380"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "rapsR27HzanqVHQEhs5B"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:46:39.116464"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "j22w8fiy0b42sughy7x355ih59fe"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:46:39.141705"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:46:39.142474"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:46:39.142939"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: j22w8fiy0b42sughy7x355ih59fe (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0b9a912e-1bf5-4c20-a4bc-3d70665d7e01) to Async(default) with arguments: #<GlobalID:0x00007f9db9449e00 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:46:39 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b9a912e-1bf5-4c20-a4bc-3d70665d7e01]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b9a912e-1bf5-4c20-a4bc-3d70665d7e01] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b9a912e-1bf5-4c20-a4bc-3d70665d7e01] Performed ActiveStorage::AnalyzeJob (Job ID: 0b9a912e-1bf5-4c20-a4bc-3d70665d7e01) from Async(default) in 7.31ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1630.5ms | Allocations: 83442)
  Rendered layout layouts/application.html.erb (Duration: 1635.5ms | Allocations: 101188)
Completed 200 OK in 1643ms (Views: 1638.1ms | ActiveRecord: 0.0ms | Allocations: 107310)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$z2ojwqKrHqqtj1lfJJtGAeN5BH2LRkGKbg57ocEsuOUmu2BTVLqxa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:46:55.847394"], ["updated_at", "2023-07-31 14:46:55.847394"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "GAzBe2U3TCDLsuvmPqvH"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:46:55.847481"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sqe8fnvrl5q6ogcsdony76v90dvz"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:46:55.872278"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:46:55.873472"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:46:55.874302"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: sqe8fnvrl5q6ogcsdony76v90dvz (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 26241ec3-fe05-4c6e-88a9-3fe44ccb2cda) to Async(default) with arguments: #<GlobalID:0x00005625c1014a90 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:46:55 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [26241ec3-fe05-4c6e-88a9-3fe44ccb2cda]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26241ec3-fe05-4c6e-88a9-3fe44ccb2cda] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [26241ec3-fe05-4c6e-88a9-3fe44ccb2cda] Performed ActiveStorage::AnalyzeJob (Job ID: 26241ec3-fe05-4c6e-88a9-3fe44ccb2cda) from Async(default) in 6.75ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1747)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1615.0ms | Allocations: 83510)
  Rendered layout layouts/application.html.erb (Duration: 1621.5ms | Allocations: 101285)
Completed 200 OK in 1628ms (Views: 1623.7ms | ActiveRecord: 0.0ms | Allocations: 107407)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:46:57 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$YSdQgc2Nwm102A23sZ1hpeiTmn5Gas.2hbCVB1VR0WN0T2aKnL0fS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:47:54.976991"], ["updated_at", "2023-07-31 14:47:54.976991"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "_HsBG4skzibJ2L9SxNes"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:47:54.977071"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "oimst81gsavou44m4fgwo3djhyiv"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:47:55.002871"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:47:55.003677"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:47:55.004683"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: oimst81gsavou44m4fgwo3djhyiv (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7bdfef35-3892-4e95-81a7-44b62e48cf64) to Async(default) with arguments: #<GlobalID:0x0000561adeefe850 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:47:55 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [7bdfef35-3892-4e95-81a7-44b62e48cf64]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7bdfef35-3892-4e95-81a7-44b62e48cf64] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [7bdfef35-3892-4e95-81a7-44b62e48cf64] Performed ActiveStorage::AnalyzeJob (Job ID: 7bdfef35-3892-4e95-81a7-44b62e48cf64) from Async(default) in 7.6ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1600.3ms | Allocations: 79995)
  Rendered layout layouts/application.html.erb (Duration: 1605.6ms | Allocations: 97741)
Completed 200 OK in 1613ms (Views: 1608.2ms | ActiveRecord: 0.0ms | Allocations: 103863)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:47:56 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.1ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$1ViOIHBu/1BYxT3sQmIIMepIU4OBzKdOVE6I4ZEmxYGaCCAf9oUdK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:49:14.222079"], ["updated_at", "2023-07-31 14:49:14.222079"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "L2E--iVHMC8jyGP4CjbV"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:49:14.222169"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "d0p4qdarch65f5c1evgy8q9rrh9z"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:49:14.253276"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:49:14.254182"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:49:14.254704"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: d0p4qdarch65f5c1evgy8q9rrh9z (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 00c4cd90-e4ef-40d9-af52-0b6a842f2f8a) to Async(default) with arguments: #<GlobalID:0x00007f8dbcc833a8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:49:14 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [00c4cd90-e4ef-40d9-af52-0b6a842f2f8a]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00c4cd90-e4ef-40d9-af52-0b6a842f2f8a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [00c4cd90-e4ef-40d9-af52-0b6a842f2f8a] Performed ActiveStorage::AnalyzeJob (Job ID: 00c4cd90-e4ef-40d9-af52-0b6a842f2f8a) from Async(default) in 7.67ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1747)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1757.0ms | Allocations: 83620)
  Rendered layout layouts/application.html.erb (Duration: 1762.5ms | Allocations: 101395)
Completed 200 OK in 1770ms (Views: 1764.9ms | ActiveRecord: 0.0ms | Allocations: 107517)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:49:16 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$gLAQCHGvLqSMwD.iBhJgYOzujV4KKjkXHVtRnqJ/W0O7.kKOIWvmy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:49:51.956533"], ["updated_at", "2023-07-31 14:49:51.956533"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "symvJdthyda7ZhjDnVA8"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:49:51.956612"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ip2o3vtatvmh48t7uknsthh45dwa"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:49:51.989428"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:49:51.990192"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:49:51.990853"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: ip2o3vtatvmh48t7uknsthh45dwa (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 297102a7-b46e-446d-845b-029fe356a692) to Async(default) with arguments: #<GlobalID:0x0000558213c96f68 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:49:51 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [297102a7-b46e-446d-845b-029fe356a692]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [297102a7-b46e-446d-845b-029fe356a692] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [297102a7-b46e-446d-845b-029fe356a692] Performed ActiveStorage::AnalyzeJob (Job ID: 297102a7-b46e-446d-845b-029fe356a692) from Async(default) in 9.05ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1584.3ms | Allocations: 83687)
  Rendered layout layouts/application.html.erb (Duration: 1589.1ms | Allocations: 101422)
Completed 200 OK in 1596ms (Views: 1591.8ms | ActiveRecord: 0.0ms | Allocations: 107544)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:49:53 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.3ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 5313)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$EpcTSB8R7r4JqDn77hbJg.qLSswKmB8sj3Udqj1s0fJAB1Qt/S.0m"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:57:07.617308"], ["updated_at", "2023-07-31 14:57:07.617308"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "8_e9YCy5-5TN6zxrq-Aw"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:57:07.617396"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0x1twoxcfl6i4zgszu1pa7rlyzlr"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:57:07.641966"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:57:07.642684"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:57:07.643122"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: 0x1twoxcfl6i4zgszu1pa7rlyzlr (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 316dd14e-c30a-4064-a047-0f4a0edb170a) to Async(default) with arguments: #<GlobalID:0x000055ebbf8aad58 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:57:07 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [316dd14e-c30a-4064-a047-0f4a0edb170a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [316dd14e-c30a-4064-a047-0f4a0edb170a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [316dd14e-c30a-4064-a047-0f4a0edb170a] Performed ActiveStorage::AnalyzeJob (Job ID: 316dd14e-c30a-4064-a047-0f4a0edb170a) from Async(default) in 7.85ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1556.3ms | Allocations: 80169)
  Rendered layout layouts/application.html.erb (Duration: 1561.4ms | Allocations: 97944)
Completed 200 OK in 1568ms (Views: 1563.7ms | ActiveRecord: 0.0ms | Allocations: 104065)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:57:09 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$x9SA.v88Y3jaYZA/UVEpPerdZwhyYmo1lLWLap7yQMdaiHb9s9wJq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 14:58:28.487743"], ["updated_at", "2023-07-31 14:58:28.487743"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "8b43CeH4XCz3KpwXLrxY"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 14:58:28.487835"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vv8d9fyghtpu5swkb6sc2ggrnqdf"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 14:58:28.520552"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 14:58:28.521401"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 14:58:28.521968"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: vv8d9fyghtpu5swkb6sc2ggrnqdf (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5f0603ae-1e46-4f15-92fd-e88f1716f2f5) to Async(default) with arguments: #<GlobalID:0x00005592c36d60e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 16:58:28 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [5f0603ae-1e46-4f15-92fd-e88f1716f2f5]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5f0603ae-1e46-4f15-92fd-e88f1716f2f5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [5f0603ae-1e46-4f15-92fd-e88f1716f2f5] Performed ActiveStorage::AnalyzeJob (Job ID: 5f0603ae-1e46-4f15-92fd-e88f1716f2f5) from Async(default) in 7.2ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1835.2ms | Allocations: 83831)
  Rendered layout layouts/application.html.erb (Duration: 1839.9ms | Allocations: 101606)
Completed 200 OK in 1847ms (Views: 1842.1ms | ActiveRecord: 0.0ms | Allocations: 107727)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 16:58:30 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.0ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$RFeLmS25FjMriYjRrQhZAuR08f.U.3tdaUfC.x1Kjk1juy9AoUG1e"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:00:03.272389"], ["updated_at", "2023-07-31 15:00:03.272389"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "ekoHEPPCtGYNLjjF2oS7"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:00:03.272474"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ok11t0dp0rvpeor0bcw2d6q0v3eb"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:00:03.306320"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:00:03.307103"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:00:03.307603"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: ok11t0dp0rvpeor0bcw2d6q0v3eb (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f9abb011-012f-4e83-92ba-879ff1b8e62e) to Async(default) with arguments: #<GlobalID:0x0000558dbb73a0e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:00:03 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9abb011-012f-4e83-92ba-879ff1b8e62e]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9abb011-012f-4e83-92ba-879ff1b8e62e] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9abb011-012f-4e83-92ba-879ff1b8e62e] Performed ActiveStorage::AnalyzeJob (Job ID: f9abb011-012f-4e83-92ba-879ff1b8e62e) from Async(default) in 7.34ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2686.2ms | Allocations: 83875)
  Rendered layout layouts/application.html.erb (Duration: 2691.3ms | Allocations: 101650)
Completed 200 OK in 2699ms (Views: 2693.6ms | ActiveRecord: 0.0ms | Allocations: 107771)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:00:06 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$l14IEG6KJ8qdCI9A/GDxSeuUN34k0v9kuNglYrCNAUkaa4lXn1ubq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:01:25.662774"], ["updated_at", "2023-07-31 15:01:25.662774"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "sJFbSEyBFzz2AVDirKnz"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:01:25.662860"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5bw8ctmh3ewhpqj7jggeopg2f0lm"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:01:25.695987"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:01:25.696803"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:01:25.697293"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 5bw8ctmh3ewhpqj7jggeopg2f0lm (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a1063e13-11fd-4ffd-a1b3-46ec5f9963ef) to Async(default) with arguments: #<GlobalID:0x0000561e7f716878 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:01:25 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1063e13-11fd-4ffd-a1b3-46ec5f9963ef]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1063e13-11fd-4ffd-a1b3-46ec5f9963ef] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1063e13-11fd-4ffd-a1b3-46ec5f9963ef] Performed ActiveStorage::AnalyzeJob (Job ID: a1063e13-11fd-4ffd-a1b3-46ec5f9963ef) from Async(default) in 7.31ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2013.0ms | Allocations: 83909)
  Rendered layout layouts/application.html.erb (Duration: 2017.8ms | Allocations: 101655)
Completed 200 OK in 2038ms (Views: 2021.0ms | ActiveRecord: 0.0ms | Allocations: 107777)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:01:27 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.7ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 5313)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$mTyUuBDx0y5LF63u42wE3OyNpB46GYyTEnG5dc/KQUTT6g1sXR.zq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:06:38.647496"], ["updated_at", "2023-07-31 15:06:38.647496"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "aNByJTB-U-HCD68Vtmht"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:06:38.647570"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wdop4pt7qh585kkket6shz4l3q3j"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:06:38.671669"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:06:38.672363"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:06:38.672794"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: wdop4pt7qh585kkket6shz4l3q3j (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d2317f70-7139-4a6c-acfc-6553d282663a) to Async(default) with arguments: #<GlobalID:0x000056290e11ba10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:06:38 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2317f70-7139-4a6c-acfc-6553d282663a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2317f70-7139-4a6c-acfc-6553d282663a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [d2317f70-7139-4a6c-acfc-6553d282663a] Performed ActiveStorage::AnalyzeJob (Job ID: d2317f70-7139-4a6c-acfc-6553d282663a) from Async(default) in 7.86ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2043.6ms | Allocations: 83977)
  Rendered layout layouts/application.html.erb (Duration: 2048.5ms | Allocations: 101723)
Completed 200 OK in 2066ms (Views: 2060.7ms | ActiveRecord: 0.0ms | Allocations: 107845)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:06:40 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$MklRXAj7g.PsRUJJu5dWkeNZ.tBLj3maneuQFvyzSg0EKnLE5d.va"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:07:10.297719"], ["updated_at", "2023-07-31 15:07:10.297719"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "s6_Wgho5XLLLecgCqbjk"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:07:10.297806"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "brse9bsssohmk460hbuh2fupq0pa"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:07:10.329538"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:07:10.330402"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:07:10.330942"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: brse9bsssohmk460hbuh2fupq0pa (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9c09f730-70ff-44d8-bf4c-0ae5b1004a1a) to Async(default) with arguments: #<GlobalID:0x00005622a04836b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:07:10 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c09f730-70ff-44d8-bf4c-0ae5b1004a1a]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c09f730-70ff-44d8-bf4c-0ae5b1004a1a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c09f730-70ff-44d8-bf4c-0ae5b1004a1a] Performed ActiveStorage::AnalyzeJob (Job ID: 9c09f730-70ff-44d8-bf4c-0ae5b1004a1a) from Async(default) in 7.48ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1510.7ms | Allocations: 80455)
  Rendered layout layouts/application.html.erb (Duration: 1516.0ms | Allocations: 98201)
Completed 200 OK in 1523ms (Views: 1518.3ms | ActiveRecord: 0.0ms | Allocations: 104323)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:07:11 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$qVcwKaBJy2Puzsg6iTKElOfOaX.qJSi2Cj/hia/1v5kI3ovzS32NC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:07:30.714250"], ["updated_at", "2023-07-31 15:07:30.714250"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Afdp9o1Smka_vSMzUfXx"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:07:30.714335"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "u1ge5j3zp8ixm408fj8xprhysahi"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:07:30.738228"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:07:30.738859"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:07:30.739383"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: u1ge5j3zp8ixm408fj8xprhysahi (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e2dc7dc6-1771-47f7-97d6-cb2c5deb37f5) to Async(default) with arguments: #<GlobalID:0x00005646e03fce88 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:07:30 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2dc7dc6-1771-47f7-97d6-cb2c5deb37f5]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2dc7dc6-1771-47f7-97d6-cb2c5deb37f5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2dc7dc6-1771-47f7-97d6-cb2c5deb37f5] Performed ActiveStorage::AnalyzeJob (Job ID: e2dc7dc6-1771-47f7-97d6-cb2c5deb37f5) from Async(default) in 6.97ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1653.9ms | Allocations: 84096)
  Rendered layout layouts/application.html.erb (Duration: 1659.0ms | Allocations: 101842)
Completed 200 OK in 1667ms (Views: 1661.5ms | ActiveRecord: 0.0ms | Allocations: 107964)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:07:32 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.1ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 5313)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$2ArEeKOWtrZZyDZPgaSmIecHqY1KHrI.8y2iOCdxDPnJZhyGEhykm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:08:35.870965"], ["updated_at", "2023-07-31 15:08:35.870965"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "V6rjTM9Lsnf6EQxhVqHb"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:08:35.871040"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3t5ihdwzqevm58vzl81o9vrpgh28"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:08:35.917948"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:08:35.919086"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:08:35.919931"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 3t5ihdwzqevm58vzl81o9vrpgh28 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f6d6cd6d-cb09-4c41-93a8-781f03d5218b) to Async(default) with arguments: #<GlobalID:0x000055ff55f58570 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:08:35 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [f6d6cd6d-cb09-4c41-93a8-781f03d5218b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f6d6cd6d-cb09-4c41-93a8-781f03d5218b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f6d6cd6d-cb09-4c41-93a8-781f03d5218b] Performed ActiveStorage::AnalyzeJob (Job ID: f6d6cd6d-cb09-4c41-93a8-781f03d5218b) from Async(default) in 8.23ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1630.8ms | Allocations: 84157)
  Rendered layout layouts/application.html.erb (Duration: 1636.0ms | Allocations: 101932)
Completed 200 OK in 1643ms (Views: 1638.3ms | ActiveRecord: 0.0ms | Allocations: 108054)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:08:37 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.1ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$yvvHg2IXhXMvdCSjUm9x0ecPmR.Zuekd.JjvXLxK6lkVD/ji.5Cri"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:10:25.992396"], ["updated_at", "2023-07-31 15:10:25.992396"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Nerm7tHgTibqCL9ZRaDB"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:10:25.992482"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "t1jx06cldif151oxveh0k507pjbr"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:10:26.023952"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:10:26.024607"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:10:26.025045"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: t1jx06cldif151oxveh0k507pjbr (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 25778a49-d1a3-417a-98c7-1dac17db7365) to Async(default) with arguments: #<GlobalID:0x0000564564a8dc70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:10:26 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [25778a49-d1a3-417a-98c7-1dac17db7365]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [25778a49-d1a3-417a-98c7-1dac17db7365] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [25778a49-d1a3-417a-98c7-1dac17db7365] Performed ActiveStorage::AnalyzeJob (Job ID: 25778a49-d1a3-417a-98c7-1dac17db7365) from Async(default) in 7.39ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1630.4ms | Allocations: 84228)
  Rendered layout layouts/application.html.erb (Duration: 1642.7ms | Allocations: 102003)
Completed 200 OK in 1650ms (Views: 1645.3ms | ActiveRecord: 0.0ms | Allocations: 108125)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:10:27 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$Xu1UqX35VpEGwsSokGDGjOaqfLVP7ueouwzHUyXgXYMaomEb1PWQC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:11:38.798726"], ["updated_at", "2023-07-31 15:11:38.798726"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zu2eCQsd44uz__pGg_Kf"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:11:38.798804"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4ykkpe62k734akwslx0q0u3alp6f"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:11:38.853520"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:11:38.854474"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:11:38.855033"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 4ykkpe62k734akwslx0q0u3alp6f (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8d7a41a3-03d5-4b4d-a038-3fb519298561) to Async(default) with arguments: #<GlobalID:0x000055a7e7c7db18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:11:38 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d7a41a3-03d5-4b4d-a038-3fb519298561]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d7a41a3-03d5-4b4d-a038-3fb519298561] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d7a41a3-03d5-4b4d-a038-3fb519298561] Performed ActiveStorage::AnalyzeJob (Job ID: 8d7a41a3-03d5-4b4d-a038-3fb519298561) from Async(default) in 13.14ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1743)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1578.7ms | Allocations: 80701)
  Rendered layout layouts/application.html.erb (Duration: 1586.9ms | Allocations: 98447)
Completed 200 OK in 1594ms (Views: 1589.5ms | ActiveRecord: 0.0ms | Allocations: 104569)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:11:40 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$yOuqPBCtqBii5KG8suAy4u0ef801/YDohNGgPKMUPYsiILf10FULm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:14:37.475923"], ["updated_at", "2023-07-31 15:14:37.475923"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "mofosa4As_S8uE6xEjDq"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:14:37.476026"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w7xznwg5wdx34s8j1m9kr4v4loyp"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:14:37.512816"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:14:37.513518"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:14:37.514045"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: w7xznwg5wdx34s8j1m9kr4v4loyp (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f05787b8-98b6-4558-985a-bd73e94e5aff) to Async(default) with arguments: #<GlobalID:0x00007f9558da2970 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:14:37 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [f05787b8-98b6-4558-985a-bd73e94e5aff]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f05787b8-98b6-4558-985a-bd73e94e5aff] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f05787b8-98b6-4558-985a-bd73e94e5aff] Performed ActiveStorage::AnalyzeJob (Job ID: f05787b8-98b6-4558-985a-bd73e94e5aff) from Async(default) in 8.15ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1603.1ms | Allocations: 84347)
  Rendered layout layouts/application.html.erb (Duration: 1608.1ms | Allocations: 102122)
Completed 200 OK in 1614ms (Views: 1610.1ms | ActiveRecord: 0.0ms | Allocations: 108244)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:14:39 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$D.5VZBNRwEXHmojiICkhFOu9QMRF66cIxdYzoGvs5FQN0buEj61LK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:18:43.759950"], ["updated_at", "2023-07-31 15:18:43.759950"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "B4wiGM_fFWG5e14cWs2S"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:18:43.760031"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2f2rbd1wedcfiwxf7esxt8ko8jo0"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:18:43.798342"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:18:43.799133"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:18:43.799682"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 2f2rbd1wedcfiwxf7esxt8ko8jo0 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6ed7cb8c-c57f-40f3-8e8c-ea75b5b9de32) to Async(default) with arguments: #<GlobalID:0x00007fe184a94c38 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:18:43 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed7cb8c-c57f-40f3-8e8c-ea75b5b9de32]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed7cb8c-c57f-40f3-8e8c-ea75b5b9de32] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed7cb8c-c57f-40f3-8e8c-ea75b5b9de32] Performed ActiveStorage::AnalyzeJob (Job ID: 6ed7cb8c-c57f-40f3-8e8c-ea75b5b9de32) from Async(default) in 7.51ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1579.8ms | Allocations: 84408)
  Rendered layout layouts/application.html.erb (Duration: 1586.4ms | Allocations: 102176)
Completed 200 OK in 1594ms (Views: 1588.9ms | ActiveRecord: 0.0ms | Allocations: 108298)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:18:45 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.9ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 5313)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$qrPFfOdQqJPZJz5ShfNQJuRUNQUu7yw8oNFPqJlToKKr6B27/IG2q"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:19:43.818774"], ["updated_at", "2023-07-31 15:19:43.818774"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zYis9Y8M7tFtPcVoqoG8"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:19:43.818866"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vvtbptpdaxzkdgv5m5qg6gskfsuq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:19:43.843387"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:19:43.844217"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:19:43.844702"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: vvtbptpdaxzkdgv5m5qg6gskfsuq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 395e1370-6bfe-43e4-bb08-dbfb3c0a6f05) to Async(default) with arguments: #<GlobalID:0x000055fdbff9a8e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:19:43 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [395e1370-6bfe-43e4-bb08-dbfb3c0a6f05]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [395e1370-6bfe-43e4-bb08-dbfb3c0a6f05] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [395e1370-6bfe-43e4-bb08-dbfb3c0a6f05] Performed ActiveStorage::AnalyzeJob (Job ID: 395e1370-6bfe-43e4-bb08-dbfb3c0a6f05) from Async(default) in 8.73ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1727.3ms | Allocations: 84471)
  Rendered layout layouts/application.html.erb (Duration: 1732.6ms | Allocations: 102246)
Completed 200 OK in 1739ms (Views: 1734.8ms | ActiveRecord: 0.0ms | Allocations: 108367)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:19:45 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$WjSSuP7mVhnmE/W2BCWvUOhLEVH6MgZ7cl1zvq2YA8Pj48Q6X6lL6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:20:51.582189"], ["updated_at", "2023-07-31 15:20:51.582189"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zz2yd-rKyXxhSMjyrfit"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:20:51.582296"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "lq46zpt57q20e32lv9lwsixgthpv"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:20:51.620240"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:20:51.620907"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:20:51.621387"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: lq46zpt57q20e32lv9lwsixgthpv (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a9a26034-1e78-48ce-854c-8f6801da25f1) to Async(default) with arguments: #<GlobalID:0x00005586bbb60610 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:20:51 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9a26034-1e78-48ce-854c-8f6801da25f1]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9a26034-1e78-48ce-854c-8f6801da25f1] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9a26034-1e78-48ce-854c-8f6801da25f1] Performed ActiveStorage::AnalyzeJob (Job ID: a9a26034-1e78-48ce-854c-8f6801da25f1) from Async(default) in 7.27ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1775.6ms | Allocations: 84517)
  Rendered layout layouts/application.html.erb (Duration: 1781.1ms | Allocations: 102292)
Completed 200 OK in 1789ms (Views: 1783.8ms | ActiveRecord: 0.0ms | Allocations: 108414)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:20:53 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$P5/IHKMwgTtJ/AlTQ80amuwnJKtgUA3zJXDP7/Wdd8Q3MYNR.X1mO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:22:08.978363"], ["updated_at", "2023-07-31 15:22:08.978363"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "qH8gwKCuysnpXkMkfPpY"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:22:08.978440"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zxo8xug2wx0511fywu1ysg9xuw09"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:22:09.027551"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:22:09.028830"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:22:09.029404"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (9.3ms) [0m[32mUploaded file to key: zxo8xug2wx0511fywu1ysg9xuw09 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b3438233-4d35-478e-a5e5-27801d2c078b) to Async(default) with arguments: #<GlobalID:0x00007fda94f2a2a8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:22:09 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3438233-4d35-478e-a5e5-27801d2c078b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3438233-4d35-478e-a5e5-27801d2c078b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3438233-4d35-478e-a5e5-27801d2c078b] Performed ActiveStorage::AnalyzeJob (Job ID: b3438233-4d35-478e-a5e5-27801d2c078b) from Async(default) in 7.32ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 7.3ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1553.7ms | Allocations: 81003)
  Rendered layout layouts/application.html.erb (Duration: 1559.9ms | Allocations: 98749)
Completed 200 OK in 1567ms (Views: 1562.4ms | ActiveRecord: 0.0ms | Allocations: 104871)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:22:10 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.1ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5313)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$sY72Zy.BqXPUSIYs.wxV6.uFbrCV6E3wVnxYSGDy43D9na3LzRmYi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:22:38.836430"], ["updated_at", "2023-07-31 15:22:38.836430"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "QJjTvNiqmxZ5xQmyncFc"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:22:38.836561"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rca9gtpapbyr3cskobeqamxutgqc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:22:38.884074"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:22:38.884839"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:22:38.885444"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: rca9gtpapbyr3cskobeqamxutgqc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bd2ab6f4-2583-4b57-a1d5-73e73ce93d92) to Async(default) with arguments: #<GlobalID:0x000055e268ae7450 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:22:38 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd2ab6f4-2583-4b57-a1d5-73e73ce93d92]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd2ab6f4-2583-4b57-a1d5-73e73ce93d92] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [bd2ab6f4-2583-4b57-a1d5-73e73ce93d92] Performed ActiveStorage::AnalyzeJob (Job ID: bd2ab6f4-2583-4b57-a1d5-73e73ce93d92) from Async(default) in 10.3ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1737.4ms | Allocations: 84658)
  Rendered layout layouts/application.html.erb (Duration: 1742.2ms | Allocations: 102433)
Completed 200 OK in 1750ms (Views: 1744.7ms | ActiveRecord: 0.0ms | Allocations: 108555)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:22:40 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$hmXJHh/41SYbDAZX.ySq1.4rk7.1trTvKJbuNU9UqsuBqUtDI6wCi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:23:07.862613"], ["updated_at", "2023-07-31 15:23:07.862613"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "2ZsyxxAHYz7PcuqP7ufs"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:23:07.862699"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uy23nkumd8l4azzndqc17ljv42m1"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:23:07.897626"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:23:07.898344"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:23:07.898820"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: uy23nkumd8l4azzndqc17ljv42m1 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 668bb29f-7254-400b-8e28-54714b2f4cf4) to Async(default) with arguments: #<GlobalID:0x0000558715594858 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:23:07 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [668bb29f-7254-400b-8e28-54714b2f4cf4]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [668bb29f-7254-400b-8e28-54714b2f4cf4] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [668bb29f-7254-400b-8e28-54714b2f4cf4] Performed ActiveStorage::AnalyzeJob (Job ID: 668bb29f-7254-400b-8e28-54714b2f4cf4) from Async(default) in 7.89ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1677.1ms | Allocations: 84707)
  Rendered layout layouts/application.html.erb (Duration: 1681.8ms | Allocations: 102482)
Completed 200 OK in 1689ms (Views: 1684.3ms | ActiveRecord: 0.0ms | Allocations: 108604)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:23:09 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$bs7.ypDm0IKdvo/oL4ot7O44mdHFOjfJ23YNDvxdKKX9U4pKADmzW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:23:58.640636"], ["updated_at", "2023-07-31 15:23:58.640636"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "FJg2GfGUrjZyLUv8do79"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:23:58.640738"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7vi9e4o34neezeqde5vlk3v6sdxl"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:23:58.675732"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:23:58.676427"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:23:58.677017"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 7vi9e4o34neezeqde5vlk3v6sdxl (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 981c46a1-6714-4c5d-9ef6-5b6f5ed05ba6) to Async(default) with arguments: #<GlobalID:0x00005615664f5f70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:23:58 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [981c46a1-6714-4c5d-9ef6-5b6f5ed05ba6]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [981c46a1-6714-4c5d-9ef6-5b6f5ed05ba6] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [981c46a1-6714-4c5d-9ef6-5b6f5ed05ba6] Performed ActiveStorage::AnalyzeJob (Job ID: 981c46a1-6714-4c5d-9ef6-5b6f5ed05ba6) from Async(default) in 7.99ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1582.9ms | Allocations: 81183)
  Rendered layout layouts/application.html.erb (Duration: 1588.3ms | Allocations: 98929)
Completed 200 OK in 1596ms (Views: 1591.0ms | ActiveRecord: 0.0ms | Allocations: 105051)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:24:00 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5313)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$0ESXux2qVzuAmELWtkK5d.q8X8InYXNGqmhEWA.Dz50K0CDNR0cs."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:24:09.433393"], ["updated_at", "2023-07-31 15:24:09.433393"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "gkS-aLzD2BYXmzcvsW-u"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:24:09.433478"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bl0nj6yenqbccplxf2h6p948pc9a"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:24:09.470162"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:24:09.470929"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:24:09.471515"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: bl0nj6yenqbccplxf2h6p948pc9a (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 01b0a7cc-c74c-4a5c-8544-94913ac13578) to Async(default) with arguments: #<GlobalID:0x00005596fd874968 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:24:09 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [01b0a7cc-c74c-4a5c-8544-94913ac13578]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [01b0a7cc-c74c-4a5c-8544-94913ac13578] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [01b0a7cc-c74c-4a5c-8544-94913ac13578] Performed ActiveStorage::AnalyzeJob (Job ID: 01b0a7cc-c74c-4a5c-8544-94913ac13578) from Async(default) in 9.18ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1634.7ms | Allocations: 84832)
  Rendered layout layouts/application.html.erb (Duration: 1641.2ms | Allocations: 102607)
Completed 200 OK in 1650ms (Views: 1644.5ms | ActiveRecord: 0.0ms | Allocations: 108729)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:24:11 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$/8qsgWC2gDqfRvXjvUCCHO37wYYKpCkxsjQH0vBWVwQng0ievYVWq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:24:50.788865"], ["updated_at", "2023-07-31 15:24:50.788865"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "z5esmzLwxr3exQ-zQZ6k"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:24:50.788949"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "noaunrjbhy0rl25shqqmmo0yqzqi"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:24:50.830522"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:24:50.831591"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:24:50.832349"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: noaunrjbhy0rl25shqqmmo0yqzqi (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ba810ec6-4da3-4c71-97b1-3f433b04ab4b) to Async(default) with arguments: #<GlobalID:0x00007f50dc7b0258 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:24:50 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba810ec6-4da3-4c71-97b1-3f433b04ab4b]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba810ec6-4da3-4c71-97b1-3f433b04ab4b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba810ec6-4da3-4c71-97b1-3f433b04ab4b] Performed ActiveStorage::AnalyzeJob (Job ID: ba810ec6-4da3-4c71-97b1-3f433b04ab4b) from Async(default) in 10.08ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1723.3ms | Allocations: 84890)
  Rendered layout layouts/application.html.erb (Duration: 1729.1ms | Allocations: 102658)
Completed 200 OK in 1739ms (Views: 1732.8ms | ActiveRecord: 0.0ms | Allocations: 108781)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:24:52 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 5313)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$cAZZ6i/fczRHkxYTWyS95uqRNJGQEwM3PnLXF5cxSMcBS0fTQ/zUC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:25:10.645587"], ["updated_at", "2023-07-31 15:25:10.645587"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "M1xuS7GN_kv3nMizFc6d"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:25:10.645688"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "izs03j9mya0hzrpri0epyn2jydnz"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:25:10.690116"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:25:10.690950"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:25:10.691491"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: izs03j9mya0hzrpri0epyn2jydnz (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 73430d42-f9b2-4685-89f1-c76e1aa3271b) to Async(default) with arguments: #<GlobalID:0x0000558c44765f18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:25:10 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [73430d42-f9b2-4685-89f1-c76e1aa3271b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [73430d42-f9b2-4685-89f1-c76e1aa3271b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [73430d42-f9b2-4685-89f1-c76e1aa3271b] Performed ActiveStorage::AnalyzeJob (Job ID: 73430d42-f9b2-4685-89f1-c76e1aa3271b) from Async(default) in 8.89ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1607.1ms | Allocations: 84952)
  Rendered layout layouts/application.html.erb (Duration: 1612.2ms | Allocations: 102727)
Completed 200 OK in 1619ms (Views: 1614.7ms | ActiveRecord: 0.0ms | Allocations: 108849)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:25:12 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$tYuGSLOUFzHbbirRswpvyOM.mWisBV3zp8i/2XxcnSspXKd6l0c6i"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:26:41.890542"], ["updated_at", "2023-07-31 15:26:41.890542"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "9k2f9MydUPjDA_gVU3xu"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:26:41.890630"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z0ri5kyejhj471me5zme46dy5or9"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:26:41.927129"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:26:41.927800"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:26:41.928246"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: z0ri5kyejhj471me5zme46dy5or9 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 25ac9988-22c4-4377-a4e1-1d2bc72c0030) to Async(default) with arguments: #<GlobalID:0x00007f06e8d2fb18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:26:41 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [25ac9988-22c4-4377-a4e1-1d2bc72c0030]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [25ac9988-22c4-4377-a4e1-1d2bc72c0030] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [25ac9988-22c4-4377-a4e1-1d2bc72c0030] Performed ActiveStorage::AnalyzeJob (Job ID: 25ac9988-22c4-4377-a4e1-1d2bc72c0030) from Async(default) in 7.52ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1515.4ms | Allocations: 81417)
  Rendered layout layouts/application.html.erb (Duration: 1520.3ms | Allocations: 99162)
Completed 200 OK in 1528ms (Views: 1522.7ms | ActiveRecord: 0.0ms | Allocations: 105284)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:26:43 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.0ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms | Allocations: 6320)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$NXoCT3wmWWkDBMMcBNoCWOscDJ.r6jkyfRtfqMhpORX.aKpFVsGeS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:27:01.720505"], ["updated_at", "2023-07-31 15:27:01.720505"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "oXxnW-tcmzifUa7e7Ksi"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:27:01.720593"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3lek65vd8kmljjrizgjtie01k5ub"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:27:01.798580"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:27:01.799233"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:27:01.799681"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 3lek65vd8kmljjrizgjtie01k5ub (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7300dd8d-9ff0-4847-8b34-eb89b554a552) to Async(default) with arguments: #<GlobalID:0x000055b40a738b60 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:27:01 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [7300dd8d-9ff0-4847-8b34-eb89b554a552]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7300dd8d-9ff0-4847-8b34-eb89b554a552] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [7300dd8d-9ff0-4847-8b34-eb89b554a552] Performed ActiveStorage::AnalyzeJob (Job ID: 7300dd8d-9ff0-4847-8b34-eb89b554a552) from Async(default) in 7.67ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1669.9ms | Allocations: 85066)
  Rendered layout layouts/application.html.erb (Duration: 1674.7ms | Allocations: 102840)
Completed 200 OK in 1682ms (Views: 1677.0ms | ActiveRecord: 0.0ms | Allocations: 108962)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:27:03 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 6320)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:27:03 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3615)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 5710)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.3ms | Allocations: 6551)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$gt3c9KBuymH0to81mHf37.Bl.8NQ1.Nfx/qjaWS3hxI7SN5qFPOBW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:28:05.771671"], ["updated_at", "2023-07-31 15:28:05.771671"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Ssc_-aPxu3XjyuESh5FG"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:28:05.771754"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "orzkzj85uoudw5yl1sfiwvbfl6bo"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:28:05.813936"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:28:05.814696"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:28:05.815174"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: orzkzj85uoudw5yl1sfiwvbfl6bo (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 76904a98-0dfa-42ff-9d09-5957a410336c) to Async(default) with arguments: #<GlobalID:0x000055b40929b040 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:28:05 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [76904a98-0dfa-42ff-9d09-5957a410336c]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [76904a98-0dfa-42ff-9d09-5957a410336c] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [76904a98-0dfa-42ff-9d09-5957a410336c] Performed ActiveStorage::AnalyzeJob (Job ID: 76904a98-0dfa-42ff-9d09-5957a410336c) from Async(default) in 7.63ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1718.7ms | Allocations: 85126)
  Rendered layout layouts/application.html.erb (Duration: 1724.1ms | Allocations: 102894)
Completed 200 OK in 1731ms (Views: 1726.6ms | ActiveRecord: 0.0ms | Allocations: 109016)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:28:07 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms | Allocations: 6320)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:28:07 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3608)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 5703)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms | Allocations: 6544)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$7e6Tl7bHF2hC3rS.RRwrnOuiC7jUoctb8fWzXhLqm/pfjHQQUpiXq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:29:24.066858"], ["updated_at", "2023-07-31 15:29:24.066858"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "dyCmRGNdrkpcyJ_LY7AN"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:29:24.066996"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0idjq1c8l9kwxs7l1lwqlwtsl7ij"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:29:24.104269"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:29:24.105045"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:29:24.105534"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: 0idjq1c8l9kwxs7l1lwqlwtsl7ij (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6d2501fd-0af6-4f44-afce-41cb24c3cdbb) to Async(default) with arguments: #<GlobalID:0x0000563b6e3cad20 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:29:24 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d2501fd-0af6-4f44-afce-41cb24c3cdbb]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d2501fd-0af6-4f44-afce-41cb24c3cdbb] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6d2501fd-0af6-4f44-afce-41cb24c3cdbb] Performed ActiveStorage::AnalyzeJob (Job ID: 6d2501fd-0af6-4f44-afce-41cb24c3cdbb) from Async(default) in 8.24ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1758.5ms | Allocations: 85197)
  Rendered layout layouts/application.html.erb (Duration: 1764.1ms | Allocations: 102971)
Completed 200 OK in 1772ms (Views: 1766.8ms | ActiveRecord: 0.0ms | Allocations: 109093)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:29:25 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.8ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 6320)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:29:25 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3623)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5718)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.3ms | Allocations: 6559)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$OVvRz74WswVY4JSC/YhMjOdge8AhvHe5/IWMroZ3knCWOvfOS5hiS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:30:16.984079"], ["updated_at", "2023-07-31 15:30:16.984079"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "tP5yTydUcpN8VaZMSX_T"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:30:16.984184"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ih0ixunshfurejnbou5qk6jhuzhc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:30:17.021651"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:30:17.022510"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:30:17.022965"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.2ms) [0m[32mUploaded file to key: ih0ixunshfurejnbou5qk6jhuzhc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 00bac38b-5a93-4a16-846a-cb7cb5c993d1) to Async(default) with arguments: #<GlobalID:0x0000562ccdcbb740 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:30:17 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [00bac38b-5a93-4a16-846a-cb7cb5c993d1]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [00bac38b-5a93-4a16-846a-cb7cb5c993d1] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [00bac38b-5a93-4a16-846a-cb7cb5c993d1] Performed ActiveStorage::AnalyzeJob (Job ID: 00bac38b-5a93-4a16-846a-cb7cb5c993d1) from Async(default) in 18.69ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 1745)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2021.7ms | Allocations: 85291)
  Rendered layout layouts/application.html.erb (Duration: 2026.6ms | Allocations: 103058)
Completed 200 OK in 2034ms (Views: 2029.0ms | ActiveRecord: 0.0ms | Allocations: 109180)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:30:19 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 5313)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms | Allocations: 6320)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:30:19 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3621)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 5716)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.3ms | Allocations: 6557)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:30:19 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1664)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 3745)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 3966)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$XZK54JST6IdpXLlXa9Znx..uH9ylsJG8vELdGLsISaiDPAVh5WetC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:31:04.866812"], ["updated_at", "2023-07-31 15:31:04.866812"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "e7afVhXNhiUp-qPRhcwV"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:31:04.866890"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bqd9pwhusw52nlnue3f16kr3fyny"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:31:04.904817"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:31:04.905972"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:31:04.906766"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: bqd9pwhusw52nlnue3f16kr3fyny (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4fa3be19-04d0-4b1f-8255-cbe5a613b27b) to Async(default) with arguments: #<GlobalID:0x000055c1f8fb1048 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signin" for 127.0.0.1 at 2023-07-31 17:31:04 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fa3be19-04d0-4b1f-8255-cbe5a613b27b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fa3be19-04d0-4b1f-8255-cbe5a613b27b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [4fa3be19-04d0-4b1f-8255-cbe5a613b27b] Performed ActiveStorage::AnalyzeJob (Job ID: 4fa3be19-04d0-4b1f-8255-cbe5a613b27b) from Async(default) in 22.94ms
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1746)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1605.0ms | Allocations: 85340)
  Rendered layout layouts/application.html.erb (Duration: 1609.8ms | Allocations: 103114)
Completed 200 OK in 1617ms (Views: 1612.1ms | ActiveRecord: 0.0ms | Allocations: 109236)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-07-31 17:31:06 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
Completed 401 Unauthorized in 0ms (ActiveRecord: 0.0ms | Allocations: 222)
Processing by Users::SessionsController#new as HTML
  Parameters: {"email"=>"test@gmail.com", "user"=>{"password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.0ms | Allocations: 1260)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3218)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 5313)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 6320)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:31:06 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3615)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5710)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.3ms | Allocations: 6551)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$c2nfAEzN2b7uIii4ebqnke7Ln0c1WJCGHI2mjzQ6AOD3OINi/4t7O"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:35:42.733486"], ["updated_at", "2023-07-31 15:35:42.733486"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "8zvSVf3CscSQjH1Xe1ys"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:35:42.733566"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xjwkokxmvtrsuzt5lf9dy7hel6no"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:35:42.769176"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:35:42.769900"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:35:42.770327"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: xjwkokxmvtrsuzt5lf9dy7hel6no (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0c252198-e5a4-423a-9f40-dad7ed7f9f89) to Async(default) with arguments: #<GlobalID:0x00007f4934e004c8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signup" for 127.0.0.1 at 2023-07-31 17:35:42 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [0c252198-e5a4-423a-9f40-dad7ed7f9f89]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0c252198-e5a4-423a-9f40-dad7ed7f9f89] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0c252198-e5a4-423a-9f40-dad7ed7f9f89] Performed ActiveStorage::AnalyzeJob (Job ID: 0c252198-e5a4-423a-9f40-dad7ed7f9f89) from Async(default) in 7.96ms
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.5ms | Allocations: 260)
  Rendered devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 1707)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1859.7ms | Allocations: 86081)
  Rendered layout layouts/application.html.erb (Duration: 1864.9ms | Allocations: 103856)
Completed 200 OK in 1873ms (Views: 1868.3ms | ActiveRecord: 0.0ms | Allocations: 109918)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$L/XSfx1Qo1kB2ew3oq7HT.swEvST0WJ88HzxS1hlVyhD/1WXMr.z."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:36:08.621104"], ["updated_at", "2023-07-31 15:36:08.621104"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "3Zsr1Basb_ms5txbdbvx"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:36:08.621198"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jmp19ykc1ui0wocdu72td1zzaefm"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:36:08.664336"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:36:08.665134"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:36:08.665632"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: jmp19ykc1ui0wocdu72td1zzaefm (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 70d6ed43-d41a-4d58-a136-632d97089123) to Async(default) with arguments: #<GlobalID:0x0000562a5e3fcc60 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signup" for 127.0.0.1 at 2023-07-31 17:36:08 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [70d6ed43-d41a-4d58-a136-632d97089123]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [70d6ed43-d41a-4d58-a136-632d97089123] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [70d6ed43-d41a-4d58-a136-632d97089123] Performed ActiveStorage::AnalyzeJob (Job ID: 70d6ed43-d41a-4d58-a136-632d97089123) from Async(default) in 8.17ms
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | Allocations: 260)
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 1706)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1583.0ms | Allocations: 82561)
  Rendered layout layouts/application.html.erb (Duration: 1589.4ms | Allocations: 100307)
Completed 200 OK in 1597ms (Views: 1591.8ms | ActiveRecord: 0.0ms | Allocations: 106369)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$JpX1lI6JsYCo2OP04dkMqeq1vqO81lS6WOEOZcuqqCVePv2GN04Xu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:36:35.706107"], ["updated_at", "2023-07-31 15:36:35.706107"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zNGRN2xrxsqHVRJHgzm9"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:36:35.706237"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "07bd9uvq33kyu023p68e77iv4ad2"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:36:35.745185"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:36:35.745891"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:36:35.746407"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 07bd9uvq33kyu023p68e77iv4ad2 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0dcff840-cb0f-492e-b430-98821c8efe67) to Async(default) with arguments: #<GlobalID:0x00007f6170d52b08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signup" for 127.0.0.1 at 2023-07-31 17:36:35 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [0dcff840-cb0f-492e-b430-98821c8efe67]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0dcff840-cb0f-492e-b430-98821c8efe67] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0dcff840-cb0f-492e-b430-98821c8efe67] Performed ActiveStorage::AnalyzeJob (Job ID: 0dcff840-cb0f-492e-b430-98821c8efe67) from Async(default) in 8.2ms
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | Allocations: 260)
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1707)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1729.8ms | Allocations: 86204)
  Rendered layout layouts/application.html.erb (Duration: 1735.2ms | Allocations: 103979)
Completed 200 OK in 1743ms (Views: 1737.7ms | ActiveRecord: 0.0ms | Allocations: 110041)
Started POST "/users" for 127.0.0.1 at 2023-07-31 17:36:37 +0200
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "username"=>"sonountest", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering users/registrations/new.html.erb within layouts/application
  Rendered users/shared/_error_messages.html.erb (Duration: 3.9ms | Allocations: 1150)
  Rendered users/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1229)
  Rendered users/registrations/new.html.erb within layouts/application (Duration: 17.3ms | Allocations: 6273)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 8393)
Completed 422 Unprocessable Entity in 22ms (Views: 18.6ms | ActiveRecord: 0.2ms | Allocations: 11642)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$iI2IY/cEO4yLTrtgSngnkOjk1F.XRHSlu.I1Ra1J0s0OS/Q/.i7ry"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:37:06.464766"], ["updated_at", "2023-07-31 15:37:06.464766"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zZ9ZdrX522GD2EsWF2ZP"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:37:06.464850"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ts6bj9lji1ivda4wyviuidygul8a"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:37:06.502836"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:37:06.503588"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:37:06.504162"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: ts6bj9lji1ivda4wyviuidygul8a (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ee07319b-9365-4a35-a837-b0e67595caec) to Async(default) with arguments: #<GlobalID:0x00007f2b0cd5f1b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signup" for 127.0.0.1 at 2023-07-31 17:37:06 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [ee07319b-9365-4a35-a837-b0e67595caec]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ee07319b-9365-4a35-a837-b0e67595caec] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [ee07319b-9365-4a35-a837-b0e67595caec] Performed ActiveStorage::AnalyzeJob (Job ID: ee07319b-9365-4a35-a837-b0e67595caec) from Async(default) in 8.05ms
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | Allocations: 260)
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 1707)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1649.1ms | Allocations: 86270)
  Rendered layout layouts/application.html.erb (Duration: 1654.3ms | Allocations: 104045)
Completed 200 OK in 1661ms (Views: 1656.5ms | ActiveRecord: 0.0ms | Allocations: 110107)
Started POST "/users" for 127.0.0.1 at 2023-07-31 17:37:08 +0200
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "username"=>"sonountest", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering users/registrations/new.html.erb within layouts/application
  Rendered users/shared/_error_messages.html.erb (Duration: 0.7ms | Allocations: 1150)
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1229)
  Rendered users/registrations/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 6273)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 8393)
Completed 422 Unprocessable Entity in 9ms (Views: 5.3ms | ActiveRecord: 0.2ms | Allocations: 11642)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$XUD6w92WirZWwmxW0i/1jOTTF7YKWL24hqiNRBn3VKlPY29.EprX2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-07-31 15:37:49.393991"], ["updated_at", "2023-07-31 15:37:49.393991"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "GaompzdP-Wffxzqara9X"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-07-31 15:37:49.394096"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dwdigcp8fb00kmkmwak2dpzoknvx"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-07-31 15:37:49.429317"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-07-31 15:37:49.430311"]]
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-07-31 15:37:49.430779"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: dwdigcp8fb00kmkmwak2dpzoknvx (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 93d2adc2-5f53-4806-8e4c-29d7ed5152bb) to Async(default) with arguments: #<GlobalID:0x0000561dedb2bf18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/signup" for 127.0.0.1 at 2023-07-31 17:37:49 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [93d2adc2-5f53-4806-8e4c-29d7ed5152bb]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [93d2adc2-5f53-4806-8e4c-29d7ed5152bb] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [93d2adc2-5f53-4806-8e4c-29d7ed5152bb] Performed ActiveStorage::AnalyzeJob (Job ID: 93d2adc2-5f53-4806-8e4c-29d7ed5152bb) from Async(default) in 10.28ms
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | Allocations: 260)
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 1707)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1628.1ms | Allocations: 86326)
  Rendered layout layouts/application.html.erb (Duration: 1632.8ms | Allocations: 104101)
Completed 200 OK in 1641ms (Views: 1635.4ms | ActiveRecord: 0.0ms | Allocations: 110163)
Started POST "/users" for 127.0.0.1 at 2023-07-31 17:37:51 +0200
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "username"=>"sonountest", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering users/registrations/new.html.erb within layouts/application
  Rendered users/shared/_error_messages.html.erb (Duration: 0.8ms | Allocations: 1150)
  Rendered users/shared/_links.html.erb (Duration: 0.9ms | Allocations: 1229)
  Rendered users/registrations/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 6273)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 8393)
Completed 422 Unprocessable Entity in 9ms (Views: 5.0ms | ActiveRecord: 0.1ms | Allocations: 11642)
Started GET "/" for 127.0.0.1 at 2023-07-31 17:37:51 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3527)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5622)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.2ms | Allocations: 6463)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (10.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$HCJ7QShZj9L9xtKwJtEGp.T5pR5mBF7pqqqAP6xLq6xm3c9mANoh2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 08:08:37.397046"], ["updated_at", "2023-08-02 08:08:37.397046"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "AnzPbPQNn9SQofovdPsi"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 08:08:37.397339"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "u4g2ap7q2yr7sjtf5aftkc2u83yy"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 08:08:37.591617"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 08:08:37.594785"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:08:37.597436"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: u4g2ap7q2yr7sjtf5aftkc2u83yy (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2171bcf6-f951-4797-9c0b-9279734aa166) to Async(default) with arguments: #<GlobalID:0x00007f9948ca79f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:08:37 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [2171bcf6-f951-4797-9c0b-9279734aa166]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2171bcf6-f951-4797-9c0b-9279734aa166] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [2171bcf6-f951-4797-9c0b-9279734aa166] Performed ActiveStorage::AnalyzeJob (Job ID: 2171bcf6-f951-4797-9c0b-9279734aa166) from Async(default) in 28.1ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.9ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 7428.5ms | Allocations: 317409)
  Rendered layout layouts/application.html.erb (Duration: 7451.4ms | Allocations: 334987)
Completed 200 OK in 7509ms (Views: 7463.8ms | ActiveRecord: 0.0ms | Allocations: 341210)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$Z6/uaKOuKvVMgxerJTlzK.IsQTFxdSNDSF/z7Lw7w6lu7saeXBWJ."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 08:10:18.039202"], ["updated_at", "2023-08-02 08:10:18.039202"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "2sNgE8RyWkdsy82fQDAd"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 08:10:18.039487"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xyz1wp8aubmuoxfp2zol52zpueje"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 08:10:18.149077"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 08:10:18.151349"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:10:18.152958"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: xyz1wp8aubmuoxfp2zol52zpueje (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 684f9c23-71fd-43e2-aa0a-2517225b700d) to Async(default) with arguments: #<GlobalID:0x000055e1db540390 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:10:18 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [684f9c23-71fd-43e2-aa0a-2517225b700d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [684f9c23-71fd-43e2-aa0a-2517225b700d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [684f9c23-71fd-43e2-aa0a-2517225b700d] Performed ActiveStorage::AnalyzeJob (Job ID: 684f9c23-71fd-43e2-aa0a-2517225b700d) from Async(default) in 27.64ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 5.6ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5065.1ms | Allocations: 89065)
  Rendered layout layouts/application.html.erb (Duration: 5085.5ms | Allocations: 106840)
Completed 200 OK in 5112ms (Views: 5099.1ms | ActiveRecord: 0.0ms | Allocations: 113064)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:10:23 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Completed 401 Unauthorized in 246ms (ActiveRecord: 0.4ms | Allocations: 2130)
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:10:23 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.5ms | Allocations: 766)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2258)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 4361)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 4974)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$QP83oDbCQvUmChU.g/jMo.dKAZ8MAwJ6MkZVzAdrOdtLRGrYcIFly"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 08:13:28.774911"], ["updated_at", "2023-08-02 08:13:28.774911"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "SVb69muSD_vVVstqYSk4"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 08:13:28.775193"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "i9j32h58ilzxek8447so3cgq8qob"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 08:13:28.880628"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 08:13:28.882769"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:13:28.884497"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: i9j32h58ilzxek8447so3cgq8qob (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a3e6a349-f757-4e94-bdc2-ef1bb03fc59a) to Async(default) with arguments: #<GlobalID:0x000055d586f5dc58 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:13:28 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3e6a349-f757-4e94-bdc2-ef1bb03fc59a]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3e6a349-f757-4e94-bdc2-ef1bb03fc59a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [a3e6a349-f757-4e94-bdc2-ef1bb03fc59a] Performed ActiveStorage::AnalyzeJob (Job ID: a3e6a349-f757-4e94-bdc2-ef1bb03fc59a) from Async(default) in 28.93ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.4ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4912.3ms | Allocations: 88382)
  Rendered layout layouts/application.html.erb (Duration: 4934.5ms | Allocations: 106157)
Completed 200 OK in 4957ms (Views: 4944.8ms | ActiveRecord: 0.0ms | Allocations: 112381)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:13:34 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Completed 401 Unauthorized in 15ms (ActiveRecord: 0.4ms | Allocations: 2130)
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:13:34 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.1ms | Allocations: 766)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2258)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4361)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 4978)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$o5vZsZIAUJwwON8WOKuQeu03QwgxsN/7i7ydzwC/Il3xrKs7cS5YG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 08:14:44.825117"], ["updated_at", "2023-08-02 08:14:44.825117"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "i61tMfuxS2bSN87DsqyW"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 08:14:44.825389"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4euqjstdt2u3gvgq73ril948flf5"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 08:14:44.928947"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 08:14:44.931338"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:14:44.932905"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 4euqjstdt2u3gvgq73ril948flf5 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 29fb28f6-bff1-4f1a-9ca0-c20c1eadfc1f) to Async(default) with arguments: #<GlobalID:0x000055ffdd27de08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:14:44.941972"], ["confirmed_at", "2023-08-02 08:14:44.939593"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:14:44 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [29fb28f6-bff1-4f1a-9ca0-c20c1eadfc1f]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [29fb28f6-bff1-4f1a-9ca0-c20c1eadfc1f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [29fb28f6-bff1-4f1a-9ca0-c20c1eadfc1f] Performed ActiveStorage::AnalyzeJob (Job ID: 29fb28f6-bff1-4f1a-9ca0-c20c1eadfc1f) from Async(default) in 27.38ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.5ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4972.0ms | Allocations: 88704)
  Rendered layout layouts/application.html.erb (Duration: 4992.2ms | Allocations: 106479)
Completed 200 OK in 5015ms (Views: 5002.7ms | ActiveRecord: 0.0ms | Allocations: 112703)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:14:50 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 40ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 10:14:50 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3960)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 6142)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 1.1ms | Allocations: 6983)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$eQ/FLIrN5n2TslDJQVsdZO1X3kpAjELoBDLQCPbw.ucpOhZi3szGa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 08:15:12.830662"], ["updated_at", "2023-08-02 08:15:12.830662"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "z_NDSzbAyLWnzP3n3rSH"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 08:15:12.830915"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "srb8patht99xmtuwjnso62f58nzg"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 08:15:12.938467"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 08:15:12.940953"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:15:12.943649"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: srb8patht99xmtuwjnso62f58nzg (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c57da078-bedf-4450-adb5-8cec92a82621) to Async(default) with arguments: #<GlobalID:0x000055a50fa6d1f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 08:15:12.953125"], ["confirmed_at", "2023-08-02 08:15:12.950399"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:15:12 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [c57da078-bedf-4450-adb5-8cec92a82621]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c57da078-bedf-4450-adb5-8cec92a82621] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [c57da078-bedf-4450-adb5-8cec92a82621] Performed ActiveStorage::AnalyzeJob (Job ID: c57da078-bedf-4450-adb5-8cec92a82621) from Async(default) in 28.92ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 5.3ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4925.5ms | Allocations: 88969)
  Rendered layout layouts/application.html.erb (Duration: 4947.4ms | Allocations: 106744)
Completed 200 OK in 4973ms (Views: 4960.9ms | ActiveRecord: 0.0ms | Allocations: 112968)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 10:15:18 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 10:15:18 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3953)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 6135)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 1.0ms | Allocations: 6976)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 10:15:18 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: srb8patht99xmtuwjnso62f58nzg[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ht8gqdc3k3c250w3569i5o3ykrfs"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 08:15:19.652446"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 08:15:19.655016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: ht8gqdc3k3c250w3569i5o3ykrfs (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6dfa171a-05e9-43b2-a1f8-a5224715181b) to Async(default) with arguments: #<GlobalID:0x000055a511d367e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6dfa171a-05e9-43b2-a1f8-a5224715181b]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6dfa171a-05e9-43b2-a1f8-a5224715181b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6dfa171a-05e9-43b2-a1f8-a5224715181b] Performed ActiveStorage::AnalyzeJob (Job ID: 6dfa171a-05e9-43b2-a1f8-a5224715181b) from Async(default) in 2.77ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 1457.9ms | Allocations: 57363)
  Rendered layout layouts/application.html.erb (Duration: 1461.3ms | Allocations: 59654)
Completed 200 OK in 1570ms (Views: 1458.9ms | ActiveRecord: 5.0ms | Allocations: 62150)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 10:15:19 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 84.9ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 114.7ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 117.7ms | Allocations: 5264)
Completed 200 OK in 145ms (Views: 119.7ms | ActiveRecord: 0.1ms | Allocations: 24870)
Started POST "/books" for 127.0.0.1 at 2023-08-02 10:15:19 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 08:15:19.962574"], ["updated_at", "2023-08-02 08:15:19.962574"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 1562)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 10:15:19 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 69.0ms | Allocations: 27953)
  Rendered layout layouts/application.html.erb (Duration: 72.1ms | Allocations: 30137)
Completed 200 OK in 75ms (Views: 71.0ms | ActiveRecord: 2.0ms | Allocations: 30673)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$jmbDF67QcKs3nox/vXXijO3DUvUgfom4Ommosl3e8rSdRFjoKSpaK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:09:31.371363"], ["updated_at", "2023-08-02 15:09:31.371363"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "bjGQykr4rnBy8dyxn6v2"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:09:31.371626"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "r3qphu4ucy9q78z7y2pu2bed7uzk"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:09:31.464971"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:09:31.467173"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:09:31.468901"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: r3qphu4ucy9q78z7y2pu2bed7uzk (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8a10eade-3149-4e73-ab30-a306c6e49b63) to Async(default) with arguments: #<GlobalID:0x0000560059a14438 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:09:31.478016"], ["confirmed_at", "2023-08-02 15:09:31.475337"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:09:31 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [8a10eade-3149-4e73-ab30-a306c6e49b63]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8a10eade-3149-4e73-ab30-a306c6e49b63] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [8a10eade-3149-4e73-ab30-a306c6e49b63] Performed ActiveStorage::AnalyzeJob (Job ID: 8a10eade-3149-4e73-ab30-a306c6e49b63) from Async(default) in 26.51ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.1ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4624.1ms | Allocations: 91436)
  Rendered layout layouts/application.html.erb (Duration: 4641.6ms | Allocations: 109192)
Completed 200 OK in 4666ms (Views: 4652.9ms | ActiveRecord: 0.0ms | Allocations: 115416)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:09:36 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:09:36 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3945)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 6127)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.9ms | Allocations: 6968)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:09:36 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: r3qphu4ucy9q78z7y2pu2bed7uzk[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kptgy2kmcgqmthaawahzbtv6eoic"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:09:36.625421"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:09:36.627281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: kptgy2kmcgqmthaawahzbtv6eoic (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f6158aa9-ab87-4c9e-ac23-d95b512b5bb8) to Async(default) with arguments: #<GlobalID:0x00007fb46c4e71e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f6158aa9-ab87-4c9e-ac23-d95b512b5bb8]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f6158aa9-ab87-4c9e-ac23-d95b512b5bb8] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f6158aa9-ab87-4c9e-ac23-d95b512b5bb8] Performed ActiveStorage::AnalyzeJob (Job ID: f6158aa9-ab87-4c9e-ac23-d95b512b5bb8) from Async(default) in 1.88ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 283.6ms | Allocations: 57368)
  Rendered layout layouts/application.html.erb (Duration: 287.7ms | Allocations: 59659)
Completed 200 OK in 297ms (Views: 284.9ms | ActiveRecord: 4.8ms | Allocations: 62155)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:09:36 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.6ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 5264)
Completed 200 OK in 37ms (Views: 13.4ms | ActiveRecord: 0.1ms | Allocations: 24878)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:09:36 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:09:36.742562"], ["updated_at", "2023-08-02 15:09:36.742562"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.6ms | Allocations: 1552)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:09:36 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 43.8ms | Allocations: 27986)
  Rendered layout layouts/application.html.erb (Duration: 46.9ms | Allocations: 30170)
Completed 200 OK in 50ms (Views: 45.6ms | ActiveRecord: 2.3ms | Allocations: 30706)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$EZMX5Ei3CWz.ofNBkOVkduX1fLZi2GyvOXxjaXufL0iRdIvfMp8/m"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:14:08.541399"], ["updated_at", "2023-08-02 15:14:08.541399"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Vi6niTt5WaTSMsE8z9Wc"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:14:08.541745"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xo2slkl7k5k7eiyhhib6jk99wojk"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:14:08.646906"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:14:08.648929"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:14:08.650343"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: xo2slkl7k5k7eiyhhib6jk99wojk (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9b6e4cf9-f7eb-495b-ad7a-1d86cb08e753) to Async(default) with arguments: #<GlobalID:0x00007f21e8b28318 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:14:08.659802"], ["confirmed_at", "2023-08-02 15:14:08.657353"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:14:08 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [9b6e4cf9-f7eb-495b-ad7a-1d86cb08e753]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9b6e4cf9-f7eb-495b-ad7a-1d86cb08e753] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [9b6e4cf9-f7eb-495b-ad7a-1d86cb08e753] Performed ActiveStorage::AnalyzeJob (Job ID: 9b6e4cf9-f7eb-495b-ad7a-1d86cb08e753) from Async(default) in 28.74ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.6ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4953.7ms | Allocations: 90833)
  Rendered layout layouts/application.html.erb (Duration: 4974.7ms | Allocations: 108602)
Completed 200 OK in 5002ms (Views: 4986.5ms | ActiveRecord: 0.0ms | Allocations: 114826)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:14:13 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 14ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:14:13 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.9ms | Allocations: 3953)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 6135)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 1.0ms | Allocations: 6976)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:14:13 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: xo2slkl7k5k7eiyhhib6jk99wojk[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ufsjo2z1dz7a3roa0umcfbrcknlo"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:14:14.296801"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:14:14.298713"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: ufsjo2z1dz7a3roa0umcfbrcknlo (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5a0fcb4f-e37f-43ee-b1c0-f0abb36f4607) to Async(default) with arguments: #<GlobalID:0x000055d96ed95358 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a0fcb4f-e37f-43ee-b1c0-f0abb36f4607]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a0fcb4f-e37f-43ee-b1c0-f0abb36f4607] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a0fcb4f-e37f-43ee-b1c0-f0abb36f4607] Performed ActiveStorage::AnalyzeJob (Job ID: 5a0fcb4f-e37f-43ee-b1c0-f0abb36f4607) from Async(default) in 1.92ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 417.9ms | Allocations: 57340)
  Rendered layout layouts/application.html.erb (Duration: 421.6ms | Allocations: 59631)
Completed 200 OK in 432ms (Views: 418.9ms | ActiveRecord: 5.2ms | Allocations: 62127)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 8.8ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 5264)
Completed 200 OK in 41ms (Views: 16.1ms | ActiveRecord: 0.1ms | Allocations: 24866)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:14:14.417855"], ["updated_at", "2023-08-02 15:14:14.417855"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.7ms | Allocations: 1556)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 43.4ms | Allocations: 27930)
  Rendered layout layouts/application.html.erb (Duration: 46.7ms | Allocations: 30114)
Completed 200 OK in 50ms (Views: 45.8ms | ActiveRecord: 2.0ms | Allocations: 30650)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$rOEJ4LVHrQti6Xyd.GF3CefbdAHB3V1xK/TwEJjHkug5sFJxvRyzy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:14:14.494115"], ["updated_at", "2023-08-02 15:14:14.494115"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "7J_9iHHKc_Te6faXstD9"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:14:14.494257"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z1xuw5vxfs63jvhp1h2f8v57r9hi"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:14:14.508115"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:14:14.510098"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:14:14.511514"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: z1xuw5vxfs63jvhp1h2f8v57r9hi (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dbb68560-f6bb-45a6-85e0-2e982a21d6eb) to Async(default) with arguments: #<GlobalID:0x00007f21e8d77330 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:14:14.521515"], ["confirmed_at", "2023-08-02 15:14:14.518436"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbb68560-f6bb-45a6-85e0-2e982a21d6eb]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbb68560-f6bb-45a6-85e0-2e982a21d6eb] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbb68560-f6bb-45a6-85e0-2e982a21d6eb] Performed ActiveStorage::AnalyzeJob (Job ID: dbb68560-f6bb-45a6-85e0-2e982a21d6eb) from Async(default) in 11.41ms
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2321)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4441)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 4977)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.2ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4118)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 4339)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1762)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:14:14 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1680)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3765)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 3985)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$49TVXeTuRx3SVc2gzqLG2uj95Eh9Gd54fUfga70Hbd8MhE9fzajyu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:26:45.660134"], ["updated_at", "2023-08-02 15:26:45.660134"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "9iCZg3U7aVxztUhu1D8o"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:26:45.660377"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "exf41ywwmgrrl2xk4vpme6m8foao"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:26:45.763102"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:26:45.765503"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:26:45.767329"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: exf41ywwmgrrl2xk4vpme6m8foao (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 521630ac-73ad-4e10-9a45-027d24d533c9) to Async(default) with arguments: #<GlobalID:0x00005627882241a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:26:45.778348"], ["confirmed_at", "2023-08-02 15:26:45.774892"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:26:45 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [521630ac-73ad-4e10-9a45-027d24d533c9]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [521630ac-73ad-4e10-9a45-027d24d533c9] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [521630ac-73ad-4e10-9a45-027d24d533c9] Performed ActiveStorage::AnalyzeJob (Job ID: 521630ac-73ad-4e10-9a45-027d24d533c9) from Async(default) in 32.0ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.2ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5210.1ms | Allocations: 90699)
  Rendered layout layouts/application.html.erb (Duration: 5233.7ms | Allocations: 108473)
Completed 200 OK in 5300ms (Views: 5287.0ms | ActiveRecord: 0.0ms | Allocations: 114697)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:26:51 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 14ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:26:51 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3957)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 6139)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 1.1ms | Allocations: 6980)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:26:51 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: exf41ywwmgrrl2xk4vpme6m8foao[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "h2i34pe7fi5mwdm2amxgq6v4of6k"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:26:51.682194"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:26:51.684201"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: h2i34pe7fi5mwdm2amxgq6v4of6k (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cbd7e796-6909-4f24-baee-cd6af47fd657) to Async(default) with arguments: #<GlobalID:0x00007f18085048b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cbd7e796-6909-4f24-baee-cd6af47fd657]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cbd7e796-6909-4f24-baee-cd6af47fd657] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [cbd7e796-6909-4f24-baee-cd6af47fd657] Performed ActiveStorage::AnalyzeJob (Job ID: cbd7e796-6909-4f24-baee-cd6af47fd657) from Async(default) in 1.89ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 389.3ms | Allocations: 57338)
  Rendered layout layouts/application.html.erb (Duration: 392.6ms | Allocations: 59629)
Completed 200 OK in 402ms (Views: 389.7ms | ActiveRecord: 5.1ms | Allocations: 62125)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:26:51 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.5ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 5264)
Completed 200 OK in 43ms (Views: 14.8ms | ActiveRecord: 0.1ms | Allocations: 24870)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:26:51 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:26:51.828380"], ["updated_at", "2023-08-02 15:26:51.828380"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.8ms | Allocations: 1560)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:26:51 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 43.4ms | Allocations: 27944)
  Rendered layout layouts/application.html.erb (Duration: 46.4ms | Allocations: 30128)
Completed 200 OK in 49ms (Views: 45.3ms | ActiveRecord: 2.1ms | Allocations: 30664)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$QAGLj40VrwI4duvErgPrA.CE1hhj7T/hO8QY0sUy7qAsICQbxi.jG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:28:12.963213"], ["updated_at", "2023-08-02 15:28:12.963213"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "aH53aXmtCTw41bKgtoar"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:28:12.963477"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "lu9qrdgcrxfrgtv0fl4lml2ewywr"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:28:13.064543"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:28:13.066672"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:28:13.068298"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: lu9qrdgcrxfrgtv0fl4lml2ewywr (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5fab1b1e-e7d2-4b99-a720-e7d9090d0b40) to Async(default) with arguments: #<GlobalID:0x000056234c6c5b68 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:28:13.077301"], ["confirmed_at", "2023-08-02 15:28:13.074895"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:28:13 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fab1b1e-e7d2-4b99-a720-e7d9090d0b40]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fab1b1e-e7d2-4b99-a720-e7d9090d0b40] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [5fab1b1e-e7d2-4b99-a720-e7d9090d0b40] Performed ActiveStorage::AnalyzeJob (Job ID: 5fab1b1e-e7d2-4b99-a720-e7d9090d0b40) from Async(default) in 27.7ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.1ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4903.9ms | Allocations: 90494)
  Rendered layout layouts/application.html.erb (Duration: 4923.1ms | Allocations: 108268)
Completed 200 OK in 4945ms (Views: 4933.3ms | ActiveRecord: 0.0ms | Allocations: 114492)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3967)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 6149)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 1.1ms | Allocations: 6990)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: lu9qrdgcrxfrgtv0fl4lml2ewywr[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bav6qg9kngg4i84qtsd7v3d4s6qi"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:28:18.481133"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:28:18.482982"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: bav6qg9kngg4i84qtsd7v3d4s6qi (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4ed13670-f634-4d8c-8477-d26fc17157a6) to Async(default) with arguments: #<GlobalID:0x000056234932e278 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ed13670-f634-4d8c-8477-d26fc17157a6]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ed13670-f634-4d8c-8477-d26fc17157a6] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ed13670-f634-4d8c-8477-d26fc17157a6] Performed ActiveStorage::AnalyzeJob (Job ID: 4ed13670-f634-4d8c-8477-d26fc17157a6) from Async(default) in 2.09ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 250.3ms | Allocations: 57345)
  Rendered layout layouts/application.html.erb (Duration: 253.7ms | Allocations: 59636)
Completed 200 OK in 264ms (Views: 251.1ms | ActiveRecord: 4.7ms | Allocations: 62132)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.9ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 5264)
Completed 200 OK in 39ms (Views: 14.1ms | ActiveRecord: 0.2ms | Allocations: 24882)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:28:18.596515"], ["updated_at", "2023-08-02 15:28:18.596515"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.8ms | Allocations: 1558)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.3ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 46.0ms | Allocations: 27940)
  Rendered layout layouts/application.html.erb (Duration: 49.1ms | Allocations: 30124)
Completed 200 OK in 52ms (Views: 47.8ms | ActiveRecord: 2.1ms | Allocations: 30660)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$9/3QqKTjMo3RjLZHegOpyeb.zk/fXevXF6eyA/Pdcsh9Rk1SGb3G."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:28:18.673604"], ["updated_at", "2023-08-02 15:28:18.673604"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "y4xiKW1bdEyEAVLW2Xz7"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:28:18.673739"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "040r4miiuqi6637i5e7axae8436o"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:28:18.686257"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:28:18.688223"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:28:18.689829"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 040r4miiuqi6637i5e7axae8436o (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f1e37872-0f4e-483b-9a92-317ef68258d5) to Async(default) with arguments: #<GlobalID:0x000056234c337a78 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1e37872-0f4e-483b-9a92-317ef68258d5]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1e37872-0f4e-483b-9a92-317ef68258d5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:28:18.699571"], ["confirmed_at", "2023-08-02 15:28:18.696886"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1e37872-0f4e-483b-9a92-317ef68258d5] Performed ActiveStorage::AnalyzeJob (Job ID: f1e37872-0f4e-483b-9a92-317ef68258d5) from Async(default) in 3.82ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.0ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4410)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1923)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4104)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.3ms | Allocations: 4325)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 040r4miiuqi6637i5e7axae8436o[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cx7f07q4u2yy2wcup5snj2ejr78v"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:28:18.850257"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:28:18.852408"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: cx7f07q4u2yy2wcup5snj2ejr78v (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 03b40354-8e17-4462-9bb0-474c23d0e55d) to Async(default) with arguments: #<GlobalID:0x00007f93501a8f20 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [03b40354-8e17-4462-9bb0-474c23d0e55d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [03b40354-8e17-4462-9bb0-474c23d0e55d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [03b40354-8e17-4462-9bb0-474c23d0e55d] Performed ActiveStorage::AnalyzeJob (Job ID: 03b40354-8e17-4462-9bb0-474c23d0e55d) from Async(default) in 1.74ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 110.3ms | Allocations: 8368)
  Rendered layout layouts/application.html.erb (Duration: 113.6ms | Allocations: 10572)
Completed 200 OK in 116ms (Views: 111.5ms | ActiveRecord: 2.9ms | Allocations: 10917)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1760)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:28:18 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3773)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 3993)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$6Qkln0biKfcqPNXau7SpX.qNm7qpOgJInqA0TlMvwcXBaINoLbT8."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:31:05.286491"], ["updated_at", "2023-08-02 15:31:05.286491"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "TeT61du_zHa_DfRkTdsq"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:31:05.286774"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wolwta33m87qs5e4qt3e8fsnmai2"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:31:05.387793"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:31:05.390205"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:31:05.391957"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: wolwta33m87qs5e4qt3e8fsnmai2 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6321d0a0-d824-4165-abcb-7aa8ab697a26) to Async(default) with arguments: #<GlobalID:0x000055ba48ff7488 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:31:05.403168"], ["confirmed_at", "2023-08-02 15:31:05.398414"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:31:05 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [6321d0a0-d824-4165-abcb-7aa8ab697a26]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6321d0a0-d824-4165-abcb-7aa8ab697a26] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6321d0a0-d824-4165-abcb-7aa8ab697a26] Performed ActiveStorage::AnalyzeJob (Job ID: 6321d0a0-d824-4165-abcb-7aa8ab697a26) from Async(default) in 28.43ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.3ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4906.5ms | Allocations: 90513)
  Rendered layout layouts/application.html.erb (Duration: 4924.9ms | Allocations: 108287)
Completed 200 OK in 4946ms (Views: 4934.7ms | ActiveRecord: 0.0ms | Allocations: 114511)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:31:10 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.4ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:31:10 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3949)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 6131)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 1.1ms | Allocations: 6972)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:31:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: wolwta33m87qs5e4qt3e8fsnmai2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b9ovlf8azrtk9e3hi1kwba5pow4q"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:31:10.815594"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:31:10.817921"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: b9ovlf8azrtk9e3hi1kwba5pow4q (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b6273508-2847-454d-a817-6593565e9eb7) to Async(default) with arguments: #<GlobalID:0x000055ba45c5bca0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b6273508-2847-454d-a817-6593565e9eb7]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b6273508-2847-454d-a817-6593565e9eb7] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b6273508-2847-454d-a817-6593565e9eb7] Performed ActiveStorage::AnalyzeJob (Job ID: b6273508-2847-454d-a817-6593565e9eb7) from Async(default) in 2.11ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 261.7ms | Allocations: 57322)
  Rendered layout layouts/application.html.erb (Duration: 266.1ms | Allocations: 59613)
Completed 200 OK in 277ms (Views: 263.6ms | ActiveRecord: 4.8ms | Allocations: 62109)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:31:10 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.4ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 5264)
Completed 200 OK in 40ms (Views: 14.7ms | ActiveRecord: 0.1ms | Allocations: 24880)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:31:10 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:31:10.936135"], ["updated_at", "2023-08-02 15:31:10.936135"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1558)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:31:10 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 42.7ms | Allocations: 27934)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 30118)
Completed 200 OK in 49ms (Views: 44.9ms | ActiveRecord: 1.9ms | Allocations: 30654)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$Bfc//fyR5cgdEE/uHHtAKe3bWxTNvZqO0zGU.7kIcLxli8q3d/oYi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:31:11.010341"], ["updated_at", "2023-08-02 15:31:11.010341"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "3czzcNU_yErgHb2s14JP"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:31:11.010485"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hn0kn984xz2iotkye7b8rupjtqii"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:31:11.023760"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:31:11.025454"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:31:11.026814"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: hn0kn984xz2iotkye7b8rupjtqii (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aac8ae32-e208-49f9-a755-71aba50400f6) to Async(default) with arguments: #<GlobalID:0x000055ba48c654f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aac8ae32-e208-49f9-a755-71aba50400f6]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aac8ae32-e208-49f9-a755-71aba50400f6] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [aac8ae32-e208-49f9-a755-71aba50400f6] Performed ActiveStorage::AnalyzeJob (Job ID: aac8ae32-e208-49f9-a755-71aba50400f6) from Async(default) in 4.31ms
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:31:11.037973"], ["confirmed_at", "2023-08-02 15:31:11.034771"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 4410)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1939)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4120)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.3ms | Allocations: 4341)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: hn0kn984xz2iotkye7b8rupjtqii[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kz6fu5c6iw244imrp7k3pebc3jd3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:31:11.183287"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:31:11.185535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: kz6fu5c6iw244imrp7k3pebc3jd3 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 26bd214f-92ba-4f23-865a-fd10090717fe) to Async(default) with arguments: #<GlobalID:0x000055ba4571c500 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [26bd214f-92ba-4f23-865a-fd10090717fe]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26bd214f-92ba-4f23-865a-fd10090717fe] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [26bd214f-92ba-4f23-865a-fd10090717fe] Performed ActiveStorage::AnalyzeJob (Job ID: 26bd214f-92ba-4f23-865a-fd10090717fe) from Async(default) in 1.75ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 106.1ms | Allocations: 8380)
  Rendered layout layouts/application.html.erb (Duration: 109.1ms | Allocations: 10584)
Completed 200 OK in 111ms (Views: 107.4ms | ActiveRecord: 2.6ms | Allocations: 10929)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1762)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3773)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 3993)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:31:11 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1994)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4277)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.7ms | Allocations: 4560)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$erEstqahMm2bS.H/PGOJLOCAq8z4WMtFCuS/LEtilAo4DuHfZQrNK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:36:53.881675"], ["updated_at", "2023-08-02 15:36:53.881675"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "xwckcu6Meouu3QQsNX6z"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:36:53.881969"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8ean7hbx7y6mbeauxnigalpbd7vq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:36:54.009200"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:36:54.012617"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:36:54.015162"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 8ean7hbx7y6mbeauxnigalpbd7vq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 993d7007-2c0b-4256-b5df-28e004fa5a9d) to Async(default) with arguments: #<GlobalID:0x000055a6a77021e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:36:54.030538"], ["confirmed_at", "2023-08-02 15:36:54.026637"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:36:54 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [993d7007-2c0b-4256-b5df-28e004fa5a9d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [993d7007-2c0b-4256-b5df-28e004fa5a9d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [993d7007-2c0b-4256-b5df-28e004fa5a9d] Performed ActiveStorage::AnalyzeJob (Job ID: 993d7007-2c0b-4256-b5df-28e004fa5a9d) from Async(default) in 30.7ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.4ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5014.7ms | Allocations: 91019)
  Rendered layout layouts/application.html.erb (Duration: 5035.0ms | Allocations: 108793)
Completed 200 OK in 5058ms (Views: 5045.3ms | ActiveRecord: 0.0ms | Allocations: 115017)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3959)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 6141)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 1.0ms | Allocations: 6982)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 8ean7hbx7y6mbeauxnigalpbd7vq[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "c0lqfj26hbufbh8zioh3tn9domse"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:36:59.566671"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:36:59.568428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: c0lqfj26hbufbh8zioh3tn9domse (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3983b3ce-640f-4c35-8b41-af60beb13d37) to Async(default) with arguments: #<GlobalID:0x000055a6a87cd4a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3983b3ce-640f-4c35-8b41-af60beb13d37]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3983b3ce-640f-4c35-8b41-af60beb13d37] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3983b3ce-640f-4c35-8b41-af60beb13d37] Performed ActiveStorage::AnalyzeJob (Job ID: 3983b3ce-640f-4c35-8b41-af60beb13d37) from Async(default) in 2.08ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 257.7ms | Allocations: 57325)
  Rendered layout layouts/application.html.erb (Duration: 261.4ms | Allocations: 59616)
Completed 200 OK in 272ms (Views: 259.2ms | ActiveRecord: 4.8ms | Allocations: 62112)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$78/90iIv2nS2z44.Z0nov.g4bDiWyfDRva11mU8zw9lXpU4zWt30i"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:36:59.619327"], ["updated_at", "2023-08-02 15:36:59.619327"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "f7QbRkwwV3LxzTy-9XUx"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:36:59.619448"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "le97q2aww6qpckx86glxkmcckgu1"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:36:59.631551"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:36:59.633504"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:36:59.634965"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: le97q2aww6qpckx86glxkmcckgu1 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 197c3e05-2535-42cc-810e-845cdc3ca9ff) to Async(default) with arguments: #<GlobalID:0x000055a6a8d694e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:36:59.644092"], ["confirmed_at", "2023-08-02 15:36:59.641768"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [197c3e05-2535-42cc-810e-845cdc3ca9ff]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [197c3e05-2535-42cc-810e-845cdc3ca9ff] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [197c3e05-2535-42cc-810e-845cdc3ca9ff] Performed ActiveStorage::AnalyzeJob (Job ID: 197c3e05-2535-42cc-810e-845cdc3ca9ff) from Async(default) in 8.22ms
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2354)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4474)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 5076)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 930)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1938)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4119)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 4344)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: le97q2aww6qpckx86glxkmcckgu1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3fym1ns9udsgqcx9ox0vtuqwzks3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:36:59.785515"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:36:59.787321"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 3fym1ns9udsgqcx9ox0vtuqwzks3 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e3dd4257-9e00-4cd0-ad17-96fe90a5a998) to Async(default) with arguments: #<GlobalID:0x00007f6fa41b8210 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3dd4257-9e00-4cd0-ad17-96fe90a5a998]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3dd4257-9e00-4cd0-ad17-96fe90a5a998] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e3dd4257-9e00-4cd0-ad17-96fe90a5a998] Performed ActiveStorage::AnalyzeJob (Job ID: e3dd4257-9e00-4cd0-ad17-96fe90a5a998) from Async(default) in 1.7ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 102.1ms | Allocations: 8347)
  Rendered layout layouts/application.html.erb (Duration: 105.3ms | Allocations: 10534)
Completed 200 OK in 107ms (Views: 103.4ms | ActiveRecord: 2.7ms | Allocations: 10881)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.3ms | Allocations: 1764)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1691)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3776)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 3996)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:36:59 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1994)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4279)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.8ms | Allocations: 4564)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$0670SDnJhXQl/Q6zWvBPvuUM1UPjsr1rgvxC6ODzMNXl/suJ6IQPe"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:38:32.800311"], ["updated_at", "2023-08-02 15:38:32.800311"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "K2mZgcixkschVBkUi3qc"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:38:32.800709"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y7c908e5zcwrr0j5de7gov88vxy0"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:38:32.905825"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:38:32.908105"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:38:32.909644"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: y7c908e5zcwrr0j5de7gov88vxy0 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 852fed0d-2c56-4988-bf4e-4efe86cde5aa) to Async(default) with arguments: #<GlobalID:0x0000557209855928 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:38:32.918531"], ["confirmed_at", "2023-08-02 15:38:32.915844"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:38:32 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [852fed0d-2c56-4988-bf4e-4efe86cde5aa]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [852fed0d-2c56-4988-bf4e-4efe86cde5aa] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [852fed0d-2c56-4988-bf4e-4efe86cde5aa] Performed ActiveStorage::AnalyzeJob (Job ID: 852fed0d-2c56-4988-bf4e-4efe86cde5aa) from Async(default) in 32.54ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.9ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4916.1ms | Allocations: 91187)
  Rendered layout layouts/application.html.erb (Duration: 4934.9ms | Allocations: 108961)
Completed 200 OK in 4961ms (Views: 4946.1ms | ActiveRecord: 0.0ms | Allocations: 115185)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3971)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 6153)
Completed 200 OK in 18ms (Views: 15.9ms | ActiveRecord: 1.1ms | Allocations: 6994)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: y7c908e5zcwrr0j5de7gov88vxy0[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7zu7slta8hchafb5xxhjx94an49l"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:38:38.358687"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:38:38.361374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 7zu7slta8hchafb5xxhjx94an49l (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5c512be2-24c2-4b43-a0e5-d6ffbfaed7d2) to Async(default) with arguments: #<GlobalID:0x00005572070d8d28 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5c512be2-24c2-4b43-a0e5-d6ffbfaed7d2]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5c512be2-24c2-4b43-a0e5-d6ffbfaed7d2] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [5c512be2-24c2-4b43-a0e5-d6ffbfaed7d2] Performed ActiveStorage::AnalyzeJob (Job ID: 5c512be2-24c2-4b43-a0e5-d6ffbfaed7d2) from Async(default) in 2.16ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 271.4ms | Allocations: 57345)
  Rendered layout layouts/application.html.erb (Duration: 275.0ms | Allocations: 59636)
Completed 200 OK in 286ms (Views: 272.8ms | ActiveRecord: 5.1ms | Allocations: 62132)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 10.1ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 5264)
Completed 200 OK in 46ms (Views: 18.6ms | ActiveRecord: 0.1ms | Allocations: 24862)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:38:38.488105"], ["updated_at", "2023-08-02 15:38:38.488105"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 1550)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.3ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 44.9ms | Allocations: 27936)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | Allocations: 30120)
Completed 200 OK in 51ms (Views: 47.0ms | ActiveRecord: 2.1ms | Allocations: 30656)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$uoi/FCPkOnx7cdgBnG8s2upVXPTQf/Qq2t7K9kGA2ukrFjDwjAeh6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:38:38.563643"], ["updated_at", "2023-08-02 15:38:38.563643"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "4_Ubaix2tqcU_hViSgSR"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:38:38.563759"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xi23gbt0wcyn4wb2t2sldv7v667x"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:38:38.575471"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:38:38.577337"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:38:38.578976"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: xi23gbt0wcyn4wb2t2sldv7v667x (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3df3c779-3818-4bcf-868b-a13a6025f03f) to Async(default) with arguments: #<GlobalID:0x00005572094c03f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3df3c779-3818-4bcf-868b-a13a6025f03f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3df3c779-3818-4bcf-868b-a13a6025f03f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3df3c779-3818-4bcf-868b-a13a6025f03f] Performed ActiveStorage::AnalyzeJob (Job ID: 3df3c779-3818-4bcf-868b-a13a6025f03f) from Async(default) in 5.71ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:38:38.588384"], ["confirmed_at", "2023-08-02 15:38:38.586073"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.4ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4410)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1927)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4108)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.3ms | Allocations: 4329)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: xi23gbt0wcyn4wb2t2sldv7v667x[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nzoq1o89shz98ousa5ldp8ud2xjn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:38:38.730521"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:38:38.732101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: nzoq1o89shz98ousa5ldp8ud2xjn (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8a53de07-f799-451e-9d28-cc4de8971b3f) to Async(default) with arguments: #<GlobalID:0x000055720517ac10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8a53de07-f799-451e-9d28-cc4de8971b3f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8a53de07-f799-451e-9d28-cc4de8971b3f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [8a53de07-f799-451e-9d28-cc4de8971b3f] Performed ActiveStorage::AnalyzeJob (Job ID: 8a53de07-f799-451e-9d28-cc4de8971b3f) from Async(default) in 1.78ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 101.9ms | Allocations: 8371)
  Rendered layout layouts/application.html.erb (Duration: 105.0ms | Allocations: 10575)
Completed 200 OK in 108ms (Views: 103.4ms | ActiveRecord: 2.6ms | Allocations: 10920)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1760)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3773)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 3993)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:38:38 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1994)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 4277)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.7ms | Allocations: 4560)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$aVLyn53uQnhzVZdQX237ReCfHB1z5tRvme5gMbeaC7rMrKnDLtRDa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:39:31.354693"], ["updated_at", "2023-08-02 15:39:31.354693"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "k-KyStFUszVuDENEbLj9"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:39:31.354937"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fsf27axlzbqdc36no2ikqmc72fcn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:39:31.453232"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:39:31.455390"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:39:31.456763"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: fsf27axlzbqdc36no2ikqmc72fcn (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b2696b48-dc4c-4261-bbde-c17209ff63b5) to Async(default) with arguments: #<GlobalID:0x000055c003e8a580 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:39:31.468470"], ["confirmed_at", "2023-08-02 15:39:31.463593"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:39:31 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2696b48-dc4c-4261-bbde-c17209ff63b5]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2696b48-dc4c-4261-bbde-c17209ff63b5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2696b48-dc4c-4261-bbde-c17209ff63b5] Performed ActiveStorage::AnalyzeJob (Job ID: b2696b48-dc4c-4261-bbde-c17209ff63b5) from Async(default) in 28.1ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.1ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4768.6ms | Allocations: 90795)
  Rendered layout layouts/application.html.erb (Duration: 4788.4ms | Allocations: 108569)
Completed 200 OK in 4812ms (Views: 4798.2ms | ActiveRecord: 0.0ms | Allocations: 114793)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3961)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 6143)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 1.0ms | Allocations: 6984)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: fsf27axlzbqdc36no2ikqmc72fcn[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "e6cq3h5kz1pxnm66sreyq2mrw9rh"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:39:36.741921"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:39:36.743656"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: e6cq3h5kz1pxnm66sreyq2mrw9rh (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c4e91e16-59a4-42cf-abe0-d669e2f6f09b) to Async(default) with arguments: #<GlobalID:0x000055c0015005c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c4e91e16-59a4-42cf-abe0-d669e2f6f09b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c4e91e16-59a4-42cf-abe0-d669e2f6f09b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [c4e91e16-59a4-42cf-abe0-d669e2f6f09b] Performed ActiveStorage::AnalyzeJob (Job ID: c4e91e16-59a4-42cf-abe0-d669e2f6f09b) from Async(default) in 2.34ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 261.4ms | Allocations: 57335)
  Rendered layout layouts/application.html.erb (Duration: 264.7ms | Allocations: 59626)
Completed 200 OK in 274ms (Views: 261.8ms | ActiveRecord: 5.0ms | Allocations: 62122)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 10.8ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 5264)
Completed 200 OK in 44ms (Views: 17.1ms | ActiveRecord: 0.2ms | Allocations: 24880)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:39:36.872621"], ["updated_at", "2023-08-02 15:39:36.872621"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.7ms | Allocations: 1566)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.3ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 48.2ms | Allocations: 27944)
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 30128)
Completed 200 OK in 55ms (Views: 51.4ms | ActiveRecord: 2.1ms | Allocations: 30664)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$P4eW3fRgXivCuggAQ88he.b80a/.I2S8JC9Y9Z609NI3nvVtLEFXK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:39:36.950278"], ["updated_at", "2023-08-02 15:39:36.950278"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "81rKEfQVuYrYw6hJyrV1"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:39:36.950425"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0pg566q3uyjld42aqs2ic7p8fai8"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:39:36.965014"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:39:36.967757"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:39:36.969676"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 0pg566q3uyjld42aqs2ic7p8fai8 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 15dc756b-7032-465c-8c6d-0125279718fd) to Async(default) with arguments: #<GlobalID:0x000055c003b332d8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [15dc756b-7032-465c-8c6d-0125279718fd]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [15dc756b-7032-465c-8c6d-0125279718fd] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [15dc756b-7032-465c-8c6d-0125279718fd] Performed ActiveStorage::AnalyzeJob (Job ID: 15dc756b-7032-465c-8c6d-0125279718fd) from Async(default) in 3.44ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:39:36.978796"], ["confirmed_at", "2023-08-02 15:39:36.975769"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:39:36 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.0ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4410)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:39:37 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:39:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1953)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4134)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.5ms | Allocations: 4355)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:39:37 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 0pg566q3uyjld42aqs2ic7p8fai8[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "d971mmzd588mbz5da097pq0r3v51"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:39:37.132058"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:39:37.133729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: d971mmzd588mbz5da097pq0r3v51 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cdf5a033-7f05-425d-9d1e-6c369fc37ada) to Async(default) with arguments: #<GlobalID:0x000055c001aae5d0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdf5a033-7f05-425d-9d1e-6c369fc37ada]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdf5a033-7f05-425d-9d1e-6c369fc37ada] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [cdf5a033-7f05-425d-9d1e-6c369fc37ada] Performed ActiveStorage::AnalyzeJob (Job ID: cdf5a033-7f05-425d-9d1e-6c369fc37ada) from Async(default) in 1.93ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 107.8ms | Allocations: 8376)
  Rendered layout layouts/application.html.erb (Duration: 111.1ms | Allocations: 10580)
Completed 200 OK in 113ms (Views: 109.4ms | ActiveRecord: 2.6ms | Allocations: 10925)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:39:37 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.3ms | Allocations: 1758)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:39:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3773)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 3993)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:39:37 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1994)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4283)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.7ms | Allocations: 4566)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$5tlYbgzNoxkNwgyFQcjGnuYiXQsRRy5fSZA15cdt9tQ4l5oQ1eyv6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:40:27.408762"], ["updated_at", "2023-08-02 15:40:27.408762"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "83G9SLqpC57i2mkgByHF"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:40:27.409153"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "octm8my328vl2kp86vym89jgs9n3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:40:27.509745"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:40:27.511898"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:40:27.513381"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: octm8my328vl2kp86vym89jgs9n3 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: da08c72b-d5c4-49f0-becd-0b18c8499517) to Async(default) with arguments: #<GlobalID:0x0000563f97b09c58 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:40:27.522282"], ["confirmed_at", "2023-08-02 15:40:27.519807"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:40:27 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [da08c72b-d5c4-49f0-becd-0b18c8499517]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [da08c72b-d5c4-49f0-becd-0b18c8499517] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [da08c72b-d5c4-49f0-becd-0b18c8499517] Performed ActiveStorage::AnalyzeJob (Job ID: da08c72b-d5c4-49f0-becd-0b18c8499517) from Async(default) in 28.81ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.3ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4922.7ms | Allocations: 91353)
  Rendered layout layouts/application.html.erb (Duration: 4942.2ms | Allocations: 109127)
Completed 200 OK in 4965ms (Views: 4953.0ms | ActiveRecord: 0.0ms | Allocations: 115351)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:40:32 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 13ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:40:32 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3981)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 6163)
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 1.3ms | Allocations: 7004)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:40:32 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: octm8my328vl2kp86vym89jgs9n3[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "i8zi8qaah94thean75494e47bbar"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:40:32.955060"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:40:32.957017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: i8zi8qaah94thean75494e47bbar (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8daa815d-c01e-4bd5-a235-8017b3bad7d8) to Async(default) with arguments: #<GlobalID:0x0000563f94998390 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8daa815d-c01e-4bd5-a235-8017b3bad7d8]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8daa815d-c01e-4bd5-a235-8017b3bad7d8] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [8daa815d-c01e-4bd5-a235-8017b3bad7d8] Performed ActiveStorage::AnalyzeJob (Job ID: 8daa815d-c01e-4bd5-a235-8017b3bad7d8) from Async(default) in 2.18ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 260.0ms | Allocations: 57340)
  Rendered layout layouts/application.html.erb (Duration: 263.7ms | Allocations: 59631)
Completed 200 OK in 274ms (Views: 261.3ms | ActiveRecord: 4.8ms | Allocations: 62127)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.6ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 5264)
Completed 200 OK in 39ms (Views: 13.5ms | ActiveRecord: 0.2ms | Allocations: 24864)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:40:33.070485"], ["updated_at", "2023-08-02 15:40:33.070485"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 1556)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 45.4ms | Allocations: 27928)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 30112)
Completed 200 OK in 52ms (Views: 47.8ms | ActiveRecord: 2.1ms | Allocations: 30648)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$1ZWUMDyP9GD9W.0k4eBxLOdMPCWbvHFGWrboSGjo6ezgrKIdrN5Vm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:40:33.144993"], ["updated_at", "2023-08-02 15:40:33.144993"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "56-WybdsCUYDMY3QQh_g"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:40:33.145143"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ne3sseiou62nwbry31dbogq2pw6k"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:40:33.159580"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:40:33.161408"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:40:33.162959"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ne3sseiou62nwbry31dbogq2pw6k (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 135e159a-1d33-437d-92ec-130b1c7ae83b) to Async(default) with arguments: #<GlobalID:0x0000563f977478b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [135e159a-1d33-437d-92ec-130b1c7ae83b]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [135e159a-1d33-437d-92ec-130b1c7ae83b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [135e159a-1d33-437d-92ec-130b1c7ae83b] Performed ActiveStorage::AnalyzeJob (Job ID: 135e159a-1d33-437d-92ec-130b1c7ae83b) from Async(default) in 4.42ms
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:40:33.173547"], ["confirmed_at", "2023-08-02 15:40:33.170242"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.1ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 4410)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4118)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.4ms | Allocations: 4339)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: ne3sseiou62nwbry31dbogq2pw6k[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "iknvp7clprrlqlncxssls8mhvk2u"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:40:33.318732"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:40:33.320434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: iknvp7clprrlqlncxssls8mhvk2u (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 14b88890-88ec-46f2-9f73-7bb0ca539f19) to Async(default) with arguments: #<GlobalID:0x00007f8220196820 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [14b88890-88ec-46f2-9f73-7bb0ca539f19]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [14b88890-88ec-46f2-9f73-7bb0ca539f19] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [14b88890-88ec-46f2-9f73-7bb0ca539f19] Performed ActiveStorage::AnalyzeJob (Job ID: 14b88890-88ec-46f2-9f73-7bb0ca539f19) from Async(default) in 2.17ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 103.3ms | Allocations: 8368)
  Rendered layout layouts/application.html.erb (Duration: 106.6ms | Allocations: 10572)
Completed 200 OK in 109ms (Views: 104.9ms | ActiveRecord: 2.4ms | Allocations: 10917)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1756)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1696)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3781)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 4001)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1994)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 4281)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.8ms | Allocations: 4564)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:40:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2622)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 2655)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms | Allocations: 2981)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$NDmqPvdaIq9UVmOzH77LeOu3A.007Ghljr9V1CPpiERNrsUWZ3vwy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:42:54.487325"], ["updated_at", "2023-08-02 15:42:54.487325"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "XQzzLtgs5bpDS1t6sFLN"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:42:54.487566"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ug56nv4fv7spwqs6pdjqrxit3scb"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:42:54.587382"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:42:54.589767"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:42:54.591592"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ug56nv4fv7spwqs6pdjqrxit3scb (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e0989698-d50c-445e-b410-c7f6d1ca96bd) to Async(default) with arguments: #<GlobalID:0x000056159fce2c68 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:42:54.600805"], ["confirmed_at", "2023-08-02 15:42:54.597999"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:42:54 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0989698-d50c-445e-b410-c7f6d1ca96bd]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0989698-d50c-445e-b410-c7f6d1ca96bd] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0989698-d50c-445e-b410-c7f6d1ca96bd] Performed ActiveStorage::AnalyzeJob (Job ID: e0989698-d50c-445e-b410-c7f6d1ca96bd) from Async(default) in 26.74ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.3ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4840.9ms | Allocations: 91235)
  Rendered layout layouts/application.html.erb (Duration: 4859.9ms | Allocations: 109009)
Completed 200 OK in 4883ms (Views: 4871.0ms | ActiveRecord: 0.0ms | Allocations: 115233)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:42:59 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:42:59 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3953)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 6135)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 1.1ms | Allocations: 6976)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:42:59 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: ug56nv4fv7spwqs6pdjqrxit3scb[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0rod6p8uy6ic6whxyxbtigtyyb9j"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:42:59.977917"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:42:59.979707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 0rod6p8uy6ic6whxyxbtigtyyb9j (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bbc0b3e1-fb2f-4091-b362-c586a3039e74) to Async(default) with arguments: #<GlobalID:0x000056159c66d5c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [bbc0b3e1-fb2f-4091-b362-c586a3039e74]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bbc0b3e1-fb2f-4091-b362-c586a3039e74] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [bbc0b3e1-fb2f-4091-b362-c586a3039e74] Performed ActiveStorage::AnalyzeJob (Job ID: bbc0b3e1-fb2f-4091-b362-c586a3039e74) from Async(default) in 1.88ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 290.9ms | Allocations: 57377)
  Rendered layout layouts/application.html.erb (Duration: 294.3ms | Allocations: 59668)
Completed 200 OK in 304ms (Views: 291.5ms | ActiveRecord: 5.3ms | Allocations: 62164)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 9.2ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 5264)
Completed 200 OK in 41ms (Views: 15.2ms | ActiveRecord: 0.2ms | Allocations: 24870)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:43:00.095569"], ["updated_at", "2023-08-02 15:43:00.095569"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1570)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 47.0ms | Allocations: 27954)
  Rendered layout layouts/application.html.erb (Duration: 50.0ms | Allocations: 30138)
Completed 200 OK in 53ms (Views: 48.9ms | ActiveRecord: 2.1ms | Allocations: 30674)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$GajCGTz0nKhKcwLHu2PPn.esFzE8Y7X88sSGpYngWfNnThUm1tVqa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:43:00.172485"], ["updated_at", "2023-08-02 15:43:00.172485"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "RVyz8uxaFM4MHrxC6miD"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:43:00.172630"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vpqyaciu30ljqj61j91lns0p17j3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:43:00.184463"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:43:00.186135"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:43:00.187396"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: vpqyaciu30ljqj61j91lns0p17j3 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 419f92a6-7949-4ab7-8ad1-737cd209a805) to Async(default) with arguments: #<GlobalID:0x000056159f917228 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [419f92a6-7949-4ab7-8ad1-737cd209a805]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [419f92a6-7949-4ab7-8ad1-737cd209a805] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [419f92a6-7949-4ab7-8ad1-737cd209a805] Performed ActiveStorage::AnalyzeJob (Job ID: 419f92a6-7949-4ab7-8ad1-737cd209a805) from Async(default) in 5.71ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:43:00.195532"], ["confirmed_at", "2023-08-02 15:43:00.193275"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 4410)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1939)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4120)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 4341)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: vpqyaciu30ljqj61j91lns0p17j3[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xtnl9l6442us33cdb80ofu0heroe"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:43:00.340299"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:43:00.342387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: xtnl9l6442us33cdb80ofu0heroe (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 89eeffe2-da15-4e64-9f8d-7e923172d302) to Async(default) with arguments: #<GlobalID:0x000056159d375e70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [89eeffe2-da15-4e64-9f8d-7e923172d302]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [89eeffe2-da15-4e64-9f8d-7e923172d302] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [89eeffe2-da15-4e64-9f8d-7e923172d302] Performed ActiveStorage::AnalyzeJob (Job ID: 89eeffe2-da15-4e64-9f8d-7e923172d302) from Async(default) in 1.69ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 105.5ms | Allocations: 8366)
  Rendered layout layouts/application.html.erb (Duration: 108.7ms | Allocations: 10570)
Completed 200 OK in 111ms (Views: 106.6ms | ActiveRecord: 3.0ms | Allocations: 10915)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1768)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1680)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3765)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.2ms | Allocations: 3985)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 4283)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.7ms | Allocations: 4795)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:43:00 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 15.8ms | Allocations: 3803)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 5884)
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 1.4ms | Allocations: 6229)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$hbq3byVj.ddMfcMuAAWAienUyiTfcomitm.A3yyzKrXTLZmKINlVu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:49:25.786701"], ["updated_at", "2023-08-02 15:49:25.786701"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "dEPReRKHtSWfio3EJSQo"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:49:25.786963"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gjigvy1l7i7j4418wo5ng4eoqprq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:49:25.896457"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:49:25.898808"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:49:25.900325"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: gjigvy1l7i7j4418wo5ng4eoqprq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 811e458a-888a-4150-bf57-6c6d9a66abc8) to Async(default) with arguments: #<GlobalID:0x000055687de6b348 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:49:25.909211"], ["confirmed_at", "2023-08-02 15:49:25.906790"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:49:25 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [811e458a-888a-4150-bf57-6c6d9a66abc8]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [811e458a-888a-4150-bf57-6c6d9a66abc8] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [811e458a-888a-4150-bf57-6c6d9a66abc8] Performed ActiveStorage::AnalyzeJob (Job ID: 811e458a-888a-4150-bf57-6c6d9a66abc8) from Async(default) in 32.19ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.6ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5646.7ms | Allocations: 91395)
  Rendered layout layouts/application.html.erb (Duration: 5668.1ms | Allocations: 109169)
Completed 200 OK in 5693ms (Views: 5680.6ms | ActiveRecord: 0.0ms | Allocations: 115393)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:49:31 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:49:31 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3960)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 6142)
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 1.0ms | Allocations: 6983)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:49:31 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: gjigvy1l7i7j4418wo5ng4eoqprq[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "shdphvvvn8v7d9pxcn9sp0zxqi8s"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:49:32.150542"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:49:32.152495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: shdphvvvn8v7d9pxcn9sp0zxqi8s (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cc3035e3-53da-455c-800e-4b6b56cc37ff) to Async(default) with arguments: #<GlobalID:0x00007fd734531958 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc3035e3-53da-455c-800e-4b6b56cc37ff]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc3035e3-53da-455c-800e-4b6b56cc37ff] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc3035e3-53da-455c-800e-4b6b56cc37ff] Performed ActiveStorage::AnalyzeJob (Job ID: cc3035e3-53da-455c-800e-4b6b56cc37ff) from Async(default) in 2.23ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 327.0ms | Allocations: 57375)
  Rendered layout layouts/application.html.erb (Duration: 330.6ms | Allocations: 59666)
Completed 200 OK in 341ms (Views: 327.0ms | ActiveRecord: 5.8ms | Allocations: 62162)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 8.7ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 5264)
Completed 200 OK in 40ms (Views: 15.4ms | ActiveRecord: 0.3ms | Allocations: 24880)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:49:32.274217"], ["updated_at", "2023-08-02 15:49:32.274217"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.7ms | Allocations: 1576)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.4ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 47.3ms | Allocations: 27926)
  Rendered layout layouts/application.html.erb (Duration: 51.4ms | Allocations: 30110)
Completed 200 OK in 55ms (Views: 49.8ms | ActiveRecord: 2.6ms | Allocations: 30646)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$d30QE8rUri/4mOoAwDFe6.fnrx50fTMbbhOw5xLWJjBG/.1Xyi9u."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:49:32.356875"], ["updated_at", "2023-08-02 15:49:32.356875"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "7aALCswd9WyVeWiyxQEW"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:49:32.357047"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2h29bm435b7cfvg5ozenl46l3mtp"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:49:32.370197"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:49:32.372890"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:49:32.375347"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 2h29bm435b7cfvg5ozenl46l3mtp (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e56b394c-9b3a-4e02-bb9a-c2b08e2c7295) to Async(default) with arguments: #<GlobalID:0x000055687da99788 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e56b394c-9b3a-4e02-bb9a-c2b08e2c7295]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e56b394c-9b3a-4e02-bb9a-c2b08e2c7295] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e56b394c-9b3a-4e02-bb9a-c2b08e2c7295] Performed ActiveStorage::AnalyzeJob (Job ID: e56b394c-9b3a-4e02-bb9a-c2b08e2c7295) from Async(default) in 7.31ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:49:32.387514"], ["confirmed_at", "2023-08-02 15:49:32.384617"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.8ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 4410)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1935)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 4116)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 4337)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 2h29bm435b7cfvg5ozenl46l3mtp[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ro4esqo0cgf69d1fztclb31fu9xn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:49:32.539247"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:49:32.541022"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: ro4esqo0cgf69d1fztclb31fu9xn (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b6465276-10ca-4c3f-bc2e-9302c0500a5c) to Async(default) with arguments: #<GlobalID:0x00007fd7341cce20 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b6465276-10ca-4c3f-bc2e-9302c0500a5c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b6465276-10ca-4c3f-bc2e-9302c0500a5c] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b6465276-10ca-4c3f-bc2e-9302c0500a5c] Performed ActiveStorage::AnalyzeJob (Job ID: b6465276-10ca-4c3f-bc2e-9302c0500a5c) from Async(default) in 1.9ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 165.6ms | Allocations: 8367)
  Rendered layout layouts/application.html.erb (Duration: 168.7ms | Allocations: 10571)
Completed 200 OK in 171ms (Views: 167.0ms | ActiveRecord: 2.6ms | Allocations: 10916)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 11ms (ActiveRecord: 0.3ms | Allocations: 1766)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1690)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3775)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 3995)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 4299)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.8ms | Allocations: 4811)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:49:32 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 17.5ms | Allocations: 3791)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 5872)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 1.7ms | Allocations: 6217)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$7.CrCXBNguit9Vr3CClWi.i69wIMK5UFXlnOmNV2ZwJUZR/KL2Nx6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:50:31.257953"], ["updated_at", "2023-08-02 15:50:31.257953"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Lx_zSy9W6H-ubM9X_A4k"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:50:31.258317"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7f6med4vnrg9ae82mq2fpz3zq88i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:50:31.371667"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:50:31.373909"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:50:31.375288"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 7f6med4vnrg9ae82mq2fpz3zq88i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cf20f3f6-3a62-43d9-b6c5-a6fd50019e22) to Async(default) with arguments: #<GlobalID:0x00007fcaa8f48858 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:50:31.388358"], ["confirmed_at", "2023-08-02 15:50:31.382969"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:50:31 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf20f3f6-3a62-43d9-b6c5-a6fd50019e22]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf20f3f6-3a62-43d9-b6c5-a6fd50019e22] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf20f3f6-3a62-43d9-b6c5-a6fd50019e22] Performed ActiveStorage::AnalyzeJob (Job ID: cf20f3f6-3a62-43d9-b6c5-a6fd50019e22) from Async(default) in 28.16ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.3ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5164.9ms | Allocations: 91504)
  Rendered layout layouts/application.html.erb (Duration: 5183.9ms | Allocations: 109278)
Completed 200 OK in 5209ms (Views: 5195.2ms | ActiveRecord: 0.0ms | Allocations: 115502)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:50:36 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:50:36 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3953)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 6135)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.9ms | Allocations: 6976)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:50:36 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 7f6med4vnrg9ae82mq2fpz3zq88i[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1yf8zhfq0kir7sui7659pveslxq7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:50:37.063973"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:50:37.066156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 1yf8zhfq0kir7sui7659pveslxq7 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b9c3fcc5-c62c-434d-983c-efb45442ad56) to Async(default) with arguments: #<GlobalID:0x0000564ad0c6bcd8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b9c3fcc5-c62c-434d-983c-efb45442ad56]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b9c3fcc5-c62c-434d-983c-efb45442ad56] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b9c3fcc5-c62c-434d-983c-efb45442ad56] Performed ActiveStorage::AnalyzeJob (Job ID: b9c3fcc5-c62c-434d-983c-efb45442ad56) from Async(default) in 1.98ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 268.4ms | Allocations: 57363)
  Rendered layout layouts/application.html.erb (Duration: 272.0ms | Allocations: 59654)
Completed 200 OK in 282ms (Views: 268.8ms | ActiveRecord: 5.3ms | Allocations: 62150)
Started GET "/books/new" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 8.3ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 5264)
Completed 200 OK in 43ms (Views: 15.2ms | ActiveRecord: 0.2ms | Allocations: 24876)
Started POST "/books" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-02 15:50:37.189225"], ["updated_at", "2023-08-02 15:50:37.189225"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.6ms | Allocations: 1546)
Started GET "/books/1" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 47.3ms | Allocations: 27922)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 30106)
Completed 200 OK in 54ms (Views: 49.3ms | ActiveRecord: 2.1ms | Allocations: 30642)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$FSuRhgxadZD00ilOypy3ruE9MJKLUm8C6hGUHLktv6FR05aBbwTHi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-02 15:50:37.267685"], ["updated_at", "2023-08-02 15:50:37.267685"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "GJLo1xXUjhMHz8LD52qU"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-02 15:50:37.267806"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "m23xthui83vy5b7nxysavk3rrjls"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-02 15:50:37.281396"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-02 15:50:37.284403"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:50:37.286572"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: m23xthui83vy5b7nxysavk3rrjls (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 63de1562-0a61-45c2-be63-d36502909463) to Async(default) with arguments: #<GlobalID:0x0000564ad32f4710 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63de1562-0a61-45c2-be63-d36502909463]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63de1562-0a61-45c2-be63-d36502909463] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [63de1562-0a61-45c2-be63-d36502909463] Performed ActiveStorage::AnalyzeJob (Job ID: 63de1562-0a61-45c2-be63-d36502909463) from Async(default) in 3.89ms
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-02 15:50:37.296476"], ["confirmed_at", "2023-08-02 15:50:37.293170"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 4410)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1941)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4122)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.3ms | Allocations: 4343)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: m23xthui83vy5b7nxysavk3rrjls[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qsb7crfhzpoeah1z2u69ofy3mygu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-02 15:50:37.446738"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-02 15:50:37.448359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: qsb7crfhzpoeah1z2u69ofy3mygu (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f1bf83a2-6e1c-430a-b606-1f4075303a94) to Async(default) with arguments: #<GlobalID:0x00007fcaa8186f08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1bf83a2-6e1c-430a-b606-1f4075303a94]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1bf83a2-6e1c-430a-b606-1f4075303a94] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1bf83a2-6e1c-430a-b606-1f4075303a94] Performed ActiveStorage::AnalyzeJob (Job ID: f1bf83a2-6e1c-430a-b606-1f4075303a94) from Async(default) in 1.78ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 105.2ms | Allocations: 8360)
  Rendered layout layouts/application.html.erb (Duration: 108.4ms | Allocations: 10564)
Completed 200 OK in 111ms (Views: 106.6ms | ActiveRecord: 2.7ms | Allocations: 10909)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1762)
Started GET "/" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1688)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3773)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 3993)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 4289)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.7ms | Allocations: 4801)
Started GET "/users/1" for 127.0.0.1 at 2023-08-02 17:50:37 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 16.6ms | Allocations: 3803)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 5884)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 1.3ms | Allocations: 6229)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$5xNQy2U3ybMtDQY0xsiO5.rzbb8HYTX5kzzoER97QuiiAxLEzpocC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:06:47.325558"], ["updated_at", "2023-08-06 14:06:47.325558"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "q81m5zYgffytuHgncWs3"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:06:47.325818"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "403ulg8knvgfspxzeqybi9dlzrbb"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:06:47.492161"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:06:47.494204"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:06:47.495935"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 403ulg8knvgfspxzeqybi9dlzrbb (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6ed84e18-1a8a-4796-af05-72d353850f5f) to Async(default) with arguments: #<GlobalID:0x000055be76340d98 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:06:47.504817"], ["confirmed_at", "2023-08-06 14:06:47.502400"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:06:47 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed84e18-1a8a-4796-af05-72d353850f5f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed84e18-1a8a-4796-af05-72d353850f5f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed84e18-1a8a-4796-af05-72d353850f5f] Performed ActiveStorage::AnalyzeJob (Job ID: 6ed84e18-1a8a-4796-af05-72d353850f5f) from Async(default) in 37.91ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.0ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5895.6ms | Allocations: 91903)
  Rendered layout layouts/application.html.erb (Duration: 5913.8ms | Allocations: 109658)
Completed 200 OK in 5975ms (Views: 5963.0ms | ActiveRecord: 0.0ms | Allocations: 115882)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:06:53 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 33ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:06:53 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3969)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 6151)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 1.0ms | Allocations: 6992)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:06:53 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 403ulg8knvgfspxzeqybi9dlzrbb[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hi3pxtegaty0t464nkdmse28ps3y"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:06:55.616432"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:06:55.618092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: hi3pxtegaty0t464nkdmse28ps3y (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 39666dbd-b438-42ad-8253-891b9f6b3c62) to Async(default) with arguments: #<GlobalID:0x000055be7353eaf8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [39666dbd-b438-42ad-8253-891b9f6b3c62]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [39666dbd-b438-42ad-8253-891b9f6b3c62] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [39666dbd-b438-42ad-8253-891b9f6b3c62] Performed ActiveStorage::AnalyzeJob (Job ID: 39666dbd-b438-42ad-8253-891b9f6b3c62) from Async(default) in 1.9ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 1672.8ms | Allocations: 57407)
  Rendered layout layouts/application.html.erb (Duration: 1676.0ms | Allocations: 59698)
Completed 200 OK in 1707ms (Views: 1673.5ms | ActiveRecord: 4.6ms | Allocations: 62194)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.9ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5264)
Completed 200 OK in 35ms (Views: 13.6ms | ActiveRecord: 0.1ms | Allocations: 24872)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-06 14:06:55.781580"], ["updated_at", "2023-08-06 14:06:55.781580"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1564)
Started GET "/books/1" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 39.8ms | Allocations: 27982)
  Rendered layout layouts/application.html.erb (Duration: 42.6ms | Allocations: 30166)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 1.8ms | Allocations: 30702)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3751)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.3ms | Allocations: 3972)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$sVgTxUlZ5u4moGFbLXKJs..HPT/MW77sHMgTRIu5mViBVSlS7uHGS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:06:55.935334"], ["updated_at", "2023-08-06 14:06:55.935334"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "rMeBYyg9RbY4DD4bvs5i"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:06:55.935451"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ui9js6x4fwapt9xsa0iyvxybaqmd"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:06:55.946617"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:06:55.948417"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:06:55.949697"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: ui9js6x4fwapt9xsa0iyvxybaqmd (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 41002f05-eebd-437c-b678-7ee03d78222d) to Async(default) with arguments: #<GlobalID:0x00007f8690d2c120 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [41002f05-eebd-437c-b678-7ee03d78222d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [41002f05-eebd-437c-b678-7ee03d78222d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:06:55.958382"], ["confirmed_at", "2023-08-06 14:06:55.956104"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [41002f05-eebd-437c-b678-7ee03d78222d] Performed ActiveStorage::AnalyzeJob (Job ID: 41002f05-eebd-437c-b678-7ee03d78222d) from Async(default) in 5.84ms
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.4ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2289)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 4405)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 4933)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:06:55 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1942)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4111)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.3ms | Allocations: 4331)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:06:56 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: ui9js6x4fwapt9xsa0iyvxybaqmd[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6lz0z6ogln2npwq0kmpit51njz8w"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:06:56.095734"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:06:56.097204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 6lz0z6ogln2npwq0kmpit51njz8w (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 67213180-430d-468c-a5f9-ddfde2fcfb4a) to Async(default) with arguments: #<GlobalID:0x00007f869017ea30 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [67213180-430d-468c-a5f9-ddfde2fcfb4a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [67213180-430d-468c-a5f9-ddfde2fcfb4a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [67213180-430d-468c-a5f9-ddfde2fcfb4a] Performed ActiveStorage::AnalyzeJob (Job ID: 67213180-430d-468c-a5f9-ddfde2fcfb4a) from Async(default) in 1.83ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 99.6ms | Allocations: 8372)
  Rendered layout layouts/application.html.erb (Duration: 102.5ms | Allocations: 10576)
Completed 200 OK in 104ms (Views: 101.1ms | ActiveRecord: 2.1ms | Allocations: 10921)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:06:56 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 40ms (ActiveRecord: 0.3ms | Allocations: 1760)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:06:56 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1692)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3775)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 3995)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:06:56 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 4279)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.7ms | Allocations: 4791)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:06:56 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 16.1ms | Allocations: 3791)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 5872)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 1.4ms | Allocations: 6217)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$9pP6aLGhehLxciauxEodg.PRdDxlXN.dyunGmow3zAHgyU77sbrGC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:10:36.404410"], ["updated_at", "2023-08-06 14:10:36.404410"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "os3jRLXVaRXXBf4m38yA"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:10:36.404653"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1jlm4kfk5eg4ip2k1vmwqq9mhs3n"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:10:36.584025"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:10:36.586188"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:10:36.587778"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 1jlm4kfk5eg4ip2k1vmwqq9mhs3n (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 84e89eda-5420-4caf-a150-1fe08729d198) to Async(default) with arguments: #<GlobalID:0x000055c41cf1fe60 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:10:36.596720"], ["confirmed_at", "2023-08-06 14:10:36.594068"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:10:36 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [84e89eda-5420-4caf-a150-1fe08729d198]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [84e89eda-5420-4caf-a150-1fe08729d198] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [84e89eda-5420-4caf-a150-1fe08729d198] Performed ActiveStorage::AnalyzeJob (Job ID: 84e89eda-5420-4caf-a150-1fe08729d198) from Async(default) in 93.2ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.0ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4746.3ms | Allocations: 91324)
  Rendered layout layouts/application.html.erb (Duration: 4763.9ms | Allocations: 109098)
Completed 200 OK in 4787ms (Views: 4774.8ms | ActiveRecord: 0.0ms | Allocations: 115322)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:10:41 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:10:41 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3955)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 6137)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.9ms | Allocations: 6978)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:10:41 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1jlm4kfk5eg4ip2k1vmwqq9mhs3n[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gsg626jnxdr6cc4th90zlonhqb4i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:10:42.224194"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:10:42.225871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: gsg626jnxdr6cc4th90zlonhqb4i (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ac100ff8-b956-4b0f-b9f1-cdb18c382b67) to Async(default) with arguments: #<GlobalID:0x00007f85a051c340 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac100ff8-b956-4b0f-b9f1-cdb18c382b67]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac100ff8-b956-4b0f-b9f1-cdb18c382b67] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac100ff8-b956-4b0f-b9f1-cdb18c382b67] Performed ActiveStorage::AnalyzeJob (Job ID: ac100ff8-b956-4b0f-b9f1-cdb18c382b67) from Async(default) in 1.94ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 447.0ms | Allocations: 57373)
  Rendered layout layouts/application.html.erb (Duration: 450.3ms | Allocations: 59664)
Completed 200 OK in 460ms (Views: 448.1ms | ActiveRecord: 4.3ms | Allocations: 62160)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.5ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5264)
Completed 200 OK in 35ms (Views: 13.7ms | ActiveRecord: 0.1ms | Allocations: 24868)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-06 14:10:42.388849"], ["updated_at", "2023-08-06 14:10:42.388849"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1562)
Started GET "/books/1" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 40.7ms | Allocations: 27940)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 30124)
Completed 200 OK in 46ms (Views: 42.8ms | ActiveRecord: 1.9ms | Allocations: 30660)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3751)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.3ms | Allocations: 3972)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$VbBj0TPKOBM9fmnV2iWB/OLgZ4V0sKmeAtUA4HVA8c/0NfyPPYauS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:10:42.475001"], ["updated_at", "2023-08-06 14:10:42.475001"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zYtudYQ4mZLvFcKuLRdo"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:10:42.475115"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bez6r8aw0qcydlu5qzr6vqn0vwmq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:10:42.486779"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:10:42.488448"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:10:42.489769"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: bez6r8aw0qcydlu5qzr6vqn0vwmq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ff0b7d15-c8c6-4098-82b4-2853a8e1ddb4) to Async(default) with arguments: #<GlobalID:0x000055c41cb9e2a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0b7d15-c8c6-4098-82b4-2853a8e1ddb4]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0b7d15-c8c6-4098-82b4-2853a8e1ddb4] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff0b7d15-c8c6-4098-82b4-2853a8e1ddb4] Performed ActiveStorage::AnalyzeJob (Job ID: ff0b7d15-c8c6-4098-82b4-2853a8e1ddb4) from Async(default) in 3.36ms
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:10:42.498957"], ["confirmed_at", "2023-08-06 14:10:42.496035"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.4ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2289)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4405)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 4933)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1932)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4101)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4321)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: bez6r8aw0qcydlu5qzr6vqn0vwmq[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kftsrbvxsymvnujwk5stgg67seit"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:10:42.632051"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:10:42.633534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: kftsrbvxsymvnujwk5stgg67seit (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ca5926b0-39f5-46f7-a530-876e3ce032ba) to Async(default) with arguments: #<GlobalID:0x00007f85a0193660 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca5926b0-39f5-46f7-a530-876e3ce032ba]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca5926b0-39f5-46f7-a530-876e3ce032ba] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [ca5926b0-39f5-46f7-a530-876e3ce032ba] Performed ActiveStorage::AnalyzeJob (Job ID: ca5926b0-39f5-46f7-a530-876e3ce032ba) from Async(default) in 1.82ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 96.4ms | Allocations: 8369)
  Rendered layout layouts/application.html.erb (Duration: 99.3ms | Allocations: 10573)
Completed 200 OK in 101ms (Views: 98.0ms | ActiveRecord: 2.1ms | Allocations: 10918)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.2ms | Allocations: 1770)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1704)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3787)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.2ms | Allocations: 4007)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4291)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.7ms | Allocations: 4803)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:10:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3793)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 5874)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 1.1ms | Allocations: 6219)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$HEARHWftRIFSqXPxzLi4LucOYyrQmebJZm6IUzsUh4XaEqvYGlGkG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:11:19.897863"], ["updated_at", "2023-08-06 14:11:19.897863"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Sx5MLNdRzJptx7ztS7f1"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:11:19.898157"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3mnf0yqst26a2n1rwqqq13mvnzti"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:11:19.988183"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:11:19.990215"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:11:19.991583"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 3mnf0yqst26a2n1rwqqq13mvnzti (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fd44c309-8838-4876-ac77-7a20c2bc2761) to Async(default) with arguments: #<GlobalID:0x00005560fdceb2e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:11:20.001928"], ["confirmed_at", "2023-08-06 14:11:19.997403"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:11:20 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd44c309-8838-4876-ac77-7a20c2bc2761]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd44c309-8838-4876-ac77-7a20c2bc2761] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [fd44c309-8838-4876-ac77-7a20c2bc2761] Performed ActiveStorage::AnalyzeJob (Job ID: fd44c309-8838-4876-ac77-7a20c2bc2761) from Async(default) in 26.27ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 3.9ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4404.8ms | Allocations: 91418)
  Rendered layout layouts/application.html.erb (Duration: 4421.7ms | Allocations: 109192)
Completed 200 OK in 4442ms (Views: 4430.7ms | ActiveRecord: 0.0ms | Allocations: 115414)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:11:24 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 11ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:11:24 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.4ms | Allocations: 3969)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 6151)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.9ms | Allocations: 6992)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:11:24 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 3mnf0yqst26a2n1rwqqq13mvnzti[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xljzac3z3x4co02o873olb6txg24"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:11:24.905502"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:11:24.907161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: xljzac3z3x4co02o873olb6txg24 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 83495098-a956-497b-910b-8ea8cadba7b5) to Async(default) with arguments: #<GlobalID:0x00005560fae56310 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [83495098-a956-497b-910b-8ea8cadba7b5]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [83495098-a956-497b-910b-8ea8cadba7b5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [83495098-a956-497b-910b-8ea8cadba7b5] Performed ActiveStorage::AnalyzeJob (Job ID: 83495098-a956-497b-910b-8ea8cadba7b5) from Async(default) in 1.91ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 283.2ms | Allocations: 57373)
  Rendered layout layouts/application.html.erb (Duration: 286.4ms | Allocations: 59664)
Completed 200 OK in 296ms (Views: 284.5ms | ActiveRecord: 4.2ms | Allocations: 62160)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:11:24 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.4ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 5264)
Completed 200 OK in 36ms (Views: 13.1ms | ActiveRecord: 0.1ms | Allocations: 24876)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-06 14:11:25.011572"], ["updated_at", "2023-08-06 14:11:25.011572"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 1562)
Started GET "/books/1" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 38.3ms | Allocations: 27928)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | Allocations: 30112)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 1.8ms | Allocations: 30648)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3751)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 3972)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$qvIofRux8UmeyfX3K6F5aOKTqOLBKrdCT2HjHrG1YlLnGsgEaOSbm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:11:25.097593"], ["updated_at", "2023-08-06 14:11:25.097593"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "WsQFnBJJaLxQYhrpoXxX"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:11:25.097708"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1c887vqqmgdn5dg2ydmkgoxv0r0a"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:11:25.108882"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:11:25.111278"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:11:25.112873"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 1c887vqqmgdn5dg2ydmkgoxv0r0a (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5a92ca7e-a97b-4af6-945d-2cc29b6a834c) to Async(default) with arguments: #<GlobalID:0x00007f1ea0277d18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a92ca7e-a97b-4af6-945d-2cc29b6a834c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a92ca7e-a97b-4af6-945d-2cc29b6a834c] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:11:25.121803"], ["confirmed_at", "2023-08-06 14:11:25.119304"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5a92ca7e-a97b-4af6-945d-2cc29b6a834c] Performed ActiveStorage::AnalyzeJob (Job ID: 5a92ca7e-a97b-4af6-945d-2cc29b6a834c) from Async(default) in 3.42ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.3ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2289)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 4405)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 4933)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1922)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4091)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 4311)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1c887vqqmgdn5dg2ydmkgoxv0r0a[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "lee0fi7n8wq15xbf10wty34vmrix"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:11:25.256355"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:11:25.257827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: lee0fi7n8wq15xbf10wty34vmrix (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9efb1939-3021-4ed7-9655-b981b38febd8) to Async(default) with arguments: #<GlobalID:0x00005560f88c56f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9efb1939-3021-4ed7-9655-b981b38febd8]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9efb1939-3021-4ed7-9655-b981b38febd8] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [9efb1939-3021-4ed7-9655-b981b38febd8] Performed ActiveStorage::AnalyzeJob (Job ID: 9efb1939-3021-4ed7-9655-b981b38febd8) from Async(default) in 1.75ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 99.8ms | Allocations: 8327)
  Rendered layout layouts/application.html.erb (Duration: 102.6ms | Allocations: 10531)
Completed 200 OK in 105ms (Views: 101.3ms | ActiveRecord: 2.1ms | Allocations: 10876)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.2ms | Allocations: 1756)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1686)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3769)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 3989)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 4287)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.7ms | Allocations: 4799)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:11:25 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3793)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 5874)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 1.1ms | Allocations: 6219)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:16:25 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4463.3ms | Allocations: 89912)
  Rendered layout layouts/application.html.erb (Duration: 4480.9ms | Allocations: 107669)
Completed 200 OK in 4497ms (Views: 4484.3ms | ActiveRecord: 0.8ms | Allocations: 114961)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$tESo4cF86I7NLIGun45wuumFuM5bPnxTBvPBvUB7QO/Kx2VaRLjO."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:16:30.008775"], ["updated_at", "2023-08-06 14:16:30.008775"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "5ksgbDNtnXejZmY6WoVc"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:16:30.009011"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "lavh0xz1azutqms2fd8rtbvgrw7t"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:16:30.095035"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:16:30.097065"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:16:30.098512"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: lavh0xz1azutqms2fd8rtbvgrw7t (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3a6a8997-50d3-4288-a9ca-bcc09d0083ca) to Async(default) with arguments: #<GlobalID:0x000055f9566eb0b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:16:30.106945"], ["confirmed_at", "2023-08-06 14:16:30.104238"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a6a8997-50d3-4288-a9ca-bcc09d0083ca]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a6a8997-50d3-4288-a9ca-bcc09d0083ca] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3a6a8997-50d3-4288-a9ca-bcc09d0083ca] Performed ActiveStorage::AnalyzeJob (Job ID: 3a6a8997-50d3-4288-a9ca-bcc09d0083ca) from Async(default) in 9.93ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 3.8ms | Allocations: 1723)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 16.4ms | Allocations: 5513)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 7629)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.0ms | Allocations: 9358)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 11ms (ActiveRecord: 0.3ms | Allocations: 2600)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2033)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4215)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.4ms | Allocations: 4436)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: lavh0xz1azutqms2fd8rtbvgrw7t[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0yflp0k6gnnuii1x9pk4se4ui6gn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:16:30.586496"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:16:30.588222"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 0yflp0k6gnnuii1x9pk4se4ui6gn (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f09ef240-5980-4b4b-845f-93bd273d424b) to Async(default) with arguments: #<GlobalID:0x00007f4968494400 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f09ef240-5980-4b4b-845f-93bd273d424b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f09ef240-5980-4b4b-845f-93bd273d424b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f09ef240-5980-4b4b-845f-93bd273d424b] Performed ActiveStorage::AnalyzeJob (Job ID: f09ef240-5980-4b4b-845f-93bd273d424b) from Async(default) in 2.06ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 409.6ms | Allocations: 57362)
  Rendered layout layouts/application.html.erb (Duration: 413.5ms | Allocations: 59653)
Completed 200 OK in 422ms (Views: 410.9ms | ActiveRecord: 4.7ms | Allocations: 62146)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1839)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1730)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3827)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4100)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2002)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4295)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.9ms | Allocations: 4810)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:16:30 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 14.2ms | Allocations: 3812)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 5893)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 1.2ms | Allocations: 6240)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$ZlIwNiaX.oxMxIv0xv76BeO.Jfuj0um1Vywt70P1F/S1CSB9QwD/C"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:17:25.696831"], ["updated_at", "2023-08-06 14:17:25.696831"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "2KX8YKk_axBaJzVMMQuB"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:17:25.697114"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "p5e184vbvfxvfa6w1jotn6udb8cv"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:17:25.784462"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:17:25.786456"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:17:25.787791"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: p5e184vbvfxvfa6w1jotn6udb8cv (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a1930284-9e17-48e8-a975-87cae09fd190) to Async(default) with arguments: #<GlobalID:0x000055dad6732538 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:17:25.796748"], ["confirmed_at", "2023-08-06 14:17:25.793806"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:17:25 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1930284-9e17-48e8-a975-87cae09fd190]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1930284-9e17-48e8-a975-87cae09fd190] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1930284-9e17-48e8-a975-87cae09fd190] Performed ActiveStorage::AnalyzeJob (Job ID: a1930284-9e17-48e8-a975-87cae09fd190) from Async(default) in 26.64ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.1ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4199.7ms | Allocations: 91488)
  Rendered layout layouts/application.html.erb (Duration: 4216.6ms | Allocations: 109262)
Completed 200 OK in 4236ms (Views: 4225.5ms | ActiveRecord: 0.0ms | Allocations: 115486)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 11ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3965)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 6147)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.9ms | Allocations: 6988)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: p5e184vbvfxvfa6w1jotn6udb8cv[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "o1ck36p6cyoi56bmx0e9m2139elc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:17:30.436266"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:17:30.437910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: o1ck36p6cyoi56bmx0e9m2139elc (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0b1ac50b-d86d-4e52-9b2a-b45ca1590f3f) to Async(default) with arguments: #<GlobalID:0x00007f00c04f8180 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b1ac50b-d86d-4e52-9b2a-b45ca1590f3f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b1ac50b-d86d-4e52-9b2a-b45ca1590f3f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b1ac50b-d86d-4e52-9b2a-b45ca1590f3f] Performed ActiveStorage::AnalyzeJob (Job ID: 0b1ac50b-d86d-4e52-9b2a-b45ca1590f3f) from Async(default) in 1.84ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 223.6ms | Allocations: 57374)
  Rendered layout layouts/application.html.erb (Duration: 226.7ms | Allocations: 59665)
Completed 200 OK in 235ms (Views: 224.5ms | ActiveRecord: 4.2ms | Allocations: 62161)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.3ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5264)
Completed 200 OK in 35ms (Views: 12.9ms | ActiveRecord: 0.1ms | Allocations: 24878)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-06 14:17:30.540125"], ["updated_at", "2023-08-06 14:17:30.540125"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.5ms | Allocations: 1552)
Started GET "/books/1" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 38.8ms | Allocations: 27940)
  Rendered layout layouts/application.html.erb (Duration: 41.9ms | Allocations: 30124)
Completed 200 OK in 45ms (Views: 41.0ms | ActiveRecord: 1.8ms | Allocations: 30660)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3751)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 3972)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$WiCwcR1id9Q1ZT3vjLeSSu870igR4Q0Eujz1lYcfkkbWj.h7Ya3yu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:17:30.626757"], ["updated_at", "2023-08-06 14:17:30.626757"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "x87tn-Nc4cosjuxYsy5f"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:17:30.626873"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dtt8mpj9tkb2bs5tfst9jp2tzpf3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:17:30.637935"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:17:30.639524"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:17:30.640816"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: dtt8mpj9tkb2bs5tfst9jp2tzpf3 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7ff6f49c-3b25-4b80-827b-95d22e8960bd) to Async(default) with arguments: #<GlobalID:0x000055dad63fcad0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:17:30.648888"], ["confirmed_at", "2023-08-06 14:17:30.646974"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ff6f49c-3b25-4b80-827b-95d22e8960bd]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ff6f49c-3b25-4b80-827b-95d22e8960bd] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ff6f49c-3b25-4b80-827b-95d22e8960bd] Performed ActiveStorage::AnalyzeJob (Job ID: 7ff6f49c-3b25-4b80-827b-95d22e8960bd) from Async(default) in 5.43ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.3ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2289)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 4405)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 4933)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1930)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 4099)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 4319)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: dtt8mpj9tkb2bs5tfst9jp2tzpf3[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uk8ax5z8zrmreeh59ay78obxc1vh"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:17:30.781602"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:17:30.783111"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: uk8ax5z8zrmreeh59ay78obxc1vh (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fc2593d5-99a6-4fb6-873c-8d97652c0223) to Async(default) with arguments: #<GlobalID:0x00007f00c0166530 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc2593d5-99a6-4fb6-873c-8d97652c0223]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc2593d5-99a6-4fb6-873c-8d97652c0223] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc2593d5-99a6-4fb6-873c-8d97652c0223] Performed ActiveStorage::AnalyzeJob (Job ID: fc2593d5-99a6-4fb6-873c-8d97652c0223) from Async(default) in 1.76ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 97.8ms | Allocations: 8363)
  Rendered layout layouts/application.html.erb (Duration: 101.0ms | Allocations: 10567)
Completed 200 OK in 103ms (Views: 99.5ms | ActiveRecord: 2.2ms | Allocations: 10912)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 10ms (ActiveRecord: 0.3ms | Allocations: 1748)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1686)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3769)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.2ms | Allocations: 3989)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 4289)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.7ms | Allocations: 4801)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:17:30 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3783)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 5864)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 1.3ms | Allocations: 6209)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$DT0OVrbgCaf4o/6gfVHxnO9OFlkMFVax8GRp9EB9Pi9Y9lZNmAXzG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:18:43.806491"], ["updated_at", "2023-08-06 14:18:43.806491"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "TV2WfSGCRzszeDmvtVyX"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:18:43.806710"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ph1qahaxp129nhwccr03e6alsx8z"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:18:43.896431"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:18:43.898398"]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:18:43.899842"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ph1qahaxp129nhwccr03e6alsx8z (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6f2566b4-7537-497e-b8ad-1f05eaacdcc7) to Async(default) with arguments: #<GlobalID:0x0000564b836d8ba0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:18:43.908850"], ["confirmed_at", "2023-08-06 14:18:43.906492"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:18:43 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2566b4-7537-497e-b8ad-1f05eaacdcc7]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2566b4-7537-497e-b8ad-1f05eaacdcc7] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2566b4-7537-497e-b8ad-1f05eaacdcc7] Performed ActiveStorage::AnalyzeJob (Job ID: 6f2566b4-7537-497e-b8ad-1f05eaacdcc7) from Async(default) in 26.02ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 3.8ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4157.2ms | Allocations: 91683)
  Rendered layout layouts/application.html.erb (Duration: 4173.5ms | Allocations: 109457)
Completed 200 OK in 4193ms (Views: 4182.7ms | ActiveRecord: 0.0ms | Allocations: 115681)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 11ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3959)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 6141)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.9ms | Allocations: 6982)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: ph1qahaxp129nhwccr03e6alsx8z[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6xgv52lhv1va0b7owkiaigcbs84q"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:18:48.507262"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:18:48.508926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 6xgv52lhv1va0b7owkiaigcbs84q (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 528a5411-035c-413a-a968-1a692bd1183f) to Async(default) with arguments: #<GlobalID:0x0000564b7ee36f78 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [528a5411-035c-413a-a968-1a692bd1183f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [528a5411-035c-413a-a968-1a692bd1183f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [528a5411-035c-413a-a968-1a692bd1183f] Performed ActiveStorage::AnalyzeJob (Job ID: 528a5411-035c-413a-a968-1a692bd1183f) from Async(default) in 1.96ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 223.5ms | Allocations: 57385)
  Rendered layout layouts/application.html.erb (Duration: 226.6ms | Allocations: 59676)
Completed 200 OK in 236ms (Views: 224.4ms | ActiveRecord: 4.3ms | Allocations: 62172)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.2ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5264)
Completed 200 OK in 38ms (Views: 13.0ms | ActiveRecord: 0.1ms | Allocations: 24870)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-06 14:18:48.613871"], ["updated_at", "2023-08-06 14:18:48.613871"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1552)
Started GET "/books/1" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 37.8ms | Allocations: 27942)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 30126)
Completed 200 OK in 44ms (Views: 40.0ms | ActiveRecord: 1.8ms | Allocations: 30662)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1656)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3751)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 3972)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$keDkM80XNTrbCpgPQotw/.z2NlrEv2ztMAJj2IZcZk.dXO04em8Iu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:18:48.699320"], ["updated_at", "2023-08-06 14:18:48.699320"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "-NN6QsXBJG8njdqvUowG"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:18:48.699436"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1wx6gs80mt49sn4g11c3kxjlv0dn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:18:48.710595"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:18:48.712155"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:18:48.713338"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 1wx6gs80mt49sn4g11c3kxjlv0dn (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c0331ecf-5612-4539-8f32-2c07b3df2839) to Async(default) with arguments: #<GlobalID:0x00007f8184c39dc8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0331ecf-5612-4539-8f32-2c07b3df2839]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0331ecf-5612-4539-8f32-2c07b3df2839] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0331ecf-5612-4539-8f32-2c07b3df2839] Performed ActiveStorage::AnalyzeJob (Job ID: c0331ecf-5612-4539-8f32-2c07b3df2839) from Async(default) in 3.05ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:18:48.721863"], ["confirmed_at", "2023-08-06 14:18:48.719351"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.5ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2289)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4405)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 4933)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1928)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 4097)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 4317)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1wx6gs80mt49sn4g11c3kxjlv0dn[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bajgre4acc59gekzy4fxoc5uaxnw"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:18:48.854373"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:18:48.855825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: bajgre4acc59gekzy4fxoc5uaxnw (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b2c21982-fa35-4967-9cd0-23bd16b8154b) to Async(default) with arguments: #<GlobalID:0x00007f8184160f78 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c21982-fa35-4967-9cd0-23bd16b8154b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c21982-fa35-4967-9cd0-23bd16b8154b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c21982-fa35-4967-9cd0-23bd16b8154b] Performed ActiveStorage::AnalyzeJob (Job ID: b2c21982-fa35-4967-9cd0-23bd16b8154b) from Async(default) in 1.75ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 96.4ms | Allocations: 8306)
  Rendered layout layouts/application.html.erb (Duration: 99.3ms | Allocations: 10510)
Completed 200 OK in 101ms (Views: 97.9ms | ActiveRecord: 2.1ms | Allocations: 10855)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.3ms | Allocations: 1766)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1698)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3781)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4001)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4295)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.7ms | Allocations: 4807)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:18:48 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3789)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 5870)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 1.1ms | Allocations: 6215)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$PSSMs9rm7Jfd84GheTe79OwpCf.AEOaWJKwVoWpHpk7nqmra1JmVC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:22:19.378623"], ["updated_at", "2023-08-06 14:22:19.378623"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "xEapxRuu5ZFtKedoGiPx"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:22:19.378860"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gi2h54dib3f8qc3qbkis1kjmxvzq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:22:19.468020"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:22:19.469999"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:22:19.471463"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: gi2h54dib3f8qc3qbkis1kjmxvzq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2c60d23b-70a1-4ea4-bf64-92371752e357) to Async(default) with arguments: #<GlobalID:0x000055607e5c18e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:22:19.479548"], ["confirmed_at", "2023-08-06 14:22:19.477262"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:22:19 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c60d23b-70a1-4ea4-bf64-92371752e357]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c60d23b-70a1-4ea4-bf64-92371752e357] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c60d23b-70a1-4ea4-bf64-92371752e357] Performed ActiveStorage::AnalyzeJob (Job ID: 2c60d23b-70a1-4ea4-bf64-92371752e357) from Async(default) in 25.0ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.0ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4373.5ms | Allocations: 91985)
  Rendered layout layouts/application.html.erb (Duration: 4392.8ms | Allocations: 109759)
Completed 200 OK in 4413ms (Views: 4402.0ms | ActiveRecord: 0.0ms | Allocations: 115983)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 12ms (ActiveRecord: 0.4ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3953)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 6135)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.9ms | Allocations: 6976)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: gi2h54dib3f8qc3qbkis1kjmxvzq[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "83bdihv1d0qx8y5ddw3lryo01qfh"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:22:24.396158"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:22:24.397832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 83bdihv1d0qx8y5ddw3lryo01qfh (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3885d824-5a42-4468-9cd0-7bc2116e4dd0) to Async(default) with arguments: #<GlobalID:0x00007f225c4fe770 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3885d824-5a42-4468-9cd0-7bc2116e4dd0]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3885d824-5a42-4468-9cd0-7bc2116e4dd0] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3885d824-5a42-4468-9cd0-7bc2116e4dd0] Performed ActiveStorage::AnalyzeJob (Job ID: 3885d824-5a42-4468-9cd0-7bc2116e4dd0) from Async(default) in 1.92ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 314.5ms | Allocations: 57384)
  Rendered layout layouts/application.html.erb (Duration: 317.9ms | Allocations: 59675)
Completed 200 OK in 327ms (Views: 315.8ms | ActiveRecord: 4.2ms | Allocations: 62171)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 7.4ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 5264)
Completed 200 OK in 36ms (Views: 13.9ms | ActiveRecord: 0.1ms | Allocations: 24870)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-06 14:22:24.501927"], ["updated_at", "2023-08-06 14:22:24.501927"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1550)
Started GET "/books/1" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 41.3ms | Allocations: 27942)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 30126)
Completed 200 OK in 47ms (Views: 43.4ms | ActiveRecord: 1.8ms | Allocations: 30662)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$r7fpMSg2iYkuGFdGSJufwehj.Mr7LGlboa8Q0x51xFK0x174zLhfq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:22:24.571496"], ["updated_at", "2023-08-06 14:22:24.571496"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "9k-Zuiry2CdUXFMnGFhj"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:22:24.571657"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5kv2rdoogqtclm38gmii0r2zaxf9"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:22:24.583473"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:22:24.585037"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:22:24.586417"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 5kv2rdoogqtclm38gmii0r2zaxf9 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 077baf31-419b-4fd4-a861-d02a867eac32) to Async(default) with arguments: #<GlobalID:0x000055607e195580 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [077baf31-419b-4fd4-a861-d02a867eac32]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [077baf31-419b-4fd4-a861-d02a867eac32] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [077baf31-419b-4fd4-a861-d02a867eac32] Performed ActiveStorage::AnalyzeJob (Job ID: 077baf31-419b-4fd4-a861-d02a867eac32) from Async(default) in 2.88ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:22:24.594458"], ["confirmed_at", "2023-08-06 14:22:24.592047"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.4ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 4410)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 4946)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1939)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 4120)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4341)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 5kv2rdoogqtclm38gmii0r2zaxf9[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cwp6yn83kvzxnj40ubzy8mt00o90"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:22:24.729246"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:22:24.730881"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: cwp6yn83kvzxnj40ubzy8mt00o90 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 48886f5c-c91e-441f-a228-6345520de895) to Async(default) with arguments: #<GlobalID:0x00007f225c1923c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [48886f5c-c91e-441f-a228-6345520de895]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [48886f5c-c91e-441f-a228-6345520de895] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [48886f5c-c91e-441f-a228-6345520de895] Performed ActiveStorage::AnalyzeJob (Job ID: 48886f5c-c91e-441f-a228-6345520de895) from Async(default) in 1.72ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 97.1ms | Allocations: 8381)
  Rendered layout layouts/application.html.erb (Duration: 99.9ms | Allocations: 10585)
Completed 200 OK in 102ms (Views: 98.6ms | ActiveRecord: 2.1ms | Allocations: 10930)
Started GET "/books/new" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 3.8ms | Allocations: 1902)
  Rendered books/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 4104)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.1ms | Allocations: 4908)
Started POST "/books" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Rendered books/errore.html.erb within layouts/application (Duration: 1.8ms | Allocations: 642)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2839)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 0.1ms | Allocations: 4104)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1637)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3732)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.3ms | Allocations: 3953)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$.eFJQbWDOPBCTNZc4JHSJeupNlN5XJt5FoC.Bdyf2dGVJVUyAWn0a"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-06 14:22:24.829306"], ["updated_at", "2023-08-06 14:22:24.829306"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "MWzF8Z_esHW-UKh88yAT"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-06 14:22:24.829411"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rmjx2g6reoj032jr7m6ua2ni7szl"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-06 14:22:24.840406"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-06 14:22:24.841920"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:22:24.843083"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: rmjx2g6reoj032jr7m6ua2ni7szl (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ae68a3cd-4bc8-42b0-bce5-5e1c4440ab30) to Async(default) with arguments: #<GlobalID:0x000055607b5a5998 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae68a3cd-4bc8-42b0-bce5-5e1c4440ab30]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae68a3cd-4bc8-42b0-bce5-5e1c4440ab30] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae68a3cd-4bc8-42b0-bce5-5e1c4440ab30] Performed ActiveStorage::AnalyzeJob (Job ID: ae68a3cd-4bc8-42b0-bce5-5e1c4440ab30) from Async(default) in 3.14ms
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-06 14:22:24.851520"], ["confirmed_at", "2023-08-06 14:22:24.848893"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.7ms | Allocations: 770)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2268)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4384)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 4902)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 882)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1929)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 4098)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 4318)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:22:24 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: rmjx2g6reoj032jr7m6ua2ni7szl[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ra48mkul48c86fumxo9np2uc6t9j"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-06 14:22:24.983793"]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-06 14:22:24.985247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: ra48mkul48c86fumxo9np2uc6t9j (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 40b63e60-614a-41f0-80d3-ad2e5918159c) to Async(default) with arguments: #<GlobalID:0x00007f225c1a0178 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [40b63e60-614a-41f0-80d3-ad2e5918159c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [40b63e60-614a-41f0-80d3-ad2e5918159c] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [40b63e60-614a-41f0-80d3-ad2e5918159c] Performed ActiveStorage::AnalyzeJob (Job ID: 40b63e60-614a-41f0-80d3-ad2e5918159c) from Async(default) in 1.81ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 93.0ms | Allocations: 8350)
  Rendered layout layouts/application.html.erb (Duration: 95.9ms | Allocations: 10554)
Completed 200 OK in 98ms (Views: 94.6ms | ActiveRecord: 2.1ms | Allocations: 10899)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-06 16:22:25 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.3ms | Allocations: 1758)
Started GET "/" for 127.0.0.1 at 2023-08-06 16:22:25 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1694)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3777)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.2ms | Allocations: 3997)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-06 16:22:25 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 4289)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.7ms | Allocations: 4801)
Started GET "/users/1" for 127.0.0.1 at 2023-08-06 16:22:25 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3791)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 5872)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 1.1ms | Allocations: 6217)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 289)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 405)
Completed 200 OK in 65ms (Views: 30.9ms | ActiveRecord: 0.0ms | Allocations: 8038)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by BooksController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 187)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 486)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$Pp0reGyLE5ClNkAMJ7CNxeQhnDtm.wpiBoiLKVtrk14mpQBFHm6Mu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:15:54.439449"], ["updated_at", "2023-08-26 14:15:54.439449"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zRs4BrVf1Hzt2QyS-osV"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:15:54.439705"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "alehil1wviy4m51ve8lpvxtic58u"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:15:54.684638"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:15:54.688096"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:15:54.691046"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: alehil1wviy4m51ve8lpvxtic58u (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8403c23e-48a9-4460-a4d4-8a13376d28dd) to Async(default) with arguments: #<GlobalID:0x00007fe4d43515e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8403c23e-48a9-4460-a4d4-8a13376d28dd]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8403c23e-48a9-4460-a4d4-8a13376d28dd] Performing ActiveStorage::AnalyzeJob (Job ID: 8403c23e-48a9-4460-a4d4-8a13376d28dd) from Async(default) enqueued at 2023-08-26T14:15:54Z with arguments: #<GlobalID:0x00007fe4d51bdcc8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Title"], ["trama", "A very interesting book."], ["tag", "Test Tag"], ["genere", "Test Genre"], ["created_at", "2023-08-26 14:15:54.781409"], ["updated_at", "2023-08-26 14:15:54.781409"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 79)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 190)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 956)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$xvCSrr.s4AB3PqDKH21LnusauR/EqcU8QqIV0UcgeUIVNnVPMBT1W"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:15:54.845155"], ["updated_at", "2023-08-26 14:15:54.845155"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "FEDevcPk4ZxsKbGGNWWx"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:15:54.845276"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9so08sjsxz47fil0g6pqu8adrcud"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:15:54.863941"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:15:54.866566"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:15:54.868355"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1783.3ms) [0m[32mUploaded file to key: 9so08sjsxz47fil0g6pqu8adrcud (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8998ebbd-8469-43f1-8a9c-c9bdfe0fead5) to Async(default) with arguments: #<GlobalID:0x0000562b4afcf9d8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8998ebbd-8469-43f1-8a9c-c9bdfe0fead5]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8998ebbd-8469-43f1-8a9c-c9bdfe0fead5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [8998ebbd-8469-43f1-8a9c-c9bdfe0fead5] Performed ActiveStorage::AnalyzeJob (Job ID: 8998ebbd-8469-43f1-8a9c-c9bdfe0fead5) from Async(default) in 5.11ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$HmmEpbznc4dX1OtwsjR.Iu19PiuhrdmoUBzJ9VgdvkBfCgBnHJ7.2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:15:56.692759"], ["updated_at", "2023-08-26 14:15:56.692759"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "knsTy8nzUxapEZPw4AxT"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:15:56.692900"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xab2977m8fv99nbug4gfg6v9teoc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:15:56.711290"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:15:56.713472"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:15:56.715259"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (2.6ms) [0m[32mUploaded file to key: xab2977m8fv99nbug4gfg6v9teoc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dd898aff-42d6-4c80-8454-409ffb4ed8c5) to Async(default) with arguments: #<GlobalID:0x0000562b4af7f7f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dd898aff-42d6-4c80-8454-409ffb4ed8c5]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dd898aff-42d6-4c80-8454-409ffb4ed8c5] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [dd898aff-42d6-4c80-8454-409ffb4ed8c5] Performed ActiveStorage::AnalyzeJob (Job ID: dd898aff-42d6-4c80-8454-409ffb4ed8c5) from Async(default) in 5.5ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$H.on0JeKg0gQiOCqDn9qpuoBRRiN0r2mkOERdyuNi7igBfEJW9moS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:15:56.736845"], ["updated_at", "2023-08-26 14:15:56.736845"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "VsrY-fXAUDgMipCX6uNw"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:15:56.736948"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "587wfsoi53w46cglg5dmwn95hx8i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:15:56.752339"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:15:56.754045"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:15:56.755389"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (2.7ms) [0m[32mUploaded file to key: 587wfsoi53w46cglg5dmwn95hx8i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b888d4ea-5c44-431a-9ca4-053433a572e8) to Async(default) with arguments: #<GlobalID:0x00007fe4d52ea588 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b888d4ea-5c44-431a-9ca4-053433a572e8]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b888d4ea-5c44-431a-9ca4-053433a572e8] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b888d4ea-5c44-431a-9ca4-053433a572e8] Performed ActiveStorage::AnalyzeJob (Job ID: b888d4ea-5c44-431a-9ca4-053433a572e8) from Async(default) in 4.32ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [8403c23e-48a9-4460-a4d4-8a13376d28dd] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: alehil1wviy4m51ve8lpvxtic58u[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$AL7tvvVto2/Ai3V7b03bd.9WidAJFwhuka/dp09Pbj9aFNCX7qRpy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:15:56.840483"], ["updated_at", "2023-08-26 14:15:56.840483"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "qFuAkqLbj3cN7pmVm_cj"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:15:56.840591"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nih1kb4afhigtb5imt773ss1z30u"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:15:56.851327"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:15:56.852849"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:15:56.854441"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: nih1kb4afhigtb5imt773ss1z30u (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a51da14d-5a9e-4c50-a079-668ca8e7738a) to Async(default) with arguments: #<GlobalID:0x0000562b4b0b1ab8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a51da14d-5a9e-4c50-a079-668ca8e7738a]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a51da14d-5a9e-4c50-a079-668ca8e7738a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [a51da14d-5a9e-4c50-a079-668ca8e7738a] Performed ActiveStorage::AnalyzeJob (Job ID: a51da14d-5a9e-4c50-a079-668ca8e7738a) from Async(default) in 5.55ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$G3loaWs4GIy/iucoqZ7ygOrnYPGHLyNvUrJwRNeOUWNPpwbcHzhI."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:15:56.875701"], ["updated_at", "2023-08-26 14:15:56.875701"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "RyzXhAr6UwcBCpMxToEU"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:15:56.876007"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jpjmfpo6f4a01c6g8mdy8zk19k5v"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:15:56.890245"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:15:56.894392"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:15:56.895907"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (28.1ms) [0m[32mUploaded file to key: jpjmfpo6f4a01c6g8mdy8zk19k5v (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e23c8e39-e3a8-4cd4-9fa9-332096d386c3) to Async(default) with arguments: #<GlobalID:0x0000562b4a68a3c8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e23c8e39-e3a8-4cd4-9fa9-332096d386c3]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e23c8e39-e3a8-4cd4-9fa9-332096d386c3] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [8403c23e-48a9-4460-a4d4-8a13376d28dd]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8403c23e-48a9-4460-a4d4-8a13376d28dd] Performed ActiveStorage::AnalyzeJob (Job ID: 8403c23e-48a9-4460-a4d4-8a13376d28dd) from Async(default) in 2220.96ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [e23c8e39-e3a8-4cd4-9fa9-332096d386c3] Performed ActiveStorage::AnalyzeJob (Job ID: e23c8e39-e3a8-4cd4-9fa9-332096d386c3) from Async(default) in 3.94ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0jSLBeQ2rbIrodsgRMmMPuunGDZUyKOLca4j8ruQetLZRwmHrlqT."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:48:16.025987"], ["updated_at", "2023-08-26 14:48:16.025987"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "BuSXijPuyUbE4As9ftGr"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:48:16.026240"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4v3nc6e4l2bfzdqk1lqotjl80w74"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:48:16.115011"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:48:16.117212"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:48:16.118826"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 4v3nc6e4l2bfzdqk1lqotjl80w74 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 43e7d683-e78b-42fb-bb68-5063f3c87865) to Async(default) with arguments: #<GlobalID:0x00005565f7b8b1b0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865] Performing ActiveStorage::AnalyzeJob (Job ID: 43e7d683-e78b-42fb-bb68-5063f3c87865) from Async(default) enqueued at 2023-08-26T14:48:16Z with arguments: #<GlobalID:0x00007f8d40ec58b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 14:48:16.265120"], ["updated_at", "2023-08-26 14:48:16.265120"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: 4v3nc6e4l2bfzdqk1lqotjl80w74[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [43e7d683-e78b-42fb-bb68-5063f3c87865] Performed ActiveStorage::AnalyzeJob (Job ID: 43e7d683-e78b-42fb-bb68-5063f3c87865) from Async(default) in 277.46ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 290)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 406)
Completed 200 OK in 22ms (Views: 6.0ms | ActiveRecord: 0.3ms | Allocations: 8526)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$mL067teEXCfnRmzDR553W.MQjOc5nhjc0zWWU2KpLRBR3LejRvwLW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:48:16.554049"], ["updated_at", "2023-08-26 14:48:16.554049"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "EgMVNC2s2aJ6ZCjKzN3V"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:48:16.554527"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "14fl1nfa4n7synmybwt6wwqf82pn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:48:16.572902"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:48:16.576620"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:48:16.579595"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: 14fl1nfa4n7synmybwt6wwqf82pn (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 35601f8d-d578-4059-8482-8e22840cfe3b) to Async(default) with arguments: #<GlobalID:0x00005565f7239f08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 14:48:16.595061"], ["updated_at", "2023-08-26 14:48:16.595061"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b] Performing ActiveStorage::AnalyzeJob (Job ID: 35601f8d-d578-4059-8482-8e22840cfe3b) from Async(default) enqueued at 2023-08-26T14:48:16Z with arguments: #<GlobalID:0x00007f8d40acba78 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.6ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b] [36m  Disk Storage (5.4ms) [0m[34mDownloaded file from key: 14fl1nfa4n7synmybwt6wwqf82pn[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 90)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 398)
Completed 200 OK in 12ms (Views: 5.7ms | ActiveRecord: 0.8ms | Allocations: 1202)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$QSmAHXPg5XZVdZvASfU2/eAvtI9nGI2LITTEjvaws0KqSCENsMENK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:48:16.626956"], ["updated_at", "2023-08-26 14:48:16.626956"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "pwBJGKBiBAzGs2S5oNsv"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:48:16.627155"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wkumx1ak8ti3ay2papvk4m701mc3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:48:16.645899"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:48:16.648190"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:48:16.650302"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: wkumx1ak8ti3ay2papvk4m701mc3 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3f5baaee-f861-4580-b4e0-9204b09dbe46) to Async(default) with arguments: #<GlobalID:0x00005565f7a07be0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [35601f8d-d578-4059-8482-8e22840cfe3b] Performed ActiveStorage::AnalyzeJob (Job ID: 35601f8d-d578-4059-8482-8e22840cfe3b) from Async(default) in 80.54ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f5baaee-f861-4580-b4e0-9204b09dbe46]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f5baaee-f861-4580-b4e0-9204b09dbe46] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f5baaee-f861-4580-b4e0-9204b09dbe46] Performed ActiveStorage::AnalyzeJob (Job ID: 3f5baaee-f861-4580-b4e0-9204b09dbe46) from Async(default) in 10.47ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$Zw0x.qi4xgaYwu.Zb3wzsergBStIriIHrk.A0icWsX/OrbhnP/OD6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:48:16.678555"], ["updated_at", "2023-08-26 14:48:16.678555"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "sd8XGcSvT-9xq3Ly3QVF"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:48:16.678672"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7y958rzs8yjo0ij3yycxlu0ht6is"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:48:16.692235"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:48:16.694405"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:48:16.695894"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 7y958rzs8yjo0ij3yycxlu0ht6is (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 30f4d1b8-2444-4b3b-ba84-94a452605d75) to Async(default) with arguments: #<GlobalID:0x00005565f7bc8b00 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30f4d1b8-2444-4b3b-ba84-94a452605d75]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30f4d1b8-2444-4b3b-ba84-94a452605d75] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [30f4d1b8-2444-4b3b-ba84-94a452605d75] Performed ActiveStorage::AnalyzeJob (Job ID: 30f4d1b8-2444-4b3b-ba84-94a452605d75) from Async(default) in 6.52ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$d580dMl6fo/4CywM/cRIVOJI4.WXM.4pRrjBDcW002wpJbg7U.kSW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:48:16.715477"], ["updated_at", "2023-08-26 14:48:16.715477"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Tu7DrxqZUdLxz1--5inu"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:48:16.715580"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4yei06w6zn5js0ebchys33icsouk"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:48:16.729800"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:48:16.731448"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:48:16.732742"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 4yei06w6zn5js0ebchys33icsouk (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 24639637-b903-499d-a451-e57ab969ee28) to Async(default) with arguments: #<GlobalID:0x00005565f848bf80 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24639637-b903-499d-a451-e57ab969ee28]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [24639637-b903-499d-a451-e57ab969ee28] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [24639637-b903-499d-a451-e57ab969ee28] Performed ActiveStorage::AnalyzeJob (Job ID: 24639637-b903-499d-a451-e57ab969ee28) from Async(default) in 4.1ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0OxqjnXbDAocoBXTOd3ye.gi8ivHfc4BPhL0yAAJL0XAQE/EHFbKy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:48:16.750699"], ["updated_at", "2023-08-26 14:48:16.750699"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Ww7QA-tJdH4E8689Se5j"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:48:16.750833"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qnf9e1goscciowi17t24y7hu5s6j"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:48:16.763421"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:48:16.765475"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:48:16.767193"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: qnf9e1goscciowi17t24y7hu5s6j (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e9f0dc3c-b56b-4aca-90db-59134a76196e) to Async(default) with arguments: #<GlobalID:0x00005565f86a3c50 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9f0dc3c-b56b-4aca-90db-59134a76196e]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9f0dc3c-b56b-4aca-90db-59134a76196e] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9f0dc3c-b56b-4aca-90db-59134a76196e] Performed ActiveStorage::AnalyzeJob (Job ID: e9f0dc3c-b56b-4aca-90db-59134a76196e) from Async(default) in 4.6ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$KxiPAzgCNzhSC7Ut4ck5pOeLx3ybpRbXYjQsT15dLkKX/Oj1QkJw6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:50:37.875999"], ["updated_at", "2023-08-26 14:50:37.875999"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "eeA4p3XG8ts5My1mh6bs"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:50:37.876260"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fpdu2qf5kcm3zhsnyfnhdifuaa8r"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:50:37.956222"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:50:37.959435"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:50:37.961219"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: fpdu2qf5kcm3zhsnyfnhdifuaa8r (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 779fdf7f-5f17-444d-92df-095c930995a1) to Async(default) with arguments: #<GlobalID:0x000055790535e840 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1] Performing ActiveStorage::AnalyzeJob (Job ID: 779fdf7f-5f17-444d-92df-095c930995a1) from Async(default) enqueued at 2023-08-26T14:50:37Z with arguments: #<GlobalID:0x00007f77f404f498 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 14:50:38.084759"], ["updated_at", "2023-08-26 14:50:38.084759"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: fpdu2qf5kcm3zhsnyfnhdifuaa8r[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [779fdf7f-5f17-444d-92df-095c930995a1] Performed ActiveStorage::AnalyzeJob (Job ID: 779fdf7f-5f17-444d-92df-095c930995a1) from Async(default) in 181.66ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 414)
Completed 200 OK in 28ms (Views: 7.7ms | ActiveRecord: 0.4ms | Allocations: 8532)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$iPII3DOQ1UG94RDS1cfNvOOix4Ks31A3eYUPxHRG6fZZHE6K4G.bu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:50:38.313869"], ["updated_at", "2023-08-26 14:50:38.313869"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "aMDsDuqqKcyLqFrSzKpj"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:50:38.313989"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "csgk71tqir7pw0w6qrftuuiwlobd"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:50:38.327753"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:50:38.329484"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:50:38.330777"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: csgk71tqir7pw0w6qrftuuiwlobd (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e901f5d5-859e-465e-af19-4c8d8ff17eb1) to Async(default) with arguments: #<GlobalID:0x0000557906335e58 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 14:50:38.341731"], ["updated_at", "2023-08-26 14:50:38.341731"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1] Performing ActiveStorage::AnalyzeJob (Job ID: e901f5d5-859e-465e-af19-4c8d8ff17eb1) from Async(default) enqueued at 2023-08-26T14:50:38Z with arguments: #<GlobalID:0x00007f77f4383358 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1] [36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: csgk71tqir7pw0w6qrftuuiwlobd[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 429)
Completed 200 OK in 10ms (Views: 5.1ms | ActiveRecord: 0.4ms | Allocations: 1261)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$jSvR4Q66s9vmXaI9s2TGKe2/L/g1laL9MQSbwDmRGM3oWwNtFLmSm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:50:38.368939"], ["updated_at", "2023-08-26 14:50:38.368939"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "DjoCZvjBV7mD1mvkvMXW"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:50:38.369133"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1oetk5kd21ry9hdgs3ryix6ynyzh"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:50:38.385415"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:50:38.387524"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:50:38.389215"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 1oetk5kd21ry9hdgs3ryix6ynyzh (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b783cc0b-3bd4-4cff-8f88-ac9d4231efc2) to Async(default) with arguments: #<GlobalID:0x0000557904d07550 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e901f5d5-859e-465e-af19-4c8d8ff17eb1] Performed ActiveStorage::AnalyzeJob (Job ID: e901f5d5-859e-465e-af19-4c8d8ff17eb1) from Async(default) in 73.23ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b783cc0b-3bd4-4cff-8f88-ac9d4231efc2]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b783cc0b-3bd4-4cff-8f88-ac9d4231efc2] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b783cc0b-3bd4-4cff-8f88-ac9d4231efc2] Performed ActiveStorage::AnalyzeJob (Job ID: b783cc0b-3bd4-4cff-8f88-ac9d4231efc2) from Async(default) in 8.2ms
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$TzaJQQKXo6XcrSaRdERECOdVt1iF6XDfH7I7QLmp9PWmwFEA4aRSO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:50:38.419639"], ["updated_at", "2023-08-26 14:50:38.419639"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "XKMsdsejNyZyJU-951Ka"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:50:38.419762"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vj5x5hyh2hmsolwizkak8wlady1i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:50:38.434924"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:50:38.437669"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:50:38.439191"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: vj5x5hyh2hmsolwizkak8wlady1i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e9c6e6e8-1c81-4142-a3b4-1b458246b82b) to Async(default) with arguments: #<GlobalID:0x0000557904db4548 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9c6e6e8-1c81-4142-a3b4-1b458246b82b]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9c6e6e8-1c81-4142-a3b4-1b458246b82b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9c6e6e8-1c81-4142-a3b4-1b458246b82b] Performed ActiveStorage::AnalyzeJob (Job ID: e9c6e6e8-1c81-4142-a3b4-1b458246b82b) from Async(default) in 6.02ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$pywyoz6INgZWXF3IuQ9Si./prJ1St0NXhXqNZ1pyVDFOy46X0gQMG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:50:38.457970"], ["updated_at", "2023-08-26 14:50:38.457970"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "X6QUjbgPpasnd3ZcXkKN"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:50:38.458069"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "t28i9r969mgq5wk61e5t3sklylvw"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:50:38.471176"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:50:38.473160"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:50:38.474757"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: t28i9r969mgq5wk61e5t3sklylvw (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: beabaf9f-2db2-4e13-8164-8a3568048042) to Async(default) with arguments: #<GlobalID:0x00005579058f9598 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [beabaf9f-2db2-4e13-8164-8a3568048042]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [beabaf9f-2db2-4e13-8164-8a3568048042] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [beabaf9f-2db2-4e13-8164-8a3568048042] Performed ActiveStorage::AnalyzeJob (Job ID: beabaf9f-2db2-4e13-8164-8a3568048042) from Async(default) in 5.21ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$iAH.kLAzwFsW6gVtUNeo3eXrJzAJkeFdxBWhxwUsGRU90i03Z8fTu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 14:50:38.492672"], ["updated_at", "2023-08-26 14:50:38.492672"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "piJHTQmCrPsGgp6Eq6h1"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 14:50:38.492772"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "o1usgvzgal82yrjnua7p6namy3ua"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 14:50:38.507291"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 14:50:38.509315"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 14:50:38.510828"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: o1usgvzgal82yrjnua7p6namy3ua (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3012ef3c-6235-4aaf-a7f4-f09db6e83709) to Async(default) with arguments: #<GlobalID:0x00005579054682b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3012ef3c-6235-4aaf-a7f4-f09db6e83709]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3012ef3c-6235-4aaf-a7f4-f09db6e83709] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3012ef3c-6235-4aaf-a7f4-f09db6e83709] Performed ActiveStorage::AnalyzeJob (Job ID: 3012ef3c-6235-4aaf-a7f4-f09db6e83709) from Async(default) in 4.87ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$KLGvv3HINA4nPYCBFUvllO8NKFLHoJu/j2gxKHFwIe1BpNwjihGye"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:30.548962"], ["updated_at", "2023-08-26 15:20:30.548962"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "_q8kvezpmYrRN-5MyJv9"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:30.549218"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fqu4laaef3h78obqh6ojy0v8p9ra"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:30.632834"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:30.635414"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:30.638070"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: fqu4laaef3h78obqh6ojy0v8p9ra (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b468a7b9-9524-4b3a-86fe-2783dd769e1c) to Async(default) with arguments: #<GlobalID:0x00007ff880328ab8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c] Performing ActiveStorage::AnalyzeJob (Job ID: b468a7b9-9524-4b3a-86fe-2783dd769e1c) from Async(default) enqueued at 2023-08-26T15:20:30Z with arguments: #<GlobalID:0x00007ff8802fa8e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:30.838327"], ["updated_at", "2023-08-26 15:20:30.838327"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c] [36m  Disk Storage (1.5ms) [0m[34mDownloaded file from key: fqu4laaef3h78obqh6ojy0v8p9ra[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b468a7b9-9524-4b3a-86fe-2783dd769e1c] Performed ActiveStorage::AnalyzeJob (Job ID: b468a7b9-9524-4b3a-86fe-2783dd769e1c) from Async(default) in 206.73ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 414)
Completed 200 OK in 28ms (Views: 7.0ms | ActiveRecord: 0.3ms | Allocations: 8531)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$PTf1bXfxs4ga0BwiXXQ07ebY2wCdxDEaFkSLkQ3TI3KoeOzdbZaJO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.080528"], ["updated_at", "2023-08-26 15:20:31.080528"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "71MoxwuaL3yn6ma3xWka"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.080674"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xzbefufs1qyse7v6bn7y7541yy7e"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.095469"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.097809"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.099343"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: xzbefufs1qyse7v6bn7y7541yy7e (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cba6fe0f-f855-4499-a16c-a5673174dde9) to Async(default) with arguments: #<GlobalID:0x00007ff881197248 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.111050"], ["updated_at", "2023-08-26 15:20:31.111050"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9] Performing ActiveStorage::AnalyzeJob (Job ID: cba6fe0f-f855-4499-a16c-a5673174dde9) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff881184c60 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9] [36m  Disk Storage (3.9ms) [0m[34mDownloaded file from key: xzbefufs1qyse7v6bn7y7541yy7e[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 411)
Completed 200 OK in 10ms (Views: 5.1ms | ActiveRecord: 0.5ms | Allocations: 1207)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$D7iNoEwfyLH/SYvqYAgMeerr5ut/t4kOGQ9xuB/IEeUnyZS2e40UO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.140289"], ["updated_at", "2023-08-26 15:20:31.140289"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "UxNXALt9FxxzxPERqDMs"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.140446"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5czkgbh8v5xf5p9duwfdaplq4wnc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.157375"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.160031"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.162021"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 5czkgbh8v5xf5p9duwfdaplq4wnc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 65ef3a19-1f30-48f0-af7f-35566c8d2131) to Async(default) with arguments: #<GlobalID:0x000055db99a0e130 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cba6fe0f-f855-4499-a16c-a5673174dde9] Performed ActiveStorage::AnalyzeJob (Job ID: cba6fe0f-f855-4499-a16c-a5673174dde9) from Async(default) in 91.06ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [65ef3a19-1f30-48f0-af7f-35566c8d2131]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [65ef3a19-1f30-48f0-af7f-35566c8d2131] Performing ActiveStorage::AnalyzeJob (Job ID: 65ef3a19-1f30-48f0-af7f-35566c8d2131) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff8810c6ff8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [65ef3a19-1f30-48f0-af7f-35566c8d2131] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 5czkgbh8v5xf5p9duwfdaplq4wnc[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [65ef3a19-1f30-48f0-af7f-35566c8d2131] Performed ActiveStorage::AnalyzeJob (Job ID: 65ef3a19-1f30-48f0-af7f-35566c8d2131) from Async(default) in 67.91ms
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 132)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$6lz3It.Y6T4iwYnKmM22ueJKalvt9OGCUWJgt6FOt0kmWtXmhE9lS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.278540"], ["updated_at", "2023-08-26 15:20:31.278540"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "iqk8R6Yc7Yj2gDzPeg6N"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.278667"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nkqs66y5ndq5m8qejz19bohexkva"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.294229"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.296465"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.298014"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: nkqs66y5ndq5m8qejz19bohexkva (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 50f573c4-6df7-44de-8650-16bb4a5192b0) to Async(default) with arguments: #<GlobalID:0x00007ff88103ed10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [50f573c4-6df7-44de-8650-16bb4a5192b0]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [50f573c4-6df7-44de-8650-16bb4a5192b0] Performing ActiveStorage::AnalyzeJob (Job ID: 50f573c4-6df7-44de-8650-16bb4a5192b0) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff881022020 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [50f573c4-6df7-44de-8650-16bb4a5192b0] [36m  Disk Storage (3.7ms) [0m[34mDownloaded file from key: nkqs66y5ndq5m8qejz19bohexkva[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$yo0NrxOUxjsfBFAcM2g.B.qqS38WO89A6jfpooLlflO2kc/Dd/vku"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.319938"], ["updated_at", "2023-08-26 15:20:31.319938"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "PiLLxQgJvXz733CtBzyf"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.320051"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wtlyr3jpz6919wyks1uy5j9zmt2s"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.336188"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.338208"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.341209"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: wtlyr3jpz6919wyks1uy5j9zmt2s (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f767fa6f-e089-4f53-9f0f-fbb7a414538f) to Async(default) with arguments: #<GlobalID:0x00007ff880fcab90 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [50f573c4-6df7-44de-8650-16bb4a5192b0]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [50f573c4-6df7-44de-8650-16bb4a5192b0] Performed ActiveStorage::AnalyzeJob (Job ID: 50f573c4-6df7-44de-8650-16bb4a5192b0) from Async(default) in 48.43ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [f767fa6f-e089-4f53-9f0f-fbb7a414538f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f767fa6f-e089-4f53-9f0f-fbb7a414538f] Performing ActiveStorage::AnalyzeJob (Job ID: f767fa6f-e089-4f53-9f0f-fbb7a414538f) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff880faa610 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f767fa6f-e089-4f53-9f0f-fbb7a414538f] [36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: wtlyr3jpz6919wyks1uy5j9zmt2s[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$cXY/5f8PaK3O.ukCyuaLEeMumOjlAHzpXVwp9tWmxEAbdoE9IipP."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.364492"], ["updated_at", "2023-08-26 15:20:31.364492"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "LVs8AsG3qDnj2wnWoiUs"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.364615"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "s98fsvb4tvzlw7p3mxgrbod8zo5u"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.379187"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.381326"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.384604"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f767fa6f-e089-4f53-9f0f-fbb7a414538f] Performed ActiveStorage::AnalyzeJob (Job ID: f767fa6f-e089-4f53-9f0f-fbb7a414538f) from Async(default) in 37.85ms
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: s98fsvb4tvzlw7p3mxgrbod8zo5u (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 92f98600-1c42-4789-afdd-8e279375af10) to Async(default) with arguments: #<GlobalID:0x00007ff880f297e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 117)
[ActiveJob] [ActiveStorage::AnalyzeJob] [92f98600-1c42-4789-afdd-8e279375af10]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [92f98600-1c42-4789-afdd-8e279375af10] Performing ActiveStorage::AnalyzeJob (Job ID: 92f98600-1c42-4789-afdd-8e279375af10) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x000055db9ae832f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [92f98600-1c42-4789-afdd-8e279375af10] [36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: s98fsvb4tvzlw7p3mxgrbod8zo5u[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$2lnXhyoVHL8eV7fxSxmIhe/JypKPo1.1svX2GtSB.ZInK5E4D06mm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.406817"], ["updated_at", "2023-08-26 15:20:31.406817"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "z7sdQkz_dYRAzVMKZ2uy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.406951"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fn0jo7l1yb6cq3n65x68g86vnxmj"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.422776"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.425969"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.427360"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: fn0jo7l1yb6cq3n65x68g86vnxmj (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6a46d89e-cc3d-4eff-acd7-032994abd461) to Async(default) with arguments: #<GlobalID:0x00007ff87404fbb8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 117)
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a46d89e-cc3d-4eff-acd7-032994abd461]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a46d89e-cc3d-4eff-acd7-032994abd461] Performing ActiveStorage::AnalyzeJob (Job ID: 6a46d89e-cc3d-4eff-acd7-032994abd461) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff880ee2b38 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [92f98600-1c42-4789-afdd-8e279375af10]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [92f98600-1c42-4789-afdd-8e279375af10] Performed ActiveStorage::AnalyzeJob (Job ID: 92f98600-1c42-4789-afdd-8e279375af10) from Async(default) in 55.52ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a46d89e-cc3d-4eff-acd7-032994abd461] [36m  Disk Storage (2.4ms) [0m[34mDownloaded file from key: fn0jo7l1yb6cq3n65x68g86vnxmj[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$rdvM605GqCGWyVRNQucwm.M5u8ZMEClw3svt9vxIuKEfBpjAdWqkm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.453177"], ["updated_at", "2023-08-26 15:20:31.453177"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "j1YgLkmTAMKeCQzyaSTK"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.453286"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8muq01d99k7zwhv4ipi3i8d366m4"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.467325"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.469933"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a46d89e-cc3d-4eff-acd7-032994abd461] Performed ActiveStorage::AnalyzeJob (Job ID: 6a46d89e-cc3d-4eff-acd7-032994abd461) from Async(default) in 40.7ms
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.473678"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 8muq01d99k7zwhv4ipi3i8d366m4 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aaccac83-9876-4edc-a4c7-d5dcbb8d1891) to Async(default) with arguments: #<GlobalID:0x00007ff880e82238 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.485308"], ["updated_at", "2023-08-26 15:20:31.485308"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
[ActiveJob] [ActiveStorage::AnalyzeJob] [aaccac83-9876-4edc-a4c7-d5dcbb8d1891]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aaccac83-9876-4edc-a4c7-d5dcbb8d1891] Performing ActiveStorage::AnalyzeJob (Job ID: aaccac83-9876-4edc-a4c7-d5dcbb8d1891) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x000055db97e585f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aaccac83-9876-4edc-a4c7-d5dcbb8d1891] [36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: 8muq01d99k7zwhv4ipi3i8d366m4[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0hy27NnkKMkgebD47DHHqu60xolv5tmdizZMr0AjJcBjbicPonjry"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.504445"], ["updated_at", "2023-08-26 15:20:31.504445"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "eKVuJXbNZzLHLNXQYFJj"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.504606"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "e0a4rw4g19xlzk4m1vwpwpnt0z2i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.522091"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.524007"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.525517"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: e0a4rw4g19xlzk4m1vwpwpnt0z2i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8c2016b3-61e4-4aa0-806b-9c40017f60bc) to Async(default) with arguments: #<GlobalID:0x00007ff880e091a8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.535689"], ["updated_at", "2023-08-26 15:20:31.535689"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 117)
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c2016b3-61e4-4aa0-806b-9c40017f60bc]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c2016b3-61e4-4aa0-806b-9c40017f60bc] Performing ActiveStorage::AnalyzeJob (Job ID: 8c2016b3-61e4-4aa0-806b-9c40017f60bc) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff880ddc540 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aaccac83-9876-4edc-a4c7-d5dcbb8d1891]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aaccac83-9876-4edc-a4c7-d5dcbb8d1891] Performed ActiveStorage::AnalyzeJob (Job ID: aaccac83-9876-4edc-a4c7-d5dcbb8d1891) from Async(default) in 68.07ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c2016b3-61e4-4aa0-806b-9c40017f60bc] [36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: e0a4rw4g19xlzk4m1vwpwpnt0z2i[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$5Tpx0BtFWZ2JCG/vlscV1OpzbVJDq2JNTvxJGejCBeVfAqpLWcZp."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.557762"], ["updated_at", "2023-08-26 15:20:31.557762"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "ZG1p3swyBwJjYs-5HhsC"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.557887"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yxd8jgsbigtqjc9oi31hrt1okegc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.575346"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.577960"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.582131"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: yxd8jgsbigtqjc9oi31hrt1okegc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421) to Async(default) with arguments: #<GlobalID:0x000055db97e6ab18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.590923"], ["updated_at", "2023-08-26 15:20:31.590923"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421] Performing ActiveStorage::AnalyzeJob (Job ID: 6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x000055db96f557e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c2016b3-61e4-4aa0-806b-9c40017f60bc]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c2016b3-61e4-4aa0-806b-9c40017f60bc] Performed ActiveStorage::AnalyzeJob (Job ID: 8c2016b3-61e4-4aa0-806b-9c40017f60bc) from Async(default) in 73.17ms
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421] [36m  Disk Storage (4.3ms) [0m[34mDownloaded file from key: yxd8jgsbigtqjc9oi31hrt1okegc[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$MQ4esd.FQhbxFEp2CjQ4keQca4MS7TVF2DQ7bJ6W9xF1kHG3qeLr2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.612907"], ["updated_at", "2023-08-26 15:20:31.612907"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "9yRgy9-XsBJJQCQijgB5"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.613083"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8x1i4sg8dbputwnwiimqrv3dfrk8"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.627593"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.631185"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.633406"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 8x1i4sg8dbputwnwiimqrv3dfrk8 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22) to Async(default) with arguments: #<GlobalID:0x000055db9719ee70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.645331"], ["updated_at", "2023-08-26 15:20:31.645331"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22] Performing ActiveStorage::AnalyzeJob (Job ID: ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff880cfef10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 117)
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421] Performed ActiveStorage::AnalyzeJob (Job ID: 6c74d0ae-f6c1-4b7e-b1c3-f4e1a90b6421) from Async(default) in 68.65ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22] [36m  Disk Storage (3.2ms) [0m[34mDownloaded file from key: 8x1i4sg8dbputwnwiimqrv3dfrk8[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ucgTppHYGWsLHfWxDT853.fXGQptgVQMvpCAhHICgGkZM7IlAkvEa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.665579"], ["updated_at", "2023-08-26 15:20:31.665579"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "yvPjWYLwV6ywzY9BuWok"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.665738"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6t0d4bffhhecjjsumvlz3vdefiln"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.681661"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.683404"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.686117"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 6t0d4bffhhecjjsumvlz3vdefiln (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6572f4a2-d556-4c7a-87e4-ffc75464abf7) to Async(default) with arguments: #<GlobalID:0x000055db97faa0f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.696630"], ["updated_at", "2023-08-26 15:20:31.696630"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 117)
[ActiveJob] [ActiveStorage::AnalyzeJob] [6572f4a2-d556-4c7a-87e4-ffc75464abf7]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6572f4a2-d556-4c7a-87e4-ffc75464abf7] Performing ActiveStorage::AnalyzeJob (Job ID: 6572f4a2-d556-4c7a-87e4-ffc75464abf7) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x000055db972317c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22] Performed ActiveStorage::AnalyzeJob (Job ID: ad7b1eb4-a2b8-4cb0-bd4e-6a8fbb52bb22) from Async(default) in 67.86ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6572f4a2-d556-4c7a-87e4-ffc75464abf7] [36m  Disk Storage (3.0ms) [0m[34mDownloaded file from key: 6t0d4bffhhecjjsumvlz3vdefiln[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$bk.KARqAh4SzHgolYFUtm.ufKmFSNTv14D1CNO..kjeP/kawZ7G9G"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.718717"], ["updated_at", "2023-08-26 15:20:31.718717"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "x3xgUdK-x6MorkFmhrEV"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.718847"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "eft6d4siak29y0vluocbync17eks"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.737690"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.739769"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.742475"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: eft6d4siak29y0vluocbync17eks (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f7794237-2bd4-4e3a-bdd8-35e3a514eee1) to Async(default) with arguments: #<GlobalID:0x000055db97ce5ea0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.750946"], ["updated_at", "2023-08-26 15:20:31.750946"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 122)
[ActiveJob] [ActiveStorage::AnalyzeJob] [6572f4a2-d556-4c7a-87e4-ffc75464abf7]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6572f4a2-d556-4c7a-87e4-ffc75464abf7] Performed ActiveStorage::AnalyzeJob (Job ID: 6572f4a2-d556-4c7a-87e4-ffc75464abf7) from Async(default) in 67.99ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [f7794237-2bd4-4e3a-bdd8-35e3a514eee1]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f7794237-2bd4-4e3a-bdd8-35e3a514eee1] Performing ActiveStorage::AnalyzeJob (Job ID: f7794237-2bd4-4e3a-bdd8-35e3a514eee1) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff880c70e18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f7794237-2bd4-4e3a-bdd8-35e3a514eee1] [36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: eft6d4siak29y0vluocbync17eks[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$agmbPYxA.VGoUjrBaIRcSec2ZjT7lubsbW4qwPqwI9hyiyMCzy9GS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:20:31.772186"], ["updated_at", "2023-08-26 15:20:31.772186"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "CK3HxH5SBXXwf3TxKbuT"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:20:31.772349"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1ksgarfv1aqjf731722t8qy9t61m"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:20:31.785888"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:20:31.788375"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:20:31.792440"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f7794237-2bd4-4e3a-bdd8-35e3a514eee1] Performed ActiveStorage::AnalyzeJob (Job ID: f7794237-2bd4-4e3a-bdd8-35e3a514eee1) from Async(default) in 44.34ms
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: 1ksgarfv1aqjf731722t8qy9t61m (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 441dfe63-6bd6-40b6-9e0d-e259375b93fc) to Async(default) with arguments: #<GlobalID:0x00007ff880c16968 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:20:31.803196"], ["updated_at", "2023-08-26 15:20:31.803196"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc] Performing ActiveStorage::AnalyzeJob (Job ID: 441dfe63-6bd6-40b6-9e0d-e259375b93fc) from Async(default) enqueued at 2023-08-26T15:20:31Z with arguments: #<GlobalID:0x00007ff880c01040 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 114)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc] [36m  Disk Storage (2.4ms) [0m[34mDownloaded file from key: 1ksgarfv1aqjf731722t8qy9t61m[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [441dfe63-6bd6-40b6-9e0d-e259375b93fc] Performed ActiveStorage::AnalyzeJob (Job ID: 441dfe63-6bd6-40b6-9e0d-e259375b93fc) from Async(default) in 61.63ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0gliUPyeaG8zq4ZUoTtks.1FQpXASP1op3b.p6Bx158REu1A49chi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:05.587456"], ["updated_at", "2023-08-26 15:26:05.587456"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "66s8obsx8dK5WG-NnX6R"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:05.587721"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "85r2p61fiy6sk4s9ywtunmgpy9np"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:05.668301"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:05.670567"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:05.672244"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 85r2p61fiy6sk4s9ywtunmgpy9np (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 63779a0f-592a-44e5-bd8a-4b6d50a11e6f) to Async(default) with arguments: #<GlobalID:0x00005599e0f94b18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f] Performing ActiveStorage::AnalyzeJob (Job ID: 63779a0f-592a-44e5-bd8a-4b6d50a11e6f) from Async(default) enqueued at 2023-08-26T15:26:05Z with arguments: #<GlobalID:0x00007f82405c6268 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:05.821727"], ["updated_at", "2023-08-26 15:26:05.821727"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: 85r2p61fiy6sk4s9ywtunmgpy9np[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63779a0f-592a-44e5-bd8a-4b6d50a11e6f] Performed ActiveStorage::AnalyzeJob (Job ID: 63779a0f-592a-44e5-bd8a-4b6d50a11e6f) from Async(default) in 205.84ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 414)
Completed 200 OK in 19ms (Views: 5.6ms | ActiveRecord: 0.3ms | Allocations: 8532)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$fWF0/7E35u/XiicK7i.k/O8hBBixJvj8w7aM0o0YEKPiYROumBDxq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:05.994049"], ["updated_at", "2023-08-26 15:26:05.994049"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "z5fzEcD6Gmd85vvrxABP"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:05.994311"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "j0o1a9fckutnhvx3mfqvjgsox6lr"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.007797"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.009820"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.011106"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: j0o1a9fckutnhvx3mfqvjgsox6lr (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6731b30f-eea6-497a-927e-81635d9923cf) to Async(default) with arguments: #<GlobalID:0x00005599e06cea38 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.023036"], ["updated_at", "2023-08-26 15:26:06.023036"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [6731b30f-eea6-497a-927e-81635d9923cf]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6731b30f-eea6-497a-927e-81635d9923cf] Performing ActiveStorage::AnalyzeJob (Job ID: 6731b30f-eea6-497a-927e-81635d9923cf) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599dfa6d140 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [6731b30f-eea6-497a-927e-81635d9923cf] [36m  Disk Storage (1.6ms) [0m[34mDownloaded file from key: j0o1a9fckutnhvx3mfqvjgsox6lr[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 429)
Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.4ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$PLfIvTqd/N1lkww9joqli.bNsnl2a28kmahEdCRYTT6Kl0LU/dycy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.050534"], ["updated_at", "2023-08-26 15:26:06.050534"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "w7gWzQY9oEWNa5osQ_1j"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.050679"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "999wdv3amspjubd5go3t1mib49b4"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.067687"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.069667"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.071003"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 999wdv3amspjubd5go3t1mib49b4 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ce93c1bd-2104-4636-882b-0930192a613f) to Async(default) with arguments: #<GlobalID:0x00005599e16fd508 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6731b30f-eea6-497a-927e-81635d9923cf]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6731b30f-eea6-497a-927e-81635d9923cf] Performed ActiveStorage::AnalyzeJob (Job ID: 6731b30f-eea6-497a-927e-81635d9923cf) from Async(default) in 62.16ms
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ce93c1bd-2104-4636-882b-0930192a613f]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ce93c1bd-2104-4636-882b-0930192a613f] Performing ActiveStorage::AnalyzeJob (Job ID: ce93c1bd-2104-4636-882b-0930192a613f) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e1f4b750 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ce93c1bd-2104-4636-882b-0930192a613f] [36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: 999wdv3amspjubd5go3t1mib49b4[0m
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ce93c1bd-2104-4636-882b-0930192a613f] Performed ActiveStorage::AnalyzeJob (Job ID: ce93c1bd-2104-4636-882b-0930192a613f) from Async(default) in 36.64ms
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f81fc00a368>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.129957"], ["updated_at", "2023-08-26 15:26:06.129957"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 41ms (ActiveRecord: 0.7ms | Allocations: 3515)
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$Ak80UAyaePFUiNIx8HaUGuz0OQ0bwbBF9c8zfUjxrGdVCTJs9btpu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.145223"], ["updated_at", "2023-08-26 15:26:06.145223"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "mT1ZuF7EibxqCCLiS7kE"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.145362"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vv21fomg1b7m900k2jd9xkec2a5l"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.161438"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.163912"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.165843"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: vv21fomg1b7m900k2jd9xkec2a5l (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 123acb5f-3be5-4d78-adbb-17957fb0b34a) to Async(default) with arguments: #<GlobalID:0x00005599e01bb3c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a] Performing ActiveStorage::AnalyzeJob (Job ID: 123acb5f-3be5-4d78-adbb-17957fb0b34a) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e09a2868 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00005599e03ba860>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.184045"], ["updated_at", "2023-08-26 15:26:06.184045"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.6ms | Allocations: 1490)
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a] [36m  Disk Storage (6.3ms) [0m[34mDownloaded file from key: vv21fomg1b7m900k2jd9xkec2a5l[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$n9HtMQkngROG6Mm0.UglP.OIJX.eb8cU0JvdxDWNc2GYW1XsMOpRC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.228601"], ["updated_at", "2023-08-26 15:26:06.228601"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "1RKiobZ7y3aFV5Neh8sL"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.228783"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hira027aq0vxxswca2hhea1yk07b"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.250211"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.252095"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.253917"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: hira027aq0vxxswca2hhea1yk07b (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f47aa622-21a2-46b1-af06-8690a0ddb453) to Async(default) with arguments: #<GlobalID:0x00005599e3f1f108 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [123acb5f-3be5-4d78-adbb-17957fb0b34a] Performed ActiveStorage::AnalyzeJob (Job ID: 123acb5f-3be5-4d78-adbb-17957fb0b34a) from Async(default) in 103.74ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [f47aa622-21a2-46b1-af06-8690a0ddb453]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f47aa622-21a2-46b1-af06-8690a0ddb453] Performing ActiveStorage::AnalyzeJob (Job ID: f47aa622-21a2-46b1-af06-8690a0ddb453) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e21cb7f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00005599e3f22538>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.284747"], ["updated_at", "2023-08-26 15:26:06.284747"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
[ActiveJob] [ActiveStorage::AnalyzeJob] [f47aa622-21a2-46b1-af06-8690a0ddb453] [36m  Disk Storage (8.9ms) [0m[34mDownloaded file from key: hira027aq0vxxswca2hhea1yk07b[0m
Completed 302 Found in 22ms (ActiveRecord: 1.0ms | Allocations: 2203)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f47aa622-21a2-46b1-af06-8690a0ddb453] Performed ActiveStorage::AnalyzeJob (Job ID: f47aa622-21a2-46b1-af06-8690a0ddb453) from Async(default) in 61.22ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$VMQVd0Sy5TgY4X0LlMqH9.trgMuvzEaiCiwuOrEY2LbVgRv8q9rdC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.334107"], ["updated_at", "2023-08-26 15:26:06.334107"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "knR2ukGHxFwBJ_Ej3fq2"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.334213"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5vbd0dgpggqwzzb3mkkbcowxnpjx"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.346169"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.347951"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.349572"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 5vbd0dgpggqwzzb3mkkbcowxnpjx (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 17545de1-392a-4ba5-abda-2cdda035aa61) to Async(default) with arguments: #<GlobalID:0x00005599e24b58a8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61] Performing ActiveStorage::AnalyzeJob (Job ID: 17545de1-392a-4ba5-abda-2cdda035aa61) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e24bc888 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f823c3b8fd8>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61] [36m  Disk Storage (4.5ms) [0m[34mDownloaded file from key: 5vbd0dgpggqwzzb3mkkbcowxnpjx[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.9ms | Allocations: 114)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 429)
Completed 200 OK in 12ms (Views: 5.3ms | ActiveRecord: 0.1ms | Allocations: 1842)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$kUuuokAy7gKEqhyeoG6kAuEd6bAs9v7sb1vuBpLd6VCu8utbwDWBi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.382340"], ["updated_at", "2023-08-26 15:26:06.382340"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "8szc_CrrgZXw1MH2Fd1s"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.382440"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "a2whc7gvfho96qsojvfv8s6fk0j8"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.397225"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.399085"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.401662"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: a2whc7gvfho96qsojvfv8s6fk0j8 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e9beda3b-d967-4f01-a193-b4b66f761795) to Async(default) with arguments: #<GlobalID:0x00005599e1e95798 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17545de1-392a-4ba5-abda-2cdda035aa61] Performed ActiveStorage::AnalyzeJob (Job ID: 17545de1-392a-4ba5-abda-2cdda035aa61) from Async(default) in 60.47ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9beda3b-d967-4f01-a193-b4b66f761795]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9beda3b-d967-4f01-a193-b4b66f761795] Performing ActiveStorage::AnalyzeJob (Job ID: e9beda3b-d967-4f01-a193-b4b66f761795) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00007f823c3e5e98 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00005599e3fd3798>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9beda3b-d967-4f01-a193-b4b66f761795] [36m  Disk Storage (5.8ms) [0m[34mDownloaded file from key: a2whc7gvfho96qsojvfv8s6fk0j8[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 1.3ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 432)
Completed 200 OK in 16ms (Views: 6.1ms | ActiveRecord: 0.1ms | Allocations: 2198)
[ActiveJob] [ActiveStorage::AnalyzeJob] [e9beda3b-d967-4f01-a193-b4b66f761795] Performed ActiveStorage::AnalyzeJob (Job ID: e9beda3b-d967-4f01-a193-b4b66f761795) from Async(default) in 39.3ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$lGq.t7hN/3uyW6X14xyw5.PiNlqqMf1TXPzPwbWIcm/q2LXU2.rly"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.499564"], ["updated_at", "2023-08-26 15:26:06.499564"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "NbYs5dmEMq1DDt-cGSxZ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.499714"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kt7sbr3nwsa2luv51re0gbmy74o9"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.511745"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.513409"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.514865"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: kt7sbr3nwsa2luv51re0gbmy74o9 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4084e320-b38b-4ddf-a1b8-ba7dfdfba079) to Async(default) with arguments: #<GlobalID:0x00005599e4042dc8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.525835"], ["updated_at", "2023-08-26 15:26:06.525835"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [4084e320-b38b-4ddf-a1b8-ba7dfdfba079]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4084e320-b38b-4ddf-a1b8-ba7dfdfba079] Performing ActiveStorage::AnalyzeJob (Job ID: 4084e320-b38b-4ddf-a1b8-ba7dfdfba079) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e4062290 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-26 15:26:06.539301"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.8ms | Allocations: 1659)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4084e320-b38b-4ddf-a1b8-ba7dfdfba079] [36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: kt7sbr3nwsa2luv51re0gbmy74o9[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0722uziowMZ5ZFoRTWf.jOlivbrxg0beM/QexL21Z1DT3pACiNBH2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.553993"], ["updated_at", "2023-08-26 15:26:06.553993"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "SSyTWT_1UYeFeKRznCsy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.554169"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "m8rcuqnsd21485dniqqrdr1148hq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.571517"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.573468"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.576326"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: m8rcuqnsd21485dniqqrdr1148hq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c7afd0c3-6319-4a26-835e-6e442089260b) to Async(default) with arguments: #<GlobalID:0x00005599e40a1418 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.585351"], ["updated_at", "2023-08-26 15:26:06.585351"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7afd0c3-6319-4a26-835e-6e442089260b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7afd0c3-6319-4a26-835e-6e442089260b] Performing ActiveStorage::AnalyzeJob (Job ID: c7afd0c3-6319-4a26-835e-6e442089260b) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e40bccb8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4084e320-b38b-4ddf-a1b8-ba7dfdfba079]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4084e320-b38b-4ddf-a1b8-ba7dfdfba079] Performed ActiveStorage::AnalyzeJob (Job ID: 4084e320-b38b-4ddf-a1b8-ba7dfdfba079) from Async(default) in 73.22ms
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005599e40a88a8>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 1093)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7afd0c3-6319-4a26-835e-6e442089260b] [36m  Disk Storage (7.5ms) [0m[34mDownloaded file from key: m8rcuqnsd21485dniqqrdr1148hq[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$VqNb35CpplLpSeasn8YkleaS9aEhVZIsSYQtbA1h4TZ7U3X7MOp86"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.612322"], ["updated_at", "2023-08-26 15:26:06.612322"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "NhfaXNLBZCDjzanmF_GJ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.612438"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mn4ryb9b82zuakbe4jhe64xawlpi"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.629189"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.631111"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.634217"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: mn4ryb9b82zuakbe4jhe64xawlpi (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8f32f98b-085c-40ea-a93d-10b93a069f1e) to Async(default) with arguments: #<GlobalID:0x00005599e40f68f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.643817"], ["updated_at", "2023-08-26 15:26:06.643817"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f32f98b-085c-40ea-a93d-10b93a069f1e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f32f98b-085c-40ea-a93d-10b93a069f1e] Performing ActiveStorage::AnalyzeJob (Job ID: 8f32f98b-085c-40ea-a93d-10b93a069f1e) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599df6d3e58 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005599e410a3f0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 1181)
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7afd0c3-6319-4a26-835e-6e442089260b]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7afd0c3-6319-4a26-835e-6e442089260b] Performed ActiveStorage::AnalyzeJob (Job ID: c7afd0c3-6319-4a26-835e-6e442089260b) from Async(default) in 81.35ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f32f98b-085c-40ea-a93d-10b93a069f1e] [36m  Disk Storage (6.7ms) [0m[34mDownloaded file from key: mn4ryb9b82zuakbe4jhe64xawlpi[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$jWCUkRgZtOxcorUX7oUAgu21Hn1i8FA.ncUdfjotbMthsXZzZsGra"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.673812"], ["updated_at", "2023-08-26 15:26:06.673812"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "RA1a-cSChCgVx9YsxCzq"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.673928"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sxtjew9yfi2h9w5ezq2x712498bq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.718894"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.720777"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.722067"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: sxtjew9yfi2h9w5ezq2x712498bq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ef874da9-e758-41f1-bb9d-d21d7e3d0b6a) to Async(default) with arguments: #<GlobalID:0x00007f823c40cb10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.731375"], ["updated_at", "2023-08-26 15:26:06.731375"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a] Performing ActiveStorage::AnalyzeJob (Job ID: ef874da9-e758-41f1-bb9d-d21d7e3d0b6a) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e40d7ce8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005599e40e7850>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f32f98b-085c-40ea-a93d-10b93a069f1e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8f32f98b-085c-40ea-a93d-10b93a069f1e] Performed ActiveStorage::AnalyzeJob (Job ID: 8f32f98b-085c-40ea-a93d-10b93a069f1e) from Async(default) in 104.39ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a] [36m  Disk Storage (3.2ms) [0m[34mDownloaded file from key: sxtjew9yfi2h9w5ezq2x712498bq[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 179)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 399)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.2ms | Allocations: 1901)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$k5jcW8xDtki7ayRdR/mZh.TQorm5Pdy.QA05uDTPhKIN20.i7jZJm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.760004"], ["updated_at", "2023-08-26 15:26:06.760004"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "PxhcJv1Q7vUCtBkwMJFm"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.760170"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ddgymn3ebbk83dtf3cqochsp972p"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.774525"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.776433"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.777895"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ddgymn3ebbk83dtf3cqochsp972p (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3500576d-dc65-4026-964e-07e62fd1ec8e) to Async(default) with arguments: #<GlobalID:0x00005599e409a758 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.789358"], ["updated_at", "2023-08-26 15:26:06.789358"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e] Performing ActiveStorage::AnalyzeJob (Job ID: 3500576d-dc65-4026-964e-07e62fd1ec8e) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e407c410 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef874da9-e758-41f1-bb9d-d21d7e3d0b6a] Performed ActiveStorage::AnalyzeJob (Job ID: ef874da9-e758-41f1-bb9d-d21d7e3d0b6a) from Async(default) in 72.91ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005599e4085538>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e] [36m  Disk Storage (4.6ms) [0m[34mDownloaded file from key: ddgymn3ebbk83dtf3cqochsp972p[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 186)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 398)
Completed 200 OK in 16ms (Views: 4.9ms | ActiveRecord: 0.2ms | Allocations: 2535)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$8VopuDFtepbzgDY9KhB4Eeqx5GImY2l4EsvJBElKX0FERT/.TcHgK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.822637"], ["updated_at", "2023-08-26 15:26:06.822637"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "AtiMSvK4gLYFB8Pb2vcs"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.822818"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tkx92ic1btkradnj9ix8jg1bpf9w"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.838432"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.840342"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.842084"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: tkx92ic1btkradnj9ix8jg1bpf9w (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2241c576-a86d-4a03-b236-73fd8db5bc28) to Async(default) with arguments: #<GlobalID:0x00005599e4026b78 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:06.854984"], ["updated_at", "2023-08-26 15:26:06.854984"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3500576d-dc65-4026-964e-07e62fd1ec8e] Performed ActiveStorage::AnalyzeJob (Job ID: 3500576d-dc65-4026-964e-07e62fd1ec8e) from Async(default) in 82.56ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [2241c576-a86d-4a03-b236-73fd8db5bc28]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2241c576-a86d-4a03-b236-73fd8db5bc28] Performing ActiveStorage::AnalyzeJob (Job ID: 2241c576-a86d-4a03-b236-73fd8db5bc28) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00007f82413db8a8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2241c576-a86d-4a03-b236-73fd8db5bc28] [36m  Disk Storage (14.2ms) [0m[34mDownloaded file from key: tkx92ic1btkradnj9ix8jg1bpf9w[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.3ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2241c576-a86d-4a03-b236-73fd8db5bc28] Performed ActiveStorage::AnalyzeJob (Job ID: 2241c576-a86d-4a03-b236-73fd8db5bc28) from Async(default) in 71.77ms
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 103ms (ActiveRecord: 3.7ms | Allocations: 20397)
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$JQlbjJ/UoV1zriVtQJ4Wc.A7elZZU2soiEONJmcxdYCU/HWztM9Gy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:26:06.976393"], ["updated_at", "2023-08-26 15:26:06.976393"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Np1Q6nng6pm59UrFRcZ9"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:26:06.976500"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "av4htmjc2p8bjp6hjm77jk5s8ipt"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:26:06.989258"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:26:06.991699"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:26:06.993137"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: av4htmjc2p8bjp6hjm77jk5s8ipt (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dc369e61-446b-426f-8b47-51a08dcefc7f) to Async(default) with arguments: #<GlobalID:0x00007f81fc04f558 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:26:07.005379"], ["updated_at", "2023-08-26 15:26:07.005379"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f] Performing ActiveStorage::AnalyzeJob (Job ID: dc369e61-446b-426f-8b47-51a08dcefc7f) from Async(default) enqueued at 2023-08-26T15:26:06Z with arguments: #<GlobalID:0x00005599e096eba8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.1ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.1ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f] [36m  Disk Storage (5.3ms) [0m[34mDownloaded file from key: av4htmjc2p8bjp6hjm77jk5s8ipt[0m
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 1.1ms | Allocations: 2181)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc369e61-446b-426f-8b47-51a08dcefc7f] Performed ActiveStorage::AnalyzeJob (Job ID: dc369e61-446b-426f-8b47-51a08dcefc7f) from Async(default) in 67.55ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$Y7SrSWX4dbPCUUiZiOQPmeL7g5eLPBpD5kI.s4yOnSNNG6z3aV6VK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.194256"], ["updated_at", "2023-08-26 15:30:12.194256"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "KZ_H9Y2qHTqXecHPzFT3"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.194501"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4fan6ufemh07xk0ishcdjnno2eio"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.299269"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.301501"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.303414"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: 4fan6ufemh07xk0ishcdjnno2eio (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0e845786-3f37-4d6d-9ed5-f93f0bc06732) to Async(default) with arguments: #<GlobalID:0x000055ee4141ceb0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732] Performing ActiveStorage::AnalyzeJob (Job ID: 0e845786-3f37-4d6d-9ed5-f93f0bc06732) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x000055ee4419bda0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.447151"], ["updated_at", "2023-08-26 15:30:12.447151"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732] [36m  Disk Storage (5.0ms) [0m[34mDownloaded file from key: 4fan6ufemh07xk0ishcdjnno2eio[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e845786-3f37-4d6d-9ed5-f93f0bc06732] Performed ActiveStorage::AnalyzeJob (Job ID: 0e845786-3f37-4d6d-9ed5-f93f0bc06732) from Async(default) in 191.12ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 414)
Completed 200 OK in 22ms (Views: 6.0ms | ActiveRecord: 0.3ms | Allocations: 8532)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$gOYrEMe5Sa.05BbZKquoleVeoRTCkpXdw.pJiSwquUieauILbGPuW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.620031"], ["updated_at", "2023-08-26 15:30:12.620031"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Hd9i87s4BeZxUUH8xe3G"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.620151"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xekbn9oolnwv8k1azimu0m5yw0lo"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.634632"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.636688"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.638492"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (2.6ms) [0m[32mUploaded file to key: xekbn9oolnwv8k1azimu0m5yw0lo (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0f1d545b-c2b2-43c3-879b-0fd92f8b62b7) to Async(default) with arguments: #<GlobalID:0x000055ee3fd644c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.651656"], ["updated_at", "2023-08-26 15:30:12.651656"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7] Performing ActiveStorage::AnalyzeJob (Job ID: 0f1d545b-c2b2-43c3-879b-0fd92f8b62b7) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x000055ee40347068 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7] [36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: xekbn9oolnwv8k1azimu0m5yw0lo[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 429)
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 0.3ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$XcJ7cNlAuUx3zCIcCDq.ieygs5nnPOhFOD6unpYhUurNHm8DH.ITm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.679182"], ["updated_at", "2023-08-26 15:30:12.679182"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "9zrH2z2Co8es_cSk8y2c"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.679306"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5rugtkiu4p2q96qsy4z7odmy039z"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.694934"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.696754"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.698189"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 5rugtkiu4p2q96qsy4z7odmy039z (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d7e7cbba-3f57-455e-84a0-e564e4e902a5) to Async(default) with arguments: #<GlobalID:0x000055ee40797438 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.707319"], ["updated_at", "2023-08-26 15:30:12.707319"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0f1d545b-c2b2-43c3-879b-0fd92f8b62b7] Performed ActiveStorage::AnalyzeJob (Job ID: 0f1d545b-c2b2-43c3-879b-0fd92f8b62b7) from Async(default) in 76.44ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7e7cbba-3f57-455e-84a0-e564e4e902a5]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7e7cbba-3f57-455e-84a0-e564e4e902a5] Performing ActiveStorage::AnalyzeJob (Job ID: d7e7cbba-3f57-455e-84a0-e564e4e902a5) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x00007fd0f53b1f28 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7e7cbba-3f57-455e-84a0-e564e4e902a5] [36m  Disk Storage (3.2ms) [0m[34mDownloaded file from key: 5rugtkiu4p2q96qsy4z7odmy039z[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-26 15:30:12.743149"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 19ms (ActiveRecord: 1.3ms | Allocations: 3153)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ONCo3ibHCrq0ZwuG34dmyesiLPojIe6Q4amyi0zDq4heMtqwkRE4m"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.762497"], ["updated_at", "2023-08-26 15:30:12.762497"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Q8gqdu2NbNwYSTY1269a"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.762632"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d7e7cbba-3f57-455e-84a0-e564e4e902a5] Performed ActiveStorage::AnalyzeJob (Job ID: d7e7cbba-3f57-455e-84a0-e564e4e902a5) from Async(default) in 50.06ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3xva1gyx6qqqjjqp8xqewvo3ru8u"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.777818"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.779889"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.781896"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 3xva1gyx6qqqjjqp8xqewvo3ru8u (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8560f824-bdd1-420e-9f22-b519bcc4fa83) to Async(default) with arguments: #<GlobalID:0x000055ee40c65f28 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.793532"], ["updated_at", "2023-08-26 15:30:12.793532"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [8560f824-bdd1-420e-9f22-b519bcc4fa83]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8560f824-bdd1-420e-9f22-b519bcc4fa83] Performing ActiveStorage::AnalyzeJob (Job ID: 8560f824-bdd1-420e-9f22-b519bcc4fa83) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x000055ee4026cbc0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055ee407c93e8>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 1328)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8560f824-bdd1-420e-9f22-b519bcc4fa83] [36m  Disk Storage (5.3ms) [0m[34mDownloaded file from key: 3xva1gyx6qqqjjqp8xqewvo3ru8u[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ZNkFTzwr.jg4T/cGDKZp5.MuPrqEJfjE63xow7hvw1R7bImK9TOVK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.820503"], ["updated_at", "2023-08-26 15:30:12.820503"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "XEJJ83Du7aKxockQ9VRD"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.820697"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dn318yetor636t9znrxqnqnik6o0"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.836687"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.839013"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.842502"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: dn318yetor636t9znrxqnqnik6o0 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 465cb574-23cd-48c5-996c-49b82d21b187) to Async(default) with arguments: #<GlobalID:0x000055ee427c68f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.854054"], ["updated_at", "2023-08-26 15:30:12.854054"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [465cb574-23cd-48c5-996c-49b82d21b187]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [465cb574-23cd-48c5-996c-49b82d21b187] Performing ActiveStorage::AnalyzeJob (Job ID: 465cb574-23cd-48c5-996c-49b82d21b187) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x000055ee441d6428 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055ee427b71a0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1433)
[ActiveJob] [ActiveStorage::AnalyzeJob] [8560f824-bdd1-420e-9f22-b519bcc4fa83]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8560f824-bdd1-420e-9f22-b519bcc4fa83] Performed ActiveStorage::AnalyzeJob (Job ID: 8560f824-bdd1-420e-9f22-b519bcc4fa83) from Async(default) in 83.66ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [465cb574-23cd-48c5-996c-49b82d21b187] [36m  Disk Storage (7.0ms) [0m[34mDownloaded file from key: dn318yetor636t9znrxqnqnik6o0[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$1tcPcgh/cXEE8R9co0k1DODnjn34rYPeGQYOTxSREw6kj6zFObChG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.885711"], ["updated_at", "2023-08-26 15:30:12.885711"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Y-jNNqqssazzsZ-eckYF"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.885908"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nn5p53c6vludzgf5cg48tapgixu2"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.904570"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.906639"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.909959"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: nn5p53c6vludzgf5cg48tapgixu2 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 04db60d0-4d11-4e93-abbe-96c2ee764722) to Async(default) with arguments: #<GlobalID:0x000055ee44213738 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.919844"], ["updated_at", "2023-08-26 15:30:12.919844"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722] Performing ActiveStorage::AnalyzeJob (Job ID: 04db60d0-4d11-4e93-abbe-96c2ee764722) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x000055ee44273070 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [465cb574-23cd-48c5-996c-49b82d21b187]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [465cb574-23cd-48c5-996c-49b82d21b187] Performed ActiveStorage::AnalyzeJob (Job ID: 465cb574-23cd-48c5-996c-49b82d21b187) from Async(default) in 80.7ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055ee4421f948>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722] [36m  Disk Storage (4.4ms) [0m[34mDownloaded file from key: nn5p53c6vludzgf5cg48tapgixu2[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 2.5ms | Allocations: 282)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 399)
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 0.2ms | Allocations: 2198)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$fMgrW//hKnKVuT.RMdm/S.oioDoGVRgf/mwPFqmfgl5zAJC90rCym"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:30:12.951587"], ["updated_at", "2023-08-26 15:30:12.951587"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "ZpiJXVMy35QnHHePTyfy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:30:12.951749"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "alunbv2kbxt4few3gr8ylyqgxasm"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:30:12.969167"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:30:12.971518"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:30:12.973306"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: alunbv2kbxt4few3gr8ylyqgxasm (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c2c09d4e-5cb1-4222-a249-27520ae72641) to Async(default) with arguments: #<GlobalID:0x000055ee442abf38 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-26 15:30:12.983530"], ["updated_at", "2023-08-26 15:30:12.983530"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2c09d4e-5cb1-4222-a249-27520ae72641]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2c09d4e-5cb1-4222-a249-27520ae72641] Performing ActiveStorage::AnalyzeJob (Job ID: c2c09d4e-5cb1-4222-a249-27520ae72641) from Async(default) enqueued at 2023-08-26T15:30:12Z with arguments: #<GlobalID:0x000055ee442cb220 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [04db60d0-4d11-4e93-abbe-96c2ee764722] Performed ActiveStorage::AnalyzeJob (Job ID: 04db60d0-4d11-4e93-abbe-96c2ee764722) from Async(default) in 80.85ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055ee442c3cf0>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
  Rendering layout layouts/application.html.erb
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2c09d4e-5cb1-4222-a249-27520ae72641] [36m  Disk Storage (5.6ms) [0m[34mDownloaded file from key: alunbv2kbxt4few3gr8ylyqgxasm[0m
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 179)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 410)
Completed 200 OK in 15ms (Views: 4.9ms | ActiveRecord: 0.2ms | Allocations: 2520)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2c09d4e-5cb1-4222-a249-27520ae72641] Performed ActiveStorage::AnalyzeJob (Job ID: c2c09d4e-5cb1-4222-a249-27520ae72641) from Async(default) in 57.18ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$7BwM1YP5G8APpkobSG0w1OhPf2brMKYEfu88hCWukC.bOcWnANmuu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:32:40.113709"], ["updated_at", "2023-08-26 15:32:40.113709"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "8_oYyXG-gbsmwVpA5dX5"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:32:40.114089"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "o07daqufkjtvkx3uhc37w98kg79c"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:32:40.223349"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:32:40.226975"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:32:40.229286"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: o07daqufkjtvkx3uhc37w98kg79c (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f8445bd2-94b5-4dd2-812b-c68aac0e1e0b) to Async(default) with arguments: #<GlobalID:0x00007fa2748cd390 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:32:40.242901"], ["confirmed_at", "2023-08-26 15:32:40.239257"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:32:40 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8445bd2-94b5-4dd2-812b-c68aac0e1e0b]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8445bd2-94b5-4dd2-812b-c68aac0e1e0b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8445bd2-94b5-4dd2-812b-c68aac0e1e0b] Performed ActiveStorage::AnalyzeJob (Job ID: f8445bd2-94b5-4dd2-812b-c68aac0e1e0b) from Async(default) in 28.1ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 7348.5ms | Allocations: 90142)
  Rendered layout layouts/application.html.erb (Duration: 7348.8ms | Allocations: 90180)
Completed 500 Internal Server Error in 7373ms (ActiveRecord: 0.0ms | Allocations: 96374)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$riM0CqtofL3woSTEEi5Yu.uAwOcIyeNxN7ana5XExIfzfrYUgP/km"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:32:47.952108"], ["updated_at", "2023-08-26 15:32:47.952108"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "bxz8rJZoUZtQog3zthm9"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:32:47.952269"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "57tg0b47oc2nzu2k6vqvuje8mvn3"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:32:47.964446"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:32:47.966231"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:32:47.967662"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 57tg0b47oc2nzu2k6vqvuje8mvn3 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ba501d72-699f-402d-85f4-dade76e0299c) to Async(default) with arguments: #<GlobalID:0x00007fa274360c18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:32:47.977769"], ["confirmed_at", "2023-08-26 15:32:47.975153"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba501d72-699f-402d-85f4-dade76e0299c]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba501d72-699f-402d-85f4-dade76e0299c] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba501d72-699f-402d-85f4-dade76e0299c] Performed ActiveStorage::AnalyzeJob (Job ID: ba501d72-699f-402d-85f4-dade76e0299c) from Async(default) in 9.0ms
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:32:47 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 26.6ms | Allocations: 21935)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 21968)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.0ms | Allocations: 22466)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-26 17:32:48 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 802.4ms | Allocations: 3709)
  Rendered layout layouts/application.html.erb (Duration: 802.6ms | Allocations: 3742)
Completed 500 Internal Server Error in 807ms (ActiveRecord: 0.0ms | Allocations: 4560)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$yqEZuBIO7U4GpsAwDVMr8Otuez.Ojj2dfFnJzlzMm.ePT95iIs.qO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:32:48.887887"], ["updated_at", "2023-08-26 15:32:48.887887"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Pap8J8ETcpSVkQ9q47nD"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:32:48.887995"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4cjoxo7tl9wbglfxk9mb9mvylbv8"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:32:49.070562"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:32:49.072231"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:32:49.073552"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 4cjoxo7tl9wbglfxk9mb9mvylbv8 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 89c36d4d-349e-4a82-a2e8-aba08fbd8a1b) to Async(default) with arguments: #<GlobalID:0x0000562daead66a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:32:49.082332"], ["confirmed_at", "2023-08-26 15:32:49.080236"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89c36d4d-349e-4a82-a2e8-aba08fbd8a1b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [89c36d4d-349e-4a82-a2e8-aba08fbd8a1b] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [89c36d4d-349e-4a82-a2e8-aba08fbd8a1b] Performed ActiveStorage::AnalyzeJob (Job ID: 89c36d4d-349e-4a82-a2e8-aba08fbd8a1b) from Async(default) in 7.64ms
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:32:49 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 634)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 667)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1165)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$wAqtMBiJSCcAHc9ETVhpJOfFW1iGZ8ASZ.HQzSXXbqU18lyOngj.u"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:37:30.118325"], ["updated_at", "2023-08-26 15:37:30.118325"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "4PHLqc4xmxDrqjLzc-QJ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:37:30.118560"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nh7gt59banu48zazii57u6pepqd4"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:37:30.224696"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:37:30.227925"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:37:30.230460"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: nh7gt59banu48zazii57u6pepqd4 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 85c2c267-b760-4207-9766-92aaa45f9be2) to Async(default) with arguments: #<GlobalID:0x00007f4f3c9160f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:37:30.241917"], ["confirmed_at", "2023-08-26 15:37:30.238988"], ["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:37:30 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [85c2c267-b760-4207-9766-92aaa45f9be2]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [85c2c267-b760-4207-9766-92aaa45f9be2] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [85c2c267-b760-4207-9766-92aaa45f9be2] Performed ActiveStorage::AnalyzeJob (Job ID: 85c2c267-b760-4207-9766-92aaa45f9be2) from Async(default) in 39.22ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 30.4ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5480.6ms | Allocations: 96741)
  Rendered layout layouts/application.html.erb (Duration: 5538.8ms | Allocations: 114551)
Completed 200 OK in 5563ms (Views: 5549.2ms | ActiveRecord: 0.0ms | Allocations: 120773)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 48ms (ActiveRecord: 0.3ms | Allocations: 2603)
Started GET "/" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (2.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (2.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 25.1ms | Allocations: 3921)
  Rendered layout layouts/application.html.erb (Duration: 37.2ms | Allocations: 6141)
Completed 200 OK in 44ms (Views: 36.2ms | ActiveRecord: 5.0ms | Allocations: 6982)
Started GET "/users/1" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.3ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: nh7gt59banu48zazii57u6pepqd4[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ozgh7d9mxbfgjvpej1z98g2t74iu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-26 15:37:36.649948"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-26 15:37:36.651760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ozgh7d9mxbfgjvpej1z98g2t74iu (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b1c176f8-14b0-4fc9-8aa5-52b9fbc61f7a) to Async(default) with arguments: #<GlobalID:0x000056399870c4c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c176f8-14b0-4fc9-8aa5-52b9fbc61f7a]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c176f8-14b0-4fc9-8aa5-52b9fbc61f7a] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c176f8-14b0-4fc9-8aa5-52b9fbc61f7a] Performed ActiveStorage::AnalyzeJob (Job ID: b1c176f8-14b0-4fc9-8aa5-52b9fbc61f7a) from Async(default) in 2.57ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 496.0ms | Allocations: 57418)
  Rendered layout layouts/application.html.erb (Duration: 499.5ms | Allocations: 59747)
Completed 200 OK in 515ms (Views: 498.1ms | ActiveRecord: 6.7ms | Allocations: 62243)
Started GET "/books/new" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 9.6ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 36.9ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | Allocations: 5302)
Completed 200 OK in 72ms (Views: 42.4ms | ActiveRecord: 0.5ms | Allocations: 25151)
Started POST "/books" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-26 15:37:36.838438"], ["updated_at", "2023-08-26 15:37:36.838438"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.7ms | Allocations: 1695)
Started GET "/books/1" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 46.8ms | Allocations: 27535)
  Rendered layout layouts/application.html.erb (Duration: 52.7ms | Allocations: 29942)
Completed 200 OK in 57ms (Views: 51.8ms | ActiveRecord: 2.2ms | Allocations: 30632)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$oAPwgYeOYFwUTVKmYMer8Oio77Bdc9vdkNAq2Qq.hu3G2.lwrF/Q2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:37:36.918917"], ["updated_at", "2023-08-26 15:37:36.918917"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "qiP95UASBuQgctqzVKgj"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:37:36.919049"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "eombowl3i4x4mnq0brapu17hi06l"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:37:36.933752"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:37:36.935679"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:37:36.937194"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: eombowl3i4x4mnq0brapu17hi06l (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7866d7dd-28d3-4259-94ce-3be4240c4e86) to Async(default) with arguments: #<GlobalID:0x0000563994e619b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:37:36.945947"], ["confirmed_at", "2023-08-26 15:37:36.943519"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7866d7dd-28d3-4259-94ce-3be4240c4e86]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7866d7dd-28d3-4259-94ce-3be4240c4e86] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [7866d7dd-28d3-4259-94ce-3be4240c4e86] Performed ActiveStorage::AnalyzeJob (Job ID: 7866d7dd-28d3-4259-94ce-3be4240c4e86) from Async(default) in 8.13ms
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 2.0ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 4448)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 4984)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-26 17:37:36 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1918)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4137)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.3ms | Allocations: 4358)
Started GET "/users/1" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: eombowl3i4x4mnq0brapu17hi06l[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "983okltoubnn9equess8bstnb69x"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-26 15:37:37.098181"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-26 15:37:37.099876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 983okltoubnn9equess8bstnb69x (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bb91b30c-d478-4b3c-a406-a6ed4d4b47b2) to Async(default) with arguments: #<GlobalID:0x0000563996426e38 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb91b30c-d478-4b3c-a406-a6ed4d4b47b2]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb91b30c-d478-4b3c-a406-a6ed4d4b47b2] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb91b30c-d478-4b3c-a406-a6ed4d4b47b2] Performed ActiveStorage::AnalyzeJob (Job ID: bb91b30c-d478-4b3c-a406-a6ed4d4b47b2) from Async(default) in 2.54ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 107.8ms | Allocations: 8386)
  Rendered layout layouts/application.html.erb (Duration: 111.1ms | Allocations: 10628)
Completed 200 OK in 113ms (Views: 109.5ms | ActiveRecord: 2.5ms | Allocations: 10973)
Started GET "/books/new" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 4.1ms | Allocations: 1902)
  Rendered books/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4141)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 5094)
Started POST "/books" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Rendered books/errore.html.erb within layouts/application (Duration: 2.2ms | Allocations: 642)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 2877)
Completed 200 OK in 12ms (Views: 6.9ms | ActiveRecord: 0.2ms | Allocations: 4281)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1610)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3743)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 3964)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$ncFiYw63RmGlunSRfkM5j.jNW8hb40CfKcQArLyi0XQrzFWq8IWdu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-26 15:37:37.217041"], ["updated_at", "2023-08-26 15:37:37.217041"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "TSj8UzehSFWG9zoz4tmP"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-26 15:37:37.217217"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v230a4hwhkpc8jcklfj195ql497y"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-26 15:37:37.236331"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-26 15:37:37.239705"]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:37:37.241920"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: v230a4hwhkpc8jcklfj195ql497y (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 42f61535-cab5-4024-b4a8-6cec335c7fb0) to Async(default) with arguments: #<GlobalID:0x0000563998252650 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [42f61535-cab5-4024-b4a8-6cec335c7fb0]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [42f61535-cab5-4024-b4a8-6cec335c7fb0] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [42f61535-cab5-4024-b4a8-6cec335c7fb0] Performed ActiveStorage::AnalyzeJob (Job ID: 42f61535-cab5-4024-b4a8-6cec335c7fb0) from Async(default) in 7.31ms
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-26 15:37:37.253167"], ["confirmed_at", "2023-08-26 15:37:37.250481"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 770)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2268)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 4422)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 4940)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 9ms (ActiveRecord: 0.2ms | Allocations: 882)
Started GET "/" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1885)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 4091)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.4ms | Allocations: 4311)
Started GET "/users/1" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: v230a4hwhkpc8jcklfj195ql497y[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y6srpftdq99g69ujray326x4fhb9"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-26 15:37:37.409041"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-26 15:37:37.410789"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: y6srpftdq99g69ujray326x4fhb9 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d576b771-28af-4da4-a12a-917ff1417b32) to Async(default) with arguments: #<GlobalID:0x0000563998b2cdc0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d576b771-28af-4da4-a12a-917ff1417b32]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d576b771-28af-4da4-a12a-917ff1417b32] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [d576b771-28af-4da4-a12a-917ff1417b32] Performed ActiveStorage::AnalyzeJob (Job ID: d576b771-28af-4da4-a12a-917ff1417b32) from Async(default) in 2.7ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 103.8ms | Allocations: 8388)
  Rendered layout layouts/application.html.erb (Duration: 106.8ms | Allocations: 10630)
Completed 200 OK in 109ms (Views: 105.1ms | ActiveRecord: 2.5ms | Allocations: 10975)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 40ms (ActiveRecord: 0.3ms | Allocations: 1765)
Started GET "/" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1664)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3784)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.2ms | Allocations: 4004)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4317)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.9ms | Allocations: 4829)
Started GET "/users/1" for 127.0.0.1 at 2023-08-26 17:37:37 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 16.2ms | Allocations: 3799)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 5917)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 1.3ms | Allocations: 6262)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$KZazdNOqEbM/9etGQv4.uuuSGt9KxFqbB6/g//L0aHPchILm/qLpq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:17.570445"], ["updated_at", "2023-08-27 07:25:17.570445"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Z8ygwV45buwZgvn9SPza"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:17.570723"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vsfy9m1759q7m9w7viz4ytf3b4gc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:17.776779"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:17.779055"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:17.781046"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: vsfy9m1759q7m9w7viz4ytf3b4gc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b4acb58a-656d-4891-89f4-7b5ab871f84e) to Async(default) with arguments: #<GlobalID:0x00007f8fc8dc1270 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e] Performing ActiveStorage::AnalyzeJob (Job ID: b4acb58a-656d-4891-89f4-7b5ab871f84e) from Async(default) enqueued at 2023-08-27T07:25:17Z with arguments: #<GlobalID:0x00005631b11ecad8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:18.703114"], ["updated_at", "2023-08-27 07:25:18.703114"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: vsfy9m1759q7m9w7viz4ytf3b4gc[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b4acb58a-656d-4891-89f4-7b5ab871f84e] Performed ActiveStorage::AnalyzeJob (Job ID: b4acb58a-656d-4891-89f4-7b5ab871f84e) from Async(default) in 1100.23ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 414)
Completed 200 OK in 199ms (Views: 121.2ms | ActiveRecord: 0.3ms | Allocations: 8532)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$Y47Q5uxd4.jSXDrFOI4iuusMvuWi43ycA0J1k.uvElZY7DzbEsjVe"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:19.519650"], ["updated_at", "2023-08-27 07:25:19.519650"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "yu4NL_B4L5j9geixo_Ff"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:19.519771"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1zqai2vvipbybt3mzhj9uvnukd79"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:19.532958"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:19.535004"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:19.536732"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: 1zqai2vvipbybt3mzhj9uvnukd79 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f4217c94-127c-4e20-b103-b94c655d0ff6) to Async(default) with arguments: #<GlobalID:0x00005631b0e4a5d8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:19.548898"], ["updated_at", "2023-08-27 07:25:19.548898"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6] Performing ActiveStorage::AnalyzeJob (Job ID: f4217c94-127c-4e20-b103-b94c655d0ff6) from Async(default) enqueued at 2023-08-27T07:25:19Z with arguments: #<GlobalID:0x00005631b12201f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: 1zqai2vvipbybt3mzhj9uvnukd79[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 428)
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$QWKD3tHqgGH9p/J.r7iB6OgBXGWr9rNgpn3jBLzLZ5H55Frrc9vHe"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:19.574341"], ["updated_at", "2023-08-27 07:25:19.574341"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "nMqYD2s5mBfhhVR9sF56"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:19.574503"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "prpdkssam73nmi1w1zgho0srzu70"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:19.588337"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:19.590230"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:19.591852"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: prpdkssam73nmi1w1zgho0srzu70 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ebf9afd0-0978-4de1-b87e-9448ba1e289b) to Async(default) with arguments: #<GlobalID:0x00005631b0535498 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f4217c94-127c-4e20-b103-b94c655d0ff6] Performed ActiveStorage::AnalyzeJob (Job ID: f4217c94-127c-4e20-b103-b94c655d0ff6) from Async(default) in 58.28ms
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebf9afd0-0978-4de1-b87e-9448ba1e289b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebf9afd0-0978-4de1-b87e-9448ba1e289b] Performing ActiveStorage::AnalyzeJob (Job ID: ebf9afd0-0978-4de1-b87e-9448ba1e289b) from Async(default) enqueued at 2023-08-27T07:25:19Z with arguments: #<GlobalID:0x00007f8f8c00f730 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebf9afd0-0978-4de1-b87e-9448ba1e289b] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: prpdkssam73nmi1w1zgho0srzu70[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebf9afd0-0978-4de1-b87e-9448ba1e289b] Performed ActiveStorage::AnalyzeJob (Job ID: ebf9afd0-0978-4de1-b87e-9448ba1e289b) from Async(default) in 67.92ms
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f8f8c009600>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:19.748399"], ["updated_at", "2023-08-27 07:25:19.748399"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 66ms (ActiveRecord: 0.7ms | Allocations: 2775)
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ngCXwnwh1CwViLVh6gKn8unEjoW3kjOVtPpfn66mEPC8uWsBW0a4m"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:19.762053"], ["updated_at", "2023-08-27 07:25:19.762053"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "21z1nfUbuQDzTijyiTes"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:19.762163"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "i4fabqf4upoyu3k9x52t5x3jq57i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:19.774863"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:19.776998"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:19.778444"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: i4fabqf4upoyu3k9x52t5x3jq57i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ba2c77d6-c51c-4116-8c14-614efae3d354) to Async(default) with arguments: #<GlobalID:0x00005631b0998df0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354] Performing ActiveStorage::AnalyzeJob (Job ID: ba2c77d6-c51c-4116-8c14-614efae3d354) from Async(default) enqueued at 2023-08-27T07:25:19Z with arguments: #<GlobalID:0x00005631b271cd40 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f8f8c03c870>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:19.793865"], ["updated_at", "2023-08-27 07:25:19.793865"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.6ms | Allocations: 1490)
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354] [36m  Disk Storage (2.5ms) [0m[34mDownloaded file from key: i4fabqf4upoyu3k9x52t5x3jq57i[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$p7EoxBbhBfxUdjHn4Um3POu15AsexFKYJuP8u1YxXit4d8h/qeAHO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:19.842917"], ["updated_at", "2023-08-27 07:25:19.842917"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Ek7yJDPVqzRRdJxE2h9v"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:19.843072"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "x141p7b3ouqcxtz2dufi2re8cagu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:19.857069"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:19.859031"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:19.860579"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: x141p7b3ouqcxtz2dufi2re8cagu (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 73bed8e1-6677-44b5-9b5d-95556737435c) to Async(default) with arguments: #<GlobalID:0x00005631b42f8258 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba2c77d6-c51c-4116-8c14-614efae3d354] Performed ActiveStorage::AnalyzeJob (Job ID: ba2c77d6-c51c-4116-8c14-614efae3d354) from Async(default) in 93.95ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [73bed8e1-6677-44b5-9b5d-95556737435c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [73bed8e1-6677-44b5-9b5d-95556737435c] Performing ActiveStorage::AnalyzeJob (Job ID: 73bed8e1-6677-44b5-9b5d-95556737435c) from Async(default) enqueued at 2023-08-27T07:25:19Z with arguments: #<GlobalID:0x00007f8f8c071980 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00005631b25c5dc0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:19.882723"], ["updated_at", "2023-08-27 07:25:19.882723"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 12ms (ActiveRecord: 0.6ms | Allocations: 1903)
[ActiveJob] [ActiveStorage::AnalyzeJob] [73bed8e1-6677-44b5-9b5d-95556737435c] [36m  Disk Storage (2.4ms) [0m[34mDownloaded file from key: x141p7b3ouqcxtz2dufi2re8cagu[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73bed8e1-6677-44b5-9b5d-95556737435c] Performed ActiveStorage::AnalyzeJob (Job ID: 73bed8e1-6677-44b5-9b5d-95556737435c) from Async(default) in 62.76ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$CR2Nie1DidZyIGRCvzi/x.1tOM1U75Ju8BbQdin27BaWYKcANTG72"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:19.936001"], ["updated_at", "2023-08-27 07:25:19.936001"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "UzyQp8RL6qEBrrPLsniy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:19.936180"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sljsgx82qn4cyin0pqtryzzhkmpw"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:19.948630"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:19.950364"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:19.951740"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: sljsgx82qn4cyin0pqtryzzhkmpw (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d0770412-3e6c-418e-b3d0-fb33affa60e9) to Async(default) with arguments: #<GlobalID:0x00005631b43831a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9] Performing ActiveStorage::AnalyzeJob (Job ID: d0770412-3e6c-418e-b3d0-fb33affa60e9) from Async(default) enqueued at 2023-08-27T07:25:19Z with arguments: #<GlobalID:0x00005631b439a530 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00005631b43866e8>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9] [36m  Disk Storage (3.4ms) [0m[34mDownloaded file from key: sljsgx82qn4cyin0pqtryzzhkmpw[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.8ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 428)
Completed 200 OK in 11ms (Views: 5.0ms | ActiveRecord: 0.1ms | Allocations: 1842)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$iChP9cUS.dEmMoMPFVGKSO2EOxiQHJroZ2ii6IS.RogjQ2H.gkOFq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:19.983959"], ["updated_at", "2023-08-27 07:25:19.983959"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "XmQ7Fq5eBXxyzo4oHTsb"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:19.984136"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4yhpvqtr6pa67hiq3dmpqvh9yn77"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:19.998041"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:19.999631"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:20.000850"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 4yhpvqtr6pa67hiq3dmpqvh9yn77 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0eb8b541-c285-40b4-bc44-c950aeb40ade) to Async(default) with arguments: #<GlobalID:0x00005631b43d7cf0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0770412-3e6c-418e-b3d0-fb33affa60e9] Performed ActiveStorage::AnalyzeJob (Job ID: d0770412-3e6c-418e-b3d0-fb33affa60e9) from Async(default) in 57.1ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00005631b43db210>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0eb8b541-c285-40b4-bc44-c950aeb40ade]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0eb8b541-c285-40b4-bc44-c950aeb40ade] Performing ActiveStorage::AnalyzeJob (Job ID: 0eb8b541-c285-40b4-bc44-c950aeb40ade) from Async(default) enqueued at 2023-08-27T07:25:20Z with arguments: #<GlobalID:0x00005631b43eca38 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/errore.html.erb within layouts/application (Duration: 0.8ms | Allocations: 89)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0eb8b541-c285-40b4-bc44-c950aeb40ade] [36m  Disk Storage (1.0ms) [0m[34mDownloaded file from key: 4yhpvqtr6pa67hiq3dmpqvh9yn77[0m
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 268)
Completed 200 OK in 14ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 2014)
[ActiveJob] [ActiveStorage::AnalyzeJob] [0eb8b541-c285-40b4-bc44-c950aeb40ade] Performed ActiveStorage::AnalyzeJob (Job ID: 0eb8b541-c285-40b4-bc44-c950aeb40ade) from Async(default) in 75.71ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$lYGcgFCX5Xm3.khMbJOzVemVUUImSkc91NUd9g6NpNR/kBrLW8dAG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:20.189570"], ["updated_at", "2023-08-27 07:25:20.189570"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "RsDc7sT5Bqay_tD4yBto"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:20.189668"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9geuucnomxdb08q6f7bjuh3y2w7g"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:20.202161"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:20.204012"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:20.205349"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 9geuucnomxdb08q6f7bjuh3y2w7g (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 658b30a7-a67a-4ee6-b7ac-7c1dc4baa832) to Async(default) with arguments: #<GlobalID:0x00005631b4435fd0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:20.216718"], ["updated_at", "2023-08-27 07:25:20.216718"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [658b30a7-a67a-4ee6-b7ac-7c1dc4baa832]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [658b30a7-a67a-4ee6-b7ac-7c1dc4baa832] Performing ActiveStorage::AnalyzeJob (Job ID: 658b30a7-a67a-4ee6-b7ac-7c1dc4baa832) from Async(default) enqueued at 2023-08-27T07:25:20Z with arguments: #<GlobalID:0x00005631b4452a68 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-27 07:25:20.230255"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [658b30a7-a67a-4ee6-b7ac-7c1dc4baa832] [36m  Disk Storage (6.3ms) [0m[34mDownloaded file from key: 9geuucnomxdb08q6f7bjuh3y2w7g[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms | Allocations: 1490)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$KmWPIvTPHrw1XBkpRYad3.tYpnNafPa1y/AxqyIwu4.TFC5rrQ6OC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:20.247705"], ["updated_at", "2023-08-27 07:25:20.247705"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "y_ucN7WNAsEE1_Jv1h1U"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:20.247834"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3rytuall6nvkcr44clzf26xdyuml"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:20.262862"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:20.264693"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:20.266317"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 3rytuall6nvkcr44clzf26xdyuml (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3163bdfc-7a4a-462c-9bec-c47d7c943790) to Async(default) with arguments: #<GlobalID:0x00005631b448feb8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:20.276145"], ["updated_at", "2023-08-27 07:25:20.276145"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [3163bdfc-7a4a-462c-9bec-c47d7c943790]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3163bdfc-7a4a-462c-9bec-c47d7c943790] Performing ActiveStorage::AnalyzeJob (Job ID: 3163bdfc-7a4a-462c-9bec-c47d7c943790) from Async(default) enqueued at 2023-08-27T07:25:20Z with arguments: #<GlobalID:0x00005631b44af2e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [658b30a7-a67a-4ee6-b7ac-7c1dc4baa832]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [658b30a7-a67a-4ee6-b7ac-7c1dc4baa832] Performed ActiveStorage::AnalyzeJob (Job ID: 658b30a7-a67a-4ee6-b7ac-7c1dc4baa832) from Async(default) in 77.2ms
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005631b44a7e28>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.2ms | Allocations: 1568)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3163bdfc-7a4a-462c-9bec-c47d7c943790] [36m  Disk Storage (3.2ms) [0m[34mDownloaded file from key: 3rytuall6nvkcr44clzf26xdyuml[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$h.eFLpHEooo8.SJoj9h4Vucj/ng01LXNaq2YukChNB3av7gYDGRn2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:20.300335"], ["updated_at", "2023-08-27 07:25:20.300335"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "bhRr3Fu-pjnFrzezVrtr"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:20.300492"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gbii8o8lejwqm1rr59z6imem5k82"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:20.315632"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:20.317470"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:20.320376"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: gbii8o8lejwqm1rr59z6imem5k82 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 08852dcb-6558-4137-9f74-a0d5352de66a) to Async(default) with arguments: #<GlobalID:0x00005631b44e5ae8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:20.329361"], ["updated_at", "2023-08-27 07:25:20.329361"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [08852dcb-6558-4137-9f74-a0d5352de66a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [08852dcb-6558-4137-9f74-a0d5352de66a] Performing ActiveStorage::AnalyzeJob (Job ID: 08852dcb-6558-4137-9f74-a0d5352de66a) from Async(default) enqueued at 2023-08-27T07:25:20Z with arguments: #<GlobalID:0x00005631af92ad10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005631b44ed6a8>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 1433)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3163bdfc-7a4a-462c-9bec-c47d7c943790]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3163bdfc-7a4a-462c-9bec-c47d7c943790] Performed ActiveStorage::AnalyzeJob (Job ID: 3163bdfc-7a4a-462c-9bec-c47d7c943790) from Async(default) in 76.83ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [08852dcb-6558-4137-9f74-a0d5352de66a] [36m  Disk Storage (7.1ms) [0m[34mDownloaded file from key: gbii8o8lejwqm1rr59z6imem5k82[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ePfThpkfCoO0VOuzEdMyRO8ObwTv/T8xWDN8y7.Ql7mRe6V5VZ1cG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:20.356843"], ["updated_at", "2023-08-27 07:25:20.356843"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Zyp6L5M9Nfoyr5EnYK9b"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:20.356991"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "55u7nzl7xc5k0n1gj6lchb1fd8lh"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:20.400243"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:20.402200"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:20.403650"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 55u7nzl7xc5k0n1gj6lchb1fd8lh (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5469c2ad-8ee9-4acb-b83d-f46fc8564e7d) to Async(default) with arguments: #<GlobalID:0x00005631b44e24b0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:20.413380"], ["updated_at", "2023-08-27 07:25:20.413380"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d] Performing ActiveStorage::AnalyzeJob (Job ID: 5469c2ad-8ee9-4acb-b83d-f46fc8564e7d) from Async(default) enqueued at 2023-08-27T07:25:20Z with arguments: #<GlobalID:0x00005631b44c40a0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005631b44cd240>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [08852dcb-6558-4137-9f74-a0d5352de66a]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [08852dcb-6558-4137-9f74-a0d5352de66a] Performed ActiveStorage::AnalyzeJob (Job ID: 08852dcb-6558-4137-9f74-a0d5352de66a) from Async(default) in 101.16ms
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d] [36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: 55u7nzl7xc5k0n1gj6lchb1fd8lh[0m
  Rendered books/edit.html.erb within layouts/application (Duration: 0.7ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 411)
Completed 200 OK in 13ms (Views: 6.2ms | ActiveRecord: 0.2ms | Allocations: 2208)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$qjYPpLw76XhoJyWsWcYk6eb1/fj0u3YZKa/mt1ab3DWHrFtrup4rC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:25:20.441875"], ["updated_at", "2023-08-27 07:25:20.441875"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "-YUjVHPQ6nv94o1BUeLy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:25:20.442012"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qomn74qy7gh6tz85p6193z6agfkn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:25:20.459030"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:25:20.460767"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:25:20.462333"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: qomn74qy7gh6tz85p6193z6agfkn (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ad0b3160-6b8a-4be3-b357-b9847f86971c) to Async(default) with arguments: #<GlobalID:0x00005631b44800f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:25:20.472242"], ["updated_at", "2023-08-27 07:25:20.472242"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c] Performing ActiveStorage::AnalyzeJob (Job ID: ad0b3160-6b8a-4be3-b357-b9847f86971c) from Async(default) enqueued at 2023-08-27T07:25:20Z with arguments: #<GlobalID:0x00005631b4461ce8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5469c2ad-8ee9-4acb-b83d-f46fc8564e7d] Performed ActiveStorage::AnalyzeJob (Job ID: 5469c2ad-8ee9-4acb-b83d-f46fc8564e7d) from Async(default) in 75.31ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c] [36m  Disk Storage (4.6ms) [0m[34mDownloaded file from key: qomn74qy7gh6tz85p6193z6agfkn[0m
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00005631b446ae38>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 2.5ms | Allocations: 281)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 398)
Completed 200 OK in 16ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 2534)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad0b3160-6b8a-4be3-b357-b9847f86971c] Performed ActiveStorage::AnalyzeJob (Job ID: ad0b3160-6b8a-4be3-b357-b9847f86971c) from Async(default) in 44.21ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$l.QipEVfg6xEDTSbXlbCt.VNQBBEYtaf2mc8gr.S2R8xus4Fh/RE."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:19.623125"], ["updated_at", "2023-08-27 07:32:19.623125"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "_TMeEWdYj9BE9WCV7hQY"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:19.623433"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gd78kris7pond85rap5qsuj6ppso"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:19.708547"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:19.711595"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:19.713757"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: gd78kris7pond85rap5qsuj6ppso (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fc45fa39-5e69-437d-a1c8-e436a8e8898d) to Async(default) with arguments: #<GlobalID:0x000055a10ecec318 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d] Performing ActiveStorage::AnalyzeJob (Job ID: fc45fa39-5e69-437d-a1c8-e436a8e8898d) from Async(default) enqueued at 2023-08-27T07:32:19Z with arguments: #<GlobalID:0x00007f4a10dec888 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:19.851175"], ["updated_at", "2023-08-27 07:32:19.851175"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: gd78kris7pond85rap5qsuj6ppso[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc45fa39-5e69-437d-a1c8-e436a8e8898d] Performed ActiveStorage::AnalyzeJob (Job ID: fc45fa39-5e69-437d-a1c8-e436a8e8898d) from Async(default) in 192.89ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 414)
Completed 200 OK in 21ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 8532)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$Xpzbd5W7nn493VQzKCTpgupbnuvYNGaeieD9liKnUdkj.hR.WFa92"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.026362"], ["updated_at", "2023-08-27 07:32:20.026362"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Axo9AKbr7GCb8HxMnToZ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.026483"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7au5mzfm2ejzspkobrdiftokyhpu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.040108"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.041996"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.043764"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: 7au5mzfm2ejzspkobrdiftokyhpu (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 40e640fe-ccfa-45da-9ff5-37f240528153) to Async(default) with arguments: #<GlobalID:0x000055a10dda0350 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.055193"], ["updated_at", "2023-08-27 07:32:20.055193"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153] Performing ActiveStorage::AnalyzeJob (Job ID: 40e640fe-ccfa-45da-9ff5-37f240528153) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x00007f4a0c387950 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153] [36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: 7au5mzfm2ejzspkobrdiftokyhpu[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 325)
Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.4ms | Allocations: 1411)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$i1Ef1H0K4Uej2nfHsp8qfOrpzmlf8L/1jmO.8nu7tLgUMJ04UkiYG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.081783"], ["updated_at", "2023-08-27 07:32:20.081783"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "vdrLzDe3vMvnZSF4EzeT"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.081967"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6k79f5qoieshtbvxebn88k8xfcwt"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.097689"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.099381"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.100653"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 6k79f5qoieshtbvxebn88k8xfcwt (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0) to Async(default) with arguments: #<GlobalID:0x000055a10f56b458 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [40e640fe-ccfa-45da-9ff5-37f240528153] Performed ActiveStorage::AnalyzeJob (Job ID: 40e640fe-ccfa-45da-9ff5-37f240528153) from Async(default) in 61.16ms
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0] Performing ActiveStorage::AnalyzeJob (Job ID: 8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a10dd89da8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0] [36m  Disk Storage (3.4ms) [0m[34mDownloaded file from key: 6k79f5qoieshtbvxebn88k8xfcwt[0m
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055a10d7b7fb0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.134984"], ["updated_at", "2023-08-27 07:32:20.134984"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 15ms (ActiveRecord: 0.8ms | Allocations: 2992)
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0] Performed ActiveStorage::AnalyzeJob (Job ID: 8cfc7b10-f27d-4a6b-847e-c7b2a6637ca0) from Async(default) in 37.86ms
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$z4yXd0YIHKpyQfmsBGxJY.Iy19oVr05/WVntyuFXyTIEGtERZt.Te"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.152879"], ["updated_at", "2023-08-27 07:32:20.152879"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "MHHSh5rpDEngzjYQxM3E"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.153009"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2cb53f9wmgzd79bahma16lb2h72l"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.169818"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.172644"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.174543"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 2cb53f9wmgzd79bahma16lb2h72l (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c609676a-e27d-4795-b5e1-03d5c523cc5d) to Async(default) with arguments: #<GlobalID:0x000055a10dccac50 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [c609676a-e27d-4795-b5e1-03d5c523cc5d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c609676a-e27d-4795-b5e1-03d5c523cc5d] Performing ActiveStorage::AnalyzeJob (Job ID: c609676a-e27d-4795-b5e1-03d5c523cc5d) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a10e2e96e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055a10dccd9f0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.190013"], ["updated_at", "2023-08-27 07:32:20.190013"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.8ms | Allocations: 1490)
[ActiveJob] [ActiveStorage::AnalyzeJob] [c609676a-e27d-4795-b5e1-03d5c523cc5d] [36m  Disk Storage (3.7ms) [0m[34mDownloaded file from key: 2cb53f9wmgzd79bahma16lb2h72l[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ggCDWynN8e21yeLoRKggu.Ly6uYeNb98wxNzcW71.8Hzu/R7mAzwu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.212405"], ["updated_at", "2023-08-27 07:32:20.212405"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "ku-mQAfJS8bqyhdp9QKX"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.212592"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5t3axuiivaznnm9pgitf6kgl0bj7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.232104"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.235098"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.236544"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 5t3axuiivaznnm9pgitf6kgl0bj7 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b3d2396c-63a3-49eb-840a-701dff37e132) to Async(default) with arguments: #<GlobalID:0x000055a110228ee8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3d2396c-63a3-49eb-840a-701dff37e132]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3d2396c-63a3-49eb-840a-701dff37e132] Performing ActiveStorage::AnalyzeJob (Job ID: b3d2396c-63a3-49eb-840a-701dff37e132) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a111c3f110 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c609676a-e27d-4795-b5e1-03d5c523cc5d]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c609676a-e27d-4795-b5e1-03d5c523cc5d] Performed ActiveStorage::AnalyzeJob (Job ID: c609676a-e27d-4795-b5e1-03d5c523cc5d) from Async(default) in 72.1ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f49d802c6e0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.255914"], ["updated_at", "2023-08-27 07:32:20.255914"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 12ms (ActiveRecord: 0.8ms | Allocations: 1645)
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3d2396c-63a3-49eb-840a-701dff37e132] [36m  Disk Storage (5.9ms) [0m[34mDownloaded file from key: 5t3axuiivaznnm9pgitf6kgl0bj7[0m
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$JFFEAJ0/P.9pOuRWSQ1mIeGdchFUV3V3Nvklf1T1fX3J.eG/49i82"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.278735"], ["updated_at", "2023-08-27 07:32:20.278735"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "yBzNkEjUsEMk-ryLp9Td"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.278922"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "d2i53j97ja591mh43zs4r5e2fyd0"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.298828"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.301418"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.303442"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: d2i53j97ja591mh43zs4r5e2fyd0 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 63c8b8a8-8541-451e-9e2a-cd4e51d6d464) to Async(default) with arguments: #<GlobalID:0x000055a111c79c70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [b3d2396c-63a3-49eb-840a-701dff37e132] Performed ActiveStorage::AnalyzeJob (Job ID: b3d2396c-63a3-49eb-840a-701dff37e132) from Async(default) in 74.98ms
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464] Performing ActiveStorage::AnalyzeJob (Job ID: 63c8b8a8-8541-451e-9e2a-cd4e51d6d464) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x00007f49d8054050 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f4a0c3cd3b0>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464] [36m  Disk Storage (1.0ms) [0m[34mDownloaded file from key: d2i53j97ja591mh43zs4r5e2fyd0[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 1.1ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 429)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 0.1ms | Allocations: 1842)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$9ZrNnXaDQv7Go3oNyj0fy.HKCmf8xF/owEXDZNeyJsZow1rTLkUwq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.340101"], ["updated_at", "2023-08-27 07:32:20.340101"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "VTrcN4kfw9xQSBG5NGyo"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.340210"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0xmgwwf69d171iwgwhcakid0lxbu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.357430"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.359176"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.361905"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 0xmgwwf69d171iwgwhcakid0lxbu (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b1f30f98-09c9-40c4-96f4-2ac3d822a409) to Async(default) with arguments: #<GlobalID:0x000055a111d1c678 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63c8b8a8-8541-451e-9e2a-cd4e51d6d464] Performed ActiveStorage::AnalyzeJob (Job ID: 63c8b8a8-8541-451e-9e2a-cd4e51d6d464) from Async(default) in 68.37ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1f30f98-09c9-40c4-96f4-2ac3d822a409]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1f30f98-09c9-40c4-96f4-2ac3d822a409] Performing ActiveStorage::AnalyzeJob (Job ID: b1f30f98-09c9-40c4-96f4-2ac3d822a409) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x00007f4a0c3f5ef0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055a111d0bd78>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1f30f98-09c9-40c4-96f4-2ac3d822a409] [36m  Disk Storage (3.9ms) [0m[34mDownloaded file from key: 0xmgwwf69d171iwgwhcakid0lxbu[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.9ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 329)
Completed 200 OK in 15ms (Views: 4.8ms | ActiveRecord: 0.1ms | Allocations: 2198)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$4ss1JZPKryNSfMDCjI8pS.6v2Qb4mrJmqGYU0anq5KYi4GJ8CNyUW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.400767"], ["updated_at", "2023-08-27 07:32:20.400767"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "q3MEwmoiWHmJjzxqskQt"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.400926"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hh4ysiojqkv5286zob8njz2dwkdn"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.417320"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.420546"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.422778"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: hh4ysiojqkv5286zob8njz2dwkdn (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 07241af7-f8d4-4443-ab69-5dc878b34ace) to Async(default) with arguments: #<GlobalID:0x000055a111d55748 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.432842"], ["updated_at", "2023-08-27 07:32:20.432842"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [07241af7-f8d4-4443-ab69-5dc878b34ace]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [07241af7-f8d4-4443-ab69-5dc878b34ace] Performing ActiveStorage::AnalyzeJob (Job ID: 07241af7-f8d4-4443-ab69-5dc878b34ace) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a111d6ca10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1f30f98-09c9-40c4-96f4-2ac3d822a409] Performed ActiveStorage::AnalyzeJob (Job ID: b1f30f98-09c9-40c4-96f4-2ac3d822a409) from Async(default) in 74.09ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-27 07:32:20.447167"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
[ActiveJob] [ActiveStorage::AnalyzeJob] [07241af7-f8d4-4443-ab69-5dc878b34ace] [36m  Disk Storage (4.8ms) [0m[34mDownloaded file from key: hh4ysiojqkv5286zob8njz2dwkdn[0m
Completed 302 Found in 13ms (ActiveRecord: 0.8ms | Allocations: 2130)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$gBEI0O8xO.PVrrO1t9DOZO4WuKVi7vwqp5wIWnKJteRYoWAnLPQ8a"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.464513"], ["updated_at", "2023-08-27 07:32:20.464513"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zWzAHTiLoPJppPy8uMxW"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.464686"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fob5indc30twadbsbjs4aak12d8q"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.480734"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.483264"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.485045"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: fob5indc30twadbsbjs4aak12d8q (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 12cbd259-76e5-4b65-a00d-8b84ad0bd444) to Async(default) with arguments: #<GlobalID:0x000055a111db3640 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.495680"], ["updated_at", "2023-08-27 07:32:20.495680"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [12cbd259-76e5-4b65-a00d-8b84ad0bd444]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [12cbd259-76e5-4b65-a00d-8b84ad0bd444] Performing ActiveStorage::AnalyzeJob (Job ID: 12cbd259-76e5-4b65-a00d-8b84ad0bd444) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x00007f49d8083b70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [07241af7-f8d4-4443-ab69-5dc878b34ace]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [07241af7-f8d4-4443-ab69-5dc878b34ace] Performed ActiveStorage::AnalyzeJob (Job ID: 07241af7-f8d4-4443-ab69-5dc878b34ace) from Async(default) in 79.16ms
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055a111dcb358>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
[ActiveJob] [ActiveStorage::AnalyzeJob] [12cbd259-76e5-4b65-a00d-8b84ad0bd444] [36m  Disk Storage (3.8ms) [0m[34mDownloaded file from key: fob5indc30twadbsbjs4aak12d8q[0m
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 1282)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$A/oOOPujocik90M4SvaEXO3ZRaeuzyGdZ6FvFJ8RaoJ4rsULPRkFe"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.523431"], ["updated_at", "2023-08-27 07:32:20.523431"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "wzj8xEuLCcNcbDwzZrRe"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.523591"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "d78w785goejs2dapwrl1gwp897mc"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.539662"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.542064"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.543830"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: d78w785goejs2dapwrl1gwp897mc (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0bfa8f9f-92ff-4ca7-8557-c037889a6e59) to Async(default) with arguments: #<GlobalID:0x000055a111e0fdf0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.554034"], ["updated_at", "2023-08-27 07:32:20.554034"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59] Performing ActiveStorage::AnalyzeJob (Job ID: 0bfa8f9f-92ff-4ca7-8557-c037889a6e59) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a111e28918 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [12cbd259-76e5-4b65-a00d-8b84ad0bd444]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [12cbd259-76e5-4b65-a00d-8b84ad0bd444] Performed ActiveStorage::AnalyzeJob (Job ID: 12cbd259-76e5-4b65-a00d-8b84ad0bd444) from Async(default) in 70.21ms
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055a10f609630>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59] [36m  Disk Storage (2.2ms) [0m[34mDownloaded file from key: d78w785goejs2dapwrl1gwp897mc[0m
Redirected to http://test.host/books/1
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1121)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$QHEFDahRJmRhKNv2BJCj5uZfzrsCWRCDAm6sLPOYBpvxWzx1fU5qm"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.581742"], ["updated_at", "2023-08-27 07:32:20.581742"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "M2Sj9QWAsUMoUnCyXUAQ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.581879"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "q5idqq3zga59x2zl26j9l448lh29"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.599146"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.601089"]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.602524"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: q5idqq3zga59x2zl26j9l448lh29 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 817c0a3a-e033-4471-a71d-abcc7891098b) to Async(default) with arguments: #<GlobalID:0x000055a10cec2fb8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.613848"], ["updated_at", "2023-08-27 07:32:20.613848"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b] Performing ActiveStorage::AnalyzeJob (Job ID: 817c0a3a-e033-4471-a71d-abcc7891098b) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a10b01b1c8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055a10cc24658>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0bfa8f9f-92ff-4ca7-8557-c037889a6e59] Performed ActiveStorage::AnalyzeJob (Job ID: 0bfa8f9f-92ff-4ca7-8557-c037889a6e59) from Async(default) in 106.64ms
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b] [36m  Disk Storage (28.9ms) [0m[34mDownloaded file from key: q5idqq3zga59x2zl26j9l448lh29[0m
  Rendered books/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 428)
Completed 200 OK in 40ms (Views: 31.4ms | ActiveRecord: 0.4ms | Allocations: 2368)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$QhPgUO3CfA9A.vDABGguKe0aDZn7anTjSWHbc6rVplTJ.LX62Us2S"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:20.670176"], ["updated_at", "2023-08-27 07:32:20.670176"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Q2sm65uohy7nK-skCuEp"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:20.670311"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5izwcty29h2353ucxbxn80ynwk5m"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:20.684459"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:20.686466"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:20.688167"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 5izwcty29h2353ucxbxn80ynwk5m (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c591a51c-ee36-42cc-9060-22a33ea1ceb2) to Async(default) with arguments: #<GlobalID:0x000055a111e0e6d0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:20.697731"], ["updated_at", "2023-08-27 07:32:20.697731"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [c591a51c-ee36-42cc-9060-22a33ea1ceb2]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c591a51c-ee36-42cc-9060-22a33ea1ceb2] Performing ActiveStorage::AnalyzeJob (Job ID: c591a51c-ee36-42cc-9060-22a33ea1ceb2) from Async(default) enqueued at 2023-08-27T07:32:20Z with arguments: #<GlobalID:0x000055a111e005f8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [817c0a3a-e033-4471-a71d-abcc7891098b] Performed ActiveStorage::AnalyzeJob (Job ID: 817c0a3a-e033-4471-a71d-abcc7891098b) from Async(default) in 101.94ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055a111e09720>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
  Rendering layout layouts/application.html.erb
[ActiveJob] [ActiveStorage::AnalyzeJob] [c591a51c-ee36-42cc-9060-22a33ea1ceb2] [36m  Disk Storage (5.7ms) [0m[34mDownloaded file from key: 5izwcty29h2353ucxbxn80ynwk5m[0m
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 179)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 410)
Completed 200 OK in 16ms (Views: 4.4ms | ActiveRecord: 0.2ms | Allocations: 2529)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c591a51c-ee36-42cc-9060-22a33ea1ceb2] Performed ActiveStorage::AnalyzeJob (Job ID: c591a51c-ee36-42cc-9060-22a33ea1ceb2) from Async(default) in 41.56ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$3aDUdXvrcK7EAZvDYrRfye5mHCaMhJopsHIS.qjnjclAyMqFWF4Ee"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:55.270332"], ["updated_at", "2023-08-27 07:32:55.270332"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "XsEuejs1q56Z7zok1WvZ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:55.270567"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "beiu601a40tplb9fose4bsdggmmj"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:55.352622"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:55.354841"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:55.356518"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: beiu601a40tplb9fose4bsdggmmj (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c2320670-d608-4d26-a92c-4e2eb783135d) to Async(default) with arguments: #<GlobalID:0x000055ba95428f88 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d] Performing ActiveStorage::AnalyzeJob (Job ID: c2320670-d608-4d26-a92c-4e2eb783135d) from Async(default) enqueued at 2023-08-27T07:32:55Z with arguments: #<GlobalID:0x00007f02ec031ad8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:55.496939"], ["updated_at", "2023-08-27 07:32:55.496939"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d] [36m  Disk Storage (2.6ms) [0m[34mDownloaded file from key: beiu601a40tplb9fose4bsdggmmj[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2320670-d608-4d26-a92c-4e2eb783135d] Performed ActiveStorage::AnalyzeJob (Job ID: c2320670-d608-4d26-a92c-4e2eb783135d) from Async(default) in 193.27ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 414)
Completed 200 OK in 21ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 8531)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$b2esRkPR4PnhSSUc0s9/6ueqkcrNe1ZvA/ns9x8GfyD52nN5EwbH6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:55.706476"], ["updated_at", "2023-08-27 07:32:55.706476"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zxQG3DnqNcoaj1E3E5yA"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:55.706596"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "jcskwve6xs93p2exlvpfaxysca24"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:55.719186"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:55.721063"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:55.722522"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: jcskwve6xs93p2exlvpfaxysca24 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b2c51a3c-138c-48e0-b7c0-dc00f1443ae5) to Async(default) with arguments: #<GlobalID:0x000055ba98cb10d0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:55.733703"], ["updated_at", "2023-08-27 07:32:55.733703"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c51a3c-138c-48e0-b7c0-dc00f1443ae5]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c51a3c-138c-48e0-b7c0-dc00f1443ae5] Performing ActiveStorage::AnalyzeJob (Job ID: b2c51a3c-138c-48e0-b7c0-dc00f1443ae5) from Async(default) enqueued at 2023-08-27T07:32:55Z with arguments: #<GlobalID:0x00007f02f10f76e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c51a3c-138c-48e0-b7c0-dc00f1443ae5] [36m  Disk Storage (1.6ms) [0m[34mDownloaded file from key: jcskwve6xs93p2exlvpfaxysca24[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 114)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 433)
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 0.3ms | Allocations: 1414)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$TuNW7RemC4jXKqJTZhonJuCnfBC1wg/FE6ijj56Rl3SEoqddX1D0S"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:55.758721"], ["updated_at", "2023-08-27 07:32:55.758721"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "yWsTjPfBCtCFjRtPokVy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:55.758862"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "oani3gfrq8t7u9onnr6q67rtgb8i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:55.774915"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:55.776606"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:55.778020"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: oani3gfrq8t7u9onnr6q67rtgb8i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8) to Async(default) with arguments: #<GlobalID:0x00007f02f108ea30 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c51a3c-138c-48e0-b7c0-dc00f1443ae5]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2c51a3c-138c-48e0-b7c0-dc00f1443ae5] Performed ActiveStorage::AnalyzeJob (Job ID: b2c51a3c-138c-48e0-b7c0-dc00f1443ae5) from Async(default) in 58.06ms
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8] Performing ActiveStorage::AnalyzeJob (Job ID: 322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8) from Async(default) enqueued at 2023-08-27T07:32:55Z with arguments: #<GlobalID:0x00007f02f1058660 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8] [36m  Disk Storage (2.1ms) [0m[34mDownloaded file from key: oani3gfrq8t7u9onnr6q67rtgb8i[0m
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055ba98c9c388>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:55.813470"], ["updated_at", "2023-08-27 07:32:55.813470"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 16ms (ActiveRecord: 0.9ms | Allocations: 2990)
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8] Performed ActiveStorage::AnalyzeJob (Job ID: 322ff4aa-c8fa-41f1-a9d7-38a8272e1ea8) from Async(default) in 41.9ms
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$MKWgO0inxr6Mi55bC4DDHuSM3QKG1gHWkv79DlJEfY4vStuJneNMe"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:55.832035"], ["updated_at", "2023-08-27 07:32:55.832035"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "4yaGu2bSjyoHBJXX_sN-"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:55.832172"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0ja1ow317jbfrd8vzpbs1ftcfs72"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:55.846572"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:55.849119"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:55.851477"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 0ja1ow317jbfrd8vzpbs1ftcfs72 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3af86e8b-3d61-4428-a9c3-e699c67b56b2) to Async(default) with arguments: #<GlobalID:0x00007f02f0f91150 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2] Performing ActiveStorage::AnalyzeJob (Job ID: 3af86e8b-3d61-4428-a9c3-e699c67b56b2) from Async(default) enqueued at 2023-08-27T07:32:55Z with arguments: #<GlobalID:0x00007f02f0f7b210 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f02ec293088>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:55.869049"], ["updated_at", "2023-08-27 07:32:55.869049"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.6ms | Allocations: 1490)
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2] [36m  Disk Storage (4.0ms) [0m[34mDownloaded file from key: 0ja1ow317jbfrd8vzpbs1ftcfs72[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$geeOVxTIOEvzJpn0XeDsQeoZsO8WFd40f61gI5s2p5yo5jWm1IG36"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:55.890488"], ["updated_at", "2023-08-27 07:32:55.890488"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "mrSbzkEb4BBhBLenddNT"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:55.890666"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dwv5g903uj0j8x1r6nhlge8o3afd"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:55.906088"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:55.908250"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:55.910025"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: dwv5g903uj0j8x1r6nhlge8o3afd (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 27b761bf-d109-485c-9224-c66bae284fec) to Async(default) with arguments: #<GlobalID:0x00007f02f0f15370 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3af86e8b-3d61-4428-a9c3-e699c67b56b2] Performed ActiveStorage::AnalyzeJob (Job ID: 3af86e8b-3d61-4428-a9c3-e699c67b56b2) from Async(default) in 67.09ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [27b761bf-d109-485c-9224-c66bae284fec]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [27b761bf-d109-485c-9224-c66bae284fec] Performing ActiveStorage::AnalyzeJob (Job ID: 27b761bf-d109-485c-9224-c66bae284fec) from Async(default) enqueued at 2023-08-27T07:32:55Z with arguments: #<GlobalID:0x00007f02ec254a68 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f02f0f07c70>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:55.929792"], ["updated_at", "2023-08-27 07:32:55.929792"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 13ms (ActiveRecord: 0.9ms | Allocations: 1902)
[ActiveJob] [ActiveStorage::AnalyzeJob] [27b761bf-d109-485c-9224-c66bae284fec] [36m  Disk Storage (4.3ms) [0m[34mDownloaded file from key: dwv5g903uj0j8x1r6nhlge8o3afd[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$8qzAij39T0Tz/fJ5QftR.OA8c5XgdFrcVSvXdOx7h9yuAEimDxzty"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:55.951258"], ["updated_at", "2023-08-27 07:32:55.951258"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "dGsEUnTh_jp5c2tV5oPo"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:55.951384"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bv8w82ko70lo33gwx34hwcz97eet"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:55.966712"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:55.968902"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:55.971187"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: bv8w82ko70lo33gwx34hwcz97eet (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5cc25a2f-f26f-41f7-9863-4d86dba8b0fd) to Async(default) with arguments: #<GlobalID:0x00007f02ec09a358 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [5cc25a2f-f26f-41f7-9863-4d86dba8b0fd]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5cc25a2f-f26f-41f7-9863-4d86dba8b0fd] Performing ActiveStorage::AnalyzeJob (Job ID: 5cc25a2f-f26f-41f7-9863-4d86dba8b0fd) from Async(default) enqueued at 2023-08-27T07:32:55Z with arguments: #<GlobalID:0x00007f02f0e2a1b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [27b761bf-d109-485c-9224-c66bae284fec] Performed ActiveStorage::AnalyzeJob (Job ID: 27b761bf-d109-485c-9224-c66bae284fec) from Async(default) in 67.05ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f02f0e45f30>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [5cc25a2f-f26f-41f7-9863-4d86dba8b0fd] [36m  Disk Storage (4.4ms) [0m[34mDownloaded file from key: bv8w82ko70lo33gwx34hwcz97eet[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.8ms | Allocations: 96)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 325)
Completed 200 OK in 12ms (Views: 5.2ms | ActiveRecord: 0.1ms | Allocations: 1865)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ue/goYjK9Bv3gPJcDmrStOLapkGNGV65HvdDGpMl1mOt1f3JVLpGW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.005294"], ["updated_at", "2023-08-27 07:32:56.005294"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Y6yDB2areara5GnKofB1"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.005398"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4gad7n84x3ovc03oz5u45mtcjje2"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.020068"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.022490"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.023916"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 4gad7n84x3ovc03oz5u45mtcjje2 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 056c0128-a234-493e-a0f6-2dd717e9e186) to Async(default) with arguments: #<GlobalID:0x000055ba9542b288 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [5cc25a2f-f26f-41f7-9863-4d86dba8b0fd]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5cc25a2f-f26f-41f7-9863-4d86dba8b0fd] Performed ActiveStorage::AnalyzeJob (Job ID: 5cc25a2f-f26f-41f7-9863-4d86dba8b0fd) from Async(default) in 59.56ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [056c0128-a234-493e-a0f6-2dd717e9e186]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [056c0128-a234-493e-a0f6-2dd717e9e186] Performing ActiveStorage::AnalyzeJob (Job ID: 056c0128-a234-493e-a0f6-2dd717e9e186) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x00007f02f0df4040 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055ba95751908>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
[ActiveJob] [ActiveStorage::AnalyzeJob] [056c0128-a234-493e-a0f6-2dd717e9e186] [36m  Disk Storage (5.7ms) [0m[34mDownloaded file from key: 4gad7n84x3ovc03oz5u45mtcjje2[0m
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/errore.html.erb within layouts/application (Duration: 2.0ms | Allocations: 207)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 428)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.2ms | Allocations: 1545)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$cSWq2tyPTZX1jns9.FInF.I1FMfRYfEuV7vp0/2snpVRceDx.gcNa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.056923"], ["updated_at", "2023-08-27 07:32:56.056923"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Ws6oqEPysyY9ck99_s9P"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.057028"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wqdqjqw272btrmzltrx4iex5ntyk"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.070843"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.073075"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.074542"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: wqdqjqw272btrmzltrx4iex5ntyk (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 376fa24d-c0ca-4c35-b982-2ab8b21080af) to Async(default) with arguments: #<GlobalID:0x00007f02f0d83188 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.084007"], ["updated_at", "2023-08-27 07:32:56.084007"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af] Performing ActiveStorage::AnalyzeJob (Job ID: 376fa24d-c0ca-4c35-b982-2ab8b21080af) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x00007f02f0d54f18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [056c0128-a234-493e-a0f6-2dd717e9e186] Performed ActiveStorage::AnalyzeJob (Job ID: 056c0128-a234-493e-a0f6-2dd717e9e186) from Async(default) in 62.71ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-27 07:32:56.098594"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af] [36m  Disk Storage (4.2ms) [0m[34mDownloaded file from key: wqdqjqw272btrmzltrx4iex5ntyk[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 14ms (ActiveRecord: 0.9ms | Allocations: 2142)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$TNq3OFv5NoD95HnPFAGrMuN4yxJ7qsWnoMIrKn3bW25oZHGE31KDa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.115658"], ["updated_at", "2023-08-27 07:32:56.115658"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "vRFZfnMewxqduCZUq432"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.115827"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8n1csmbzi52w6z3d0s4bpzyawtmx"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.131181"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.133226"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.134725"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 8n1csmbzi52w6z3d0s4bpzyawtmx (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dc98fa4a-1d9a-4904-9407-fd98cfaa6600) to Async(default) with arguments: #<GlobalID:0x000055ba95321fe0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.143518"], ["updated_at", "2023-08-27 07:32:56.143518"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc98fa4a-1d9a-4904-9407-fd98cfaa6600]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc98fa4a-1d9a-4904-9407-fd98cfaa6600] Performing ActiveStorage::AnalyzeJob (Job ID: dc98fa4a-1d9a-4904-9407-fd98cfaa6600) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x00007f02f0ceaed8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [376fa24d-c0ca-4c35-b982-2ab8b21080af] Performed ActiveStorage::AnalyzeJob (Job ID: 376fa24d-c0ca-4c35-b982-2ab8b21080af) from Async(default) in 74.66ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00007f02f0cfa450>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 11ms (ActiveRecord: 0.2ms | Allocations: 1960)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc98fa4a-1d9a-4904-9407-fd98cfaa6600] [36m  Disk Storage (3.1ms) [0m[34mDownloaded file from key: 8n1csmbzi52w6z3d0s4bpzyawtmx[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$FO9nOU99JqPq9XXO9JKGj.e9WRz8dNNdMAaeqi2tkW70Vg66WBFjO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.169908"], ["updated_at", "2023-08-27 07:32:56.169908"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "5BFi6YHy9wzbUygFHacz"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.170047"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rh2wzhmx1w5zmdqzbngp1s00shi7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.185377"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.187772"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.191847"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: rh2wzhmx1w5zmdqzbngp1s00shi7 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 95034716-d3cb-4c79-b5be-153d3f980a3e) to Async(default) with arguments: #<GlobalID:0x00007f02f0c78b08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.201388"], ["updated_at", "2023-08-27 07:32:56.201388"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [95034716-d3cb-4c79-b5be-153d3f980a3e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [95034716-d3cb-4c79-b5be-153d3f980a3e] Performing ActiveStorage::AnalyzeJob (Job ID: 95034716-d3cb-4c79-b5be-153d3f980a3e) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x00007f02f0c23108 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc98fa4a-1d9a-4904-9407-fd98cfaa6600]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc98fa4a-1d9a-4904-9407-fd98cfaa6600] Performed ActiveStorage::AnalyzeJob (Job ID: dc98fa4a-1d9a-4904-9407-fd98cfaa6600) from Async(default) in 72.91ms
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x00007f02f08bbd80>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.2ms | Allocations: 1314)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95034716-d3cb-4c79-b5be-153d3f980a3e] [36m  Disk Storage (4.7ms) [0m[34mDownloaded file from key: rh2wzhmx1w5zmdqzbngp1s00shi7[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$HpdKXXBP0bYT1XOT5SpAQO4Rpxef7.pr0kdDuE8FuXurTiqz6BBtq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.227039"], ["updated_at", "2023-08-27 07:32:56.227039"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "CZgxymB_1Hr8bXbVUfDy"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.227192"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2zp8pgay38w43ucbxye1vnwgke31"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.242782"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.245205"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.248168"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 2zp8pgay38w43ucbxye1vnwgke31 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4be3b04e-4927-4bf8-964a-53f2b2a7a11e) to Async(default) with arguments: #<GlobalID:0x000055ba94f5fcb8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.259808"], ["updated_at", "2023-08-27 07:32:56.259808"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e] Performing ActiveStorage::AnalyzeJob (Job ID: 4be3b04e-4927-4bf8-964a-53f2b2a7a11e) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x000055ba9530b1c8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055ba94af0c68>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95034716-d3cb-4c79-b5be-153d3f980a3e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [95034716-d3cb-4c79-b5be-153d3f980a3e] Performed ActiveStorage::AnalyzeJob (Job ID: 95034716-d3cb-4c79-b5be-153d3f980a3e) from Async(default) in 75.6ms
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e] [36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: 2zp8pgay38w43ucbxye1vnwgke31[0m
  Rendered books/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 330)
Completed 200 OK in 13ms (Views: 7.2ms | ActiveRecord: 0.2ms | Allocations: 2194)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$srGuQLhjoufHRBWvdUna2uA6uGSlYg4Fxq7pmgtf6GHStphAyyCl2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.289510"], ["updated_at", "2023-08-27 07:32:56.289510"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "_KmEFjxTbs1unEPFWpqG"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.289742"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gpp8ko2pv6j26veirz14py5ynxsf"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.303250"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.305114"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.306398"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: gpp8ko2pv6j26veirz14py5ynxsf (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a43b3028-9449-4613-bb6b-670e87b7311e) to Async(default) with arguments: #<GlobalID:0x000055ba95a74b30 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.317988"], ["updated_at", "2023-08-27 07:32:56.317988"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e] Performing ActiveStorage::AnalyzeJob (Job ID: a43b3028-9449-4613-bb6b-670e87b7311e) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x00007f02f0b93c88 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4be3b04e-4927-4bf8-964a-53f2b2a7a11e] Performed ActiveStorage::AnalyzeJob (Job ID: 4be3b04e-4927-4bf8-964a-53f2b2a7a11e) from Async(default) in 74.17ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055ba94d5a648>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: gpp8ko2pv6j26veirz14py5ynxsf[0m
  Rendered books/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 95)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 410)
Completed 200 OK in 15ms (Views: 4.3ms | ActiveRecord: 0.2ms | Allocations: 2525)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$GNkaNL/EgHEBA0Rb9hBsSO1JH3hR2hPd0tuqFcCtmmM4oUfyded2q"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.350844"], ["updated_at", "2023-08-27 07:32:56.350844"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "FDamHzEzj_Wc9HzbrSaz"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.351073"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ybl5qibhtuozi9pfdqidyfh66mo8"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.364854"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.367046"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.369073"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: ybl5qibhtuozi9pfdqidyfh66mo8 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3ecad5e0-32cc-40ac-a346-59b267cef10a) to Async(default) with arguments: #<GlobalID:0x000055ba950fac80 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.378475"], ["updated_at", "2023-08-27 07:32:56.378475"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a43b3028-9449-4613-bb6b-670e87b7311e] Performed ActiveStorage::AnalyzeJob (Job ID: a43b3028-9449-4613-bb6b-670e87b7311e) from Async(default) in 76.86ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ecad5e0-32cc-40ac-a346-59b267cef10a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ecad5e0-32cc-40ac-a346-59b267cef10a] Performing ActiveStorage::AnalyzeJob (Job ID: 3ecad5e0-32cc-40ac-a346-59b267cef10a) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x000055ba95a9f0d8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ecad5e0-32cc-40ac-a346-59b267cef10a] [36m  Disk Storage (26.8ms) [0m[34mDownloaded file from key: ybl5qibhtuozi9pfdqidyfh66mo8[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ecad5e0-32cc-40ac-a346-59b267cef10a] Performed ActiveStorage::AnalyzeJob (Job ID: 3ecad5e0-32cc-40ac-a346-59b267cef10a) from Async(default) in 65.18ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 189ms (ActiveRecord: 3.8ms | Allocations: 20260)
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$Wb53fXUJHa/HT253PnSC7enJT/a/I5FhXE5Zm4sr0MY7AIGhvVJj2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:32:56.585125"], ["updated_at", "2023-08-27 07:32:56.585125"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "vqvXzTGmeogRMpuGQkwp"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:32:56.585284"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "e2sxtjuumvhzyn53z50l0uugc7mq"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:32:56.598397"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:32:56.600028"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:32:56.601279"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: e2sxtjuumvhzyn53z50l0uugc7mq (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c908851d-bb88-4a6c-b501-d83154ebaa06) to Async(default) with arguments: #<GlobalID:0x000055ba95a04bc8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:32:56.611381"], ["updated_at", "2023-08-27 07:32:56.611381"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06] Performing ActiveStorage::AnalyzeJob (Job ID: c908851d-bb88-4a6c-b501-d83154ebaa06) from Async(default) enqueued at 2023-08-27T07:32:56Z with arguments: #<GlobalID:0x000055ba94d688d8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.1ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06] [36m  Disk Storage (5.3ms) [0m[34mDownloaded file from key: e2sxtjuumvhzyn53z50l0uugc7mq[0m
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 1.2ms | Allocations: 2086)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c908851d-bb88-4a6c-b501-d83154ebaa06] Performed ActiveStorage::AnalyzeJob (Job ID: c908851d-bb88-4a6c-b501-d83154ebaa06) from Async(default) in 74.44ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$t3piQev.ifj2lTYmLUrLSOsN9s.wt5K3JGtYjguefco5yHiqiRKKa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.029623"], ["updated_at", "2023-08-27 07:35:52.029623"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "5KKAFEdLUP76-xPcyn75"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.029863"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gm4ku9kzd3l8pipqesl6d41rbbdu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.108128"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.112006"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.114080"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: gm4ku9kzd3l8pipqesl6d41rbbdu (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 37d7215d-233f-4997-a748-57b6e26a19c1) to Async(default) with arguments: #<GlobalID:0x000055f36e4b7b40 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1] Performing ActiveStorage::AnalyzeJob (Job ID: 37d7215d-233f-4997-a748-57b6e26a19c1) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x00007f82780424d0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.252094"], ["updated_at", "2023-08-27 07:35:52.252094"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1] [36m  Disk Storage (2.7ms) [0m[34mDownloaded file from key: gm4ku9kzd3l8pipqesl6d41rbbdu[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [37d7215d-233f-4997-a748-57b6e26a19c1] Performed ActiveStorage::AnalyzeJob (Job ID: 37d7215d-233f-4997-a748-57b6e26a19c1) from Async(default) in 188.67ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 414)
Completed 200 OK in 21ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 8532)
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$rI.Tkw7EY985ggXN0FLvWeXALWtinsFKPHo3BLr/i5.Dlzu77h1Zy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.425151"], ["updated_at", "2023-08-27 07:35:52.425151"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "m_Uw826spaxsyV9kaxQS"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.425280"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4wrqfgbrizuql8cr99sea41ungqg"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.437793"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.440857"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.442469"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 4wrqfgbrizuql8cr99sea41ungqg (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f1b153ec-bc2e-4651-9932-0e3a68b8031f) to Async(default) with arguments: #<GlobalID:0x000055f36f0dd2d0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.453027"], ["updated_at", "2023-08-27 07:35:52.453027"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1b153ec-bc2e-4651-9932-0e3a68b8031f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1b153ec-bc2e-4651-9932-0e3a68b8031f] Performing ActiveStorage::AnalyzeJob (Job ID: f1b153ec-bc2e-4651-9932-0e3a68b8031f) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x000055f3705084d0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1b153ec-bc2e-4651-9932-0e3a68b8031f] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: 4wrqfgbrizuql8cr99sea41ungqg[0m
  Rendered books/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 429)
Completed 200 OK in 9ms (Views: 4.2ms | ActiveRecord: 0.3ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$CwKVshIehBZLriey5406f.u7S1oFKlkyxCjcVEfkMzGAmote.iWIG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.477879"], ["updated_at", "2023-08-27 07:35:52.477879"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "6oE7jXSxLgZmCkxZJyNi"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.477998"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fl7bexscscdmsea9u5ktqfywv2fl"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.493860"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.495719"]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.497142"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: fl7bexscscdmsea9u5ktqfywv2fl (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0) to Async(default) with arguments: #<GlobalID:0x000055f36f3c3e18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1b153ec-bc2e-4651-9932-0e3a68b8031f]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f1b153ec-bc2e-4651-9932-0e3a68b8031f] Performed ActiveStorage::AnalyzeJob (Job ID: f1b153ec-bc2e-4651-9932-0e3a68b8031f) from Async(default) in 56.3ms
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0] Performing ActiveStorage::AnalyzeJob (Job ID: fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x000055f36f410268 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0] [36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: fl7bexscscdmsea9u5ktqfywv2fl[0m
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f8238009ff8>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.530740"], ["updated_at", "2023-08-27 07:35:52.530740"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 15ms (ActiveRecord: 0.9ms | Allocations: 2980)
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$1uf7d3KljcuW0bAlkSa5ve4xatDIN6pKW3BmjUHAMV0fUq05vhpFe"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.547336"], ["updated_at", "2023-08-27 07:35:52.547336"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "BvmhKY4xx2rsofzn1xaz"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.547454"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ssfakbno9kh6fz6yv74uz6hrm8wt"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.563479"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.566591"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.568964"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: ssfakbno9kh6fz6yv74uz6hrm8wt (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ac543312-4cc2-4457-b787-63ba0d90e040) to Async(default) with arguments: #<GlobalID:0x000055f36f0b5ac8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac543312-4cc2-4457-b787-63ba0d90e040]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac543312-4cc2-4457-b787-63ba0d90e040] Performing ActiveStorage::AnalyzeJob (Job ID: ac543312-4cc2-4457-b787-63ba0d90e040) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x00007f8238038448 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0] Performed ActiveStorage::AnalyzeJob (Job ID: fc0ee205-fb0a-4e17-89c9-e9b4fa1ce6b0) from Async(default) in 75.33ms
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007f82783a8d68>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.591125"], ["updated_at", "2023-08-27 07:35:52.591125"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac543312-4cc2-4457-b787-63ba0d90e040] [36m  Disk Storage (6.7ms) [0m[34mDownloaded file from key: ssfakbno9kh6fz6yv74uz6hrm8wt[0m
Completed 302 Found in 13ms (ActiveRecord: 1.0ms | Allocations: 1534)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$xl1u0j7H3AK2CkgNTPAmE.nnP2P7IxAvwe/Pu8XaFEDaKcOpPJ.Py"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.614857"], ["updated_at", "2023-08-27 07:35:52.614857"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "fxsZ_t83wuMhWnZ26jqt"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.615031"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "t30cmyw0w4ilz6297sx7co4wnuwa"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.635560"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.639650"]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.641437"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: t30cmyw0w4ilz6297sx7co4wnuwa (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b83453da-e13e-4675-8864-91680d8cf45f) to Async(default) with arguments: #<GlobalID:0x000055f372a42fc0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac543312-4cc2-4457-b787-63ba0d90e040]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac543312-4cc2-4457-b787-63ba0d90e040] Performed ActiveStorage::AnalyzeJob (Job ID: ac543312-4cc2-4457-b787-63ba0d90e040) from Async(default) in 78.43ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [b83453da-e13e-4675-8864-91680d8cf45f]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b83453da-e13e-4675-8864-91680d8cf45f] Performing ActiveStorage::AnalyzeJob (Job ID: b83453da-e13e-4675-8864-91680d8cf45f) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x00007f82783d0e08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055f372a46760>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.659875"], ["updated_at", "2023-08-27 07:35:52.659875"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms | Allocations: 1309)
[ActiveJob] [ActiveStorage::AnalyzeJob] [b83453da-e13e-4675-8864-91680d8cf45f] [36m  Disk Storage (6.3ms) [0m[34mDownloaded file from key: t30cmyw0w4ilz6297sx7co4wnuwa[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$NROMnH2VhufMY3m6T3jwGuXWuPujQgbgrmZDFM3pW/Dkx0Bxu5twa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.683641"], ["updated_at", "2023-08-27 07:35:52.683641"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "EYeRbX45hdsYF-p6yiiS"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.683827"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "axl8665uub6cfadxhu2btdjm570u"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.701946"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b83453da-e13e-4675-8864-91680d8cf45f] Performed ActiveStorage::AnalyzeJob (Job ID: b83453da-e13e-4675-8864-91680d8cf45f) from Async(default) in 51.97ms
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.705055"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.707976"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: axl8665uub6cfadxhu2btdjm570u (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 62d733c6-b4ff-4aeb-85a5-f552bf419191) to Async(default) with arguments: #<GlobalID:0x000055f372ade268 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191] Performing ActiveStorage::AnalyzeJob (Job ID: 62d733c6-b4ff-4aeb-85a5-f552bf419191) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x00007f8238061118 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055f372ae1e68>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191] [36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: axl8665uub6cfadxhu2btdjm570u[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 1.1ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 433)
Completed 200 OK in 11ms (Views: 5.5ms | ActiveRecord: 0.1ms | Allocations: 1842)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$NqCyMOmF2DKxFJtcWuqWAuoLYZfGuxcsyeSGes8mzInpmQXy9hjQi"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.744209"], ["updated_at", "2023-08-27 07:35:52.744209"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "7hRNjnT_PiJ72yAYHzkt"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.744373"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fyvkqsuum72mboaua9rm0vg5sl5c"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.764769"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.767501"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.769081"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: fyvkqsuum72mboaua9rm0vg5sl5c (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ef1031ff-f7d9-48a7-9508-f114f65f9df1) to Async(default) with arguments: #<GlobalID:0x000055f372b38920 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [62d733c6-b4ff-4aeb-85a5-f552bf419191] Performed ActiveStorage::AnalyzeJob (Job ID: 62d733c6-b4ff-4aeb-85a5-f552bf419191) from Async(default) in 69.05ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef1031ff-f7d9-48a7-9508-f114f65f9df1]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef1031ff-f7d9-48a7-9508-f114f65f9df1] Performing ActiveStorage::AnalyzeJob (Job ID: ef1031ff-f7d9-48a7-9508-f114f65f9df1) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x00007f8278402bb0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055f37099a5c0>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef1031ff-f7d9-48a7-9508-f114f65f9df1] [36m  Disk Storage (3.9ms) [0m[34mDownloaded file from key: fyvkqsuum72mboaua9rm0vg5sl5c[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.8ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 432)
Completed 200 OK in 13ms (Views: 4.1ms | ActiveRecord: 0.1ms | Allocations: 2198)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0RqPz9PT6bXg.Gt.Q/2a9ekyU0/n2C0Je2l3v4s6NO99Aa7FsKwsq"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.804780"], ["updated_at", "2023-08-27 07:35:52.804780"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "fMADV8jLzvTeonbtnzjs"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.804890"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ylhk4zi9nlnmwkrk13kqfclumsvs"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.818057"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.820052"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.821613"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ylhk4zi9nlnmwkrk13kqfclumsvs (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0e2a0b73-2498-4873-9ab8-eebba6ffbefc) to Async(default) with arguments: #<GlobalID:0x000055f372b76f40 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.830730"], ["updated_at", "2023-08-27 07:35:52.830730"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e2a0b73-2498-4873-9ab8-eebba6ffbefc]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e2a0b73-2498-4873-9ab8-eebba6ffbefc] Performing ActiveStorage::AnalyzeJob (Job ID: 0e2a0b73-2498-4873-9ab8-eebba6ffbefc) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x000055f372b97358 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ef1031ff-f7d9-48a7-9508-f114f65f9df1] Performed ActiveStorage::AnalyzeJob (Job ID: ef1031ff-f7d9-48a7-9508-f114f65f9df1) from Async(default) in 64.77ms
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-27 07:35:52.844312"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e2a0b73-2498-4873-9ab8-eebba6ffbefc] [36m  Disk Storage (2.5ms) [0m[34mDownloaded file from key: ylhk4zi9nlnmwkrk13kqfclumsvs[0m
Completed 302 Found in 13ms (ActiveRecord: 0.9ms | Allocations: 2130)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$0PIbETs1Z6BAY.d/VHBcJeog3SY4TcWO.WrxuJpzVUstL1k8PwFBG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.863030"], ["updated_at", "2023-08-27 07:35:52.863030"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "N8ZKardsuzdvT-Vnk6Cx"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.863191"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5azzs4iyqs476867tnbms383esvo"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.877763"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.880632"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.882787"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 5azzs4iyqs476867tnbms383esvo (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a5837339-3821-485d-9e1b-adf125ce7c92) to Async(default) with arguments: #<GlobalID:0x000055f372bcee48 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.892670"], ["updated_at", "2023-08-27 07:35:52.892670"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [a5837339-3821-485d-9e1b-adf125ce7c92]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [a5837339-3821-485d-9e1b-adf125ce7c92] Performing ActiveStorage::AnalyzeJob (Job ID: a5837339-3821-485d-9e1b-adf125ce7c92) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x00007f823808f2e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055f372be6b10>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 1325)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e2a0b73-2498-4873-9ab8-eebba6ffbefc]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0e2a0b73-2498-4873-9ab8-eebba6ffbefc] Performed ActiveStorage::AnalyzeJob (Job ID: 0e2a0b73-2498-4873-9ab8-eebba6ffbefc) from Async(default) in 82.47ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [a5837339-3821-485d-9e1b-adf125ce7c92] [36m  Disk Storage (6.8ms) [0m[34mDownloaded file from key: 5azzs4iyqs476867tnbms383esvo[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$g0SBHrovB45lFFVd1N2GyOMrCtWk3bGIwrOntIpoVcO.FORYnyktC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.918699"], ["updated_at", "2023-08-27 07:35:52.918699"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "bzBbFsxyGxXA4Wu-s8rr"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.918858"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5vzknnpsheaik94cy4qaanbknrgl"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.934262"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.937462"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.939099"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 5vzknnpsheaik94cy4qaanbknrgl (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f79240d8-ecb0-419a-a201-8e26ea2ad07a) to Async(default) with arguments: #<GlobalID:0x000055f372c271b0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:52.947926"], ["updated_at", "2023-08-27 07:35:52.947926"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [f79240d8-ecb0-419a-a201-8e26ea2ad07a]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f79240d8-ecb0-419a-a201-8e26ea2ad07a] Performing ActiveStorage::AnalyzeJob (Job ID: f79240d8-ecb0-419a-a201-8e26ea2ad07a) from Async(default) enqueued at 2023-08-27T07:35:52Z with arguments: #<GlobalID:0x000055f372c46600 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a5837339-3821-485d-9e1b-adf125ce7c92]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a5837339-3821-485d-9e1b-adf125ce7c92] Performed ActiveStorage::AnalyzeJob (Job ID: a5837339-3821-485d-9e1b-adf125ce7c92) from Async(default) in 71.55ms
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055f372c3ef68>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
[ActiveJob] [ActiveStorage::AnalyzeJob] [f79240d8-ecb0-419a-a201-8e26ea2ad07a] [36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: 5vzknnpsheaik94cy4qaanbknrgl[0m
Completed 302 Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1583)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$xaeLJuBFA1S8lOd8qhvQP.DTJ4wXW2RPeHdP2gNG.vvyawEkP6zKa"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:52.976435"], ["updated_at", "2023-08-27 07:35:52.976435"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "aoFuqm4gyAzJ8vW3Crus"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:52.976592"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tb0fdlh0iwqzj4s7mzl42xgg0fbs"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:52.992396"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:52.994204"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:52.996881"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: tb0fdlh0iwqzj4s7mzl42xgg0fbs (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bce9bcd5-78e9-4983-8d1f-834598d14e9e) to Async(default) with arguments: #<GlobalID:0x000055f36c643c90 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.6ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:53.034075"], ["updated_at", "2023-08-27 07:35:53.034075"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e] Performing ActiveStorage::AnalyzeJob (Job ID: bce9bcd5-78e9-4983-8d1f-834598d14e9e) from Async(default) enqueued at 2023-08-27T07:35:53Z with arguments: #<GlobalID:0x00007f82380a85e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f79240d8-ecb0-419a-a201-8e26ea2ad07a]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f79240d8-ecb0-419a-a201-8e26ea2ad07a] Performed ActiveStorage::AnalyzeJob (Job ID: f79240d8-ecb0-419a-a201-8e26ea2ad07a) from Async(default) in 103.08ms
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055f372c503d0>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: tb0fdlh0iwqzj4s7mzl42xgg0fbs[0m
  Rendered books/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 114)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 433)
Completed 200 OK in 13ms (Views: 5.2ms | ActiveRecord: 0.2ms | Allocations: 2089)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ps9Bc0sA5QNh2fL/2nETP.X.HVzagiHKOVmaZVUoDoBPEr5HKc.ru"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:53.063947"], ["updated_at", "2023-08-27 07:35:53.063947"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "HjLK5HkzS7xYN9UB1Q42"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:53.064102"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yh03arkxhvr4n0f2lqd3wp43bhd2"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:53.078396"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:53.080462"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:53.082118"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: yh03arkxhvr4n0f2lqd3wp43bhd2 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6f7d4abb-5d21-4128-a945-fce826744d38) to Async(default) with arguments: #<GlobalID:0x000055f372bf9620 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:53.091614"], ["updated_at", "2023-08-27 07:35:53.091614"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38] Performing ActiveStorage::AnalyzeJob (Job ID: 6f7d4abb-5d21-4128-a945-fce826744d38) from Async(default) enqueued at 2023-08-27T07:35:53Z with arguments: #<GlobalID:0x000055f372beb6b0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bce9bcd5-78e9-4983-8d1f-834598d14e9e] Performed ActiveStorage::AnalyzeJob (Job ID: bce9bcd5-78e9-4983-8d1f-834598d14e9e) from Async(default) in 98.41ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38] [36m  Disk Storage (4.7ms) [0m[34mDownloaded file from key: yh03arkxhvr4n0f2lqd3wp43bhd2[0m
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055f372bf0818>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 281)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 398)
Completed 200 OK in 17ms (Views: 4.7ms | ActiveRecord: 0.4ms | Allocations: 2525)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$VbA7ORYIQA9pk/akcHpe/e.oWj8.nbsZ9ItoFIyppUgFrj9uBBb/."], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:53.123691"], ["updated_at", "2023-08-27 07:35:53.123691"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "Bq1hshJzgyxD5QFsKYzd"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:53.123882"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ucuxb0gg3wub10hxwx8g0us67zs2"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:53.143275"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:53.145921"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:53.147860"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: ucuxb0gg3wub10hxwx8g0us67zs2 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 51693711-092e-402c-bc1b-393ac5806055) to Async(default) with arguments: #<GlobalID:0x000055f372b9e220 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:53.158237"], ["updated_at", "2023-08-27 07:35:53.158237"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
Processing by BooksController#destroy as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f7d4abb-5d21-4128-a945-fce826744d38] Performed ActiveStorage::AnalyzeJob (Job ID: 6f7d4abb-5d21-4128-a945-fce826744d38) from Async(default) in 81.89ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [51693711-092e-402c-bc1b-393ac5806055]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [51693711-092e-402c-bc1b-393ac5806055] Performing ActiveStorage::AnalyzeJob (Job ID: 51693711-092e-402c-bc1b-393ac5806055) from Async(default) enqueued at 2023-08-27T07:35:53Z with arguments: #<GlobalID:0x000055f372b7b4f0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [51693711-092e-402c-bc1b-393ac5806055] [36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: ucuxb0gg3wub10hxwx8g0us67zs2[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.3ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [51693711-092e-402c-bc1b-393ac5806055] Performed ActiveStorage::AnalyzeJob (Job ID: 51693711-092e-402c-bc1b-393ac5806055) from Async(default) in 45.0ms
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.3ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 64ms (ActiveRecord: 3.6ms | Allocations: 20125)
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$tSxDUJg8Od/8kMMtqdYpi.M71wjRG8YI66mOUQUTZJG3RRh9f4T52"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:35:53.241290"], ["updated_at", "2023-08-27 07:35:53.241290"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "zuKNy3eg1nrYcTCcrLv5"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:35:53.241401"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "adarcv3m9odabc17e85fbzpsv74i"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:35:53.254420"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:35:53.256413"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:35:53.257982"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: adarcv3m9odabc17e85fbzpsv74i (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 03fe7a05-0953-40bf-b13b-bfb01631c290) to Async(default) with arguments: #<GlobalID:0x00007f82783ce518 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-27 07:35:53.268318"], ["updated_at", "2023-08-27 07:35:53.268318"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [03fe7a05-0953-40bf-b13b-bfb01631c290]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [03fe7a05-0953-40bf-b13b-bfb01631c290] Performing ActiveStorage::AnalyzeJob (Job ID: 03fe7a05-0953-40bf-b13b-bfb01631c290) from Async(default) enqueued at 2023-08-27T07:35:53Z with arguments: #<GlobalID:0x000055f372a2f0b0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.1ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.1ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [03fe7a05-0953-40bf-b13b-bfb01631c290] [36m  Disk Storage (4.8ms) [0m[34mDownloaded file from key: adarcv3m9odabc17e85fbzpsv74i[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 1.2ms | Allocations: 2147)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [03fe7a05-0953-40bf-b13b-bfb01631c290] Performed ActiveStorage::AnalyzeJob (Job ID: 03fe7a05-0953-40bf-b13b-bfb01631c290) from Async(default) in 49.04ms
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$zeNXkNulC6mrnl80QzSbNu6HrvjOgIp7alDaWjkLac8vA9owqUiRG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:39:39.921992"], ["updated_at", "2023-08-27 07:39:39.921992"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "xZ-dq5YHJWb5eE_LLyKQ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:39:39.922270"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "74e3rkt9u7457d5y0i5atcl12d7o"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:39:40.026504"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:39:40.028601"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:39:40.030233"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 74e3rkt9u7457d5y0i5atcl12d7o (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 553a6dd4-86c7-497c-88ca-bdfb12692144) to Async(default) with arguments: #<GlobalID:0x00007f0c788ffad0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:39:40.039491"], ["confirmed_at", "2023-08-27 07:39:40.036939"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-27 09:39:40 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [553a6dd4-86c7-497c-88ca-bdfb12692144]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [553a6dd4-86c7-497c-88ca-bdfb12692144] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [553a6dd4-86c7-497c-88ca-bdfb12692144] Performed ActiveStorage::AnalyzeJob (Job ID: 553a6dd4-86c7-497c-88ca-bdfb12692144) from Async(default) in 50.64ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 6.5ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 7352.8ms | Allocations: 92113)
  Rendered layout layouts/application.html.erb (Duration: 7420.9ms | Allocations: 109942)
Completed 200 OK in 7446ms (Views: 7432.0ms | ActiveRecord: 0.0ms | Allocations: 116164)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-27 09:39:47 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 91ms (ActiveRecord: 0.3ms | Allocations: 2603)
Started GET "/" for 127.0.0.1 at 2023-08-27 09:39:47 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 27.3ms | Allocations: 3910)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 6130)
Completed 200 OK in 46ms (Views: 43.3ms | ActiveRecord: 1.6ms | Allocations: 6971)
Started GET "/users/1" for 127.0.0.1 at 2023-08-27 09:39:47 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (1.8ms) [0m[34mDownloaded file from key: 74e3rkt9u7457d5y0i5atcl12d7o[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tp1zexwjpov0akj9pjm866qgq541"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-27 07:39:48.552237"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-27 07:39:48.554380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: tp1zexwjpov0akj9pjm866qgq541 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 57b4f751-ecb3-4439-a888-2e820582d945) to Async(default) with arguments: #<GlobalID:0x00005572d682aae8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [57b4f751-ecb3-4439-a888-2e820582d945]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [57b4f751-ecb3-4439-a888-2e820582d945] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [57b4f751-ecb3-4439-a888-2e820582d945] Performed ActiveStorage::AnalyzeJob (Job ID: 57b4f751-ecb3-4439-a888-2e820582d945) from Async(default) in 2.34ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 537.2ms | Allocations: 57403)
  Rendered layout layouts/application.html.erb (Duration: 541.6ms | Allocations: 59732)
Completed 200 OK in 559ms (Views: 540.6ms | ActiveRecord: 5.7ms | Allocations: 62228)
Started GET "/books/new" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 31.8ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 59.6ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 62.6ms | Allocations: 5302)
Completed 200 OK in 92ms (Views: 64.8ms | ActiveRecord: 0.5ms | Allocations: 25155)
Started POST "/books" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-27 07:39:48.780026"], ["updated_at", "2023-08-27 07:39:48.780026"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.7ms | Allocations: 1699)
Started GET "/books/1" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 44.6ms | Allocations: 27535)
  Rendered layout layouts/application.html.erb (Duration: 48.0ms | Allocations: 29938)
Completed 200 OK in 52ms (Views: 47.2ms | ActiveRecord: 1.9ms | Allocations: 30628)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$scfsFmDwyvN5i4qzG/fbquilRDKcuBWQ3/IdhlZvg2m9dQ5vz73NW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:39:48.856700"], ["updated_at", "2023-08-27 07:39:48.856700"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "yhctxSUmgJBdm_aFwBxi"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:39:48.856849"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "60u64ikozcnyveyr3xm6m5swo9fr"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:39:48.869207"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:39:48.871153"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:39:48.873157"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 60u64ikozcnyveyr3xm6m5swo9fr (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4808ce45-174e-44dd-bbdb-80893f07f51d) to Async(default) with arguments: #<GlobalID:0x00005572d86c4bc0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4808ce45-174e-44dd-bbdb-80893f07f51d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4808ce45-174e-44dd-bbdb-80893f07f51d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [4808ce45-174e-44dd-bbdb-80893f07f51d] Performed ActiveStorage::AnalyzeJob (Job ID: 4808ce45-174e-44dd-bbdb-80893f07f51d) from Async(default) in 3.87ms
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:39:48.883302"], ["confirmed_at", "2023-08-27 07:39:48.879902"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.5ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4448)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 4984)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1906)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4125)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.4ms | Allocations: 4346)
Started GET "/users/1" for 127.0.0.1 at 2023-08-27 09:39:48 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 60u64ikozcnyveyr3xm6m5swo9fr[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ij9c9wdcrimlvt13y707jnmyda6p"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-27 07:39:49.029541"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-27 07:39:49.031915"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: ij9c9wdcrimlvt13y707jnmyda6p (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3f4f5603-8a29-49c2-891f-63cdb89b1fc7) to Async(default) with arguments: #<GlobalID:0x00005572d5102258 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f4f5603-8a29-49c2-891f-63cdb89b1fc7]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f4f5603-8a29-49c2-891f-63cdb89b1fc7] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3f4f5603-8a29-49c2-891f-63cdb89b1fc7] Performed ActiveStorage::AnalyzeJob (Job ID: 3f4f5603-8a29-49c2-891f-63cdb89b1fc7) from Async(default) in 1.8ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 103.7ms | Allocations: 8399)
  Rendered layout layouts/application.html.erb (Duration: 107.1ms | Allocations: 10641)
Completed 200 OK in 109ms (Views: 105.2ms | ActiveRecord: 2.8ms | Allocations: 10986)
Started GET "/books/new" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 5.8ms | Allocations: 1902)
  Rendered books/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4141)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.2ms | Allocations: 5094)
Started POST "/books" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Rendered books/errore.html.erb within layouts/application (Duration: 2.3ms | Allocations: 642)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2877)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 4265)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1610)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3743)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.3ms | Allocations: 3964)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$XzKeqiTGJc7jVsAASA2SE.DGVe6sC2EqK0g7iouTkKCAKLRO8bXmK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-27 07:39:49.150700"], ["updated_at", "2023-08-27 07:39:49.150700"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "imXCSB13xSNzwySzxb54"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-27 07:39:49.150821"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "z0kpvr1ggbp5u6w0tt0g6892rsgp"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-27 07:39:49.162907"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-27 07:39:49.164623"]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:39:49.166195"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: z0kpvr1ggbp5u6w0tt0g6892rsgp (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3340a786-cb81-404d-b1a7-4ce168904c49) to Async(default) with arguments: #<GlobalID:0x00005572d6b5ae70 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-27 07:39:49.176844"], ["confirmed_at", "2023-08-27 07:39:49.174382"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3340a786-cb81-404d-b1a7-4ce168904c49]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3340a786-cb81-404d-b1a7-4ce168904c49] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3340a786-cb81-404d-b1a7-4ce168904c49] Performed ActiveStorage::AnalyzeJob (Job ID: 3340a786-cb81-404d-b1a7-4ce168904c49) from Async(default) in 6.35ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.8ms | Allocations: 770)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2268)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 4422)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 4940)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 882)
Started GET "/" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1903)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 4109)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 4329)
Started GET "/users/1" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: z0kpvr1ggbp5u6w0tt0g6892rsgp[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vfpppavtd7t80grn0u9l13hfj5k0"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-27 07:39:49.328747"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-27 07:39:49.331296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: vfpppavtd7t80grn0u9l13hfj5k0 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 164d2d20-8c82-4483-b7b8-3af31205881f) to Async(default) with arguments: #<GlobalID:0x00005572d7a9e378 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [164d2d20-8c82-4483-b7b8-3af31205881f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [164d2d20-8c82-4483-b7b8-3af31205881f] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [164d2d20-8c82-4483-b7b8-3af31205881f] Performed ActiveStorage::AnalyzeJob (Job ID: 164d2d20-8c82-4483-b7b8-3af31205881f) from Async(default) in 1.91ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 113.3ms | Allocations: 8369)
  Rendered layout layouts/application.html.erb (Duration: 116.4ms | Allocations: 10611)
Completed 200 OK in 119ms (Views: 114.3ms | ActiveRecord: 3.0ms | Allocations: 10956)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 74ms (ActiveRecord: 0.3ms | Allocations: 1761)
Started GET "/" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1670)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3790)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 4010)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4323)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.7ms | Allocations: 4835)
Started GET "/users/1" for 127.0.0.1 at 2023-08-27 09:39:49 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 17.2ms | Allocations: 3793)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 5911)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 1.5ms | Allocations: 6256)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$bBTJRUoUXp9peOEpOIsUL.ZdjL7gIZY8c8Vvonizd3Ag7Vav1TmkW"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:11.563649"], ["updated_at", "2023-08-31 07:14:11.563649"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "z13DJNiDyGC__ACgcqBA"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:11.563887"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1sp4t8b9plv29uwqlejq5n84cxjr"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:11.738646"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:11.741323"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:11.743496"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 1sp4t8b9plv29uwqlejq5n84cxjr (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e243d3b0-10ec-4ed9-b08c-1fdd9fdea74d) to Async(default) with arguments: #<GlobalID:0x000055b3be360c00 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:11.753855"], ["confirmed_at", "2023-08-31 07:14:11.751329"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-31 09:14:11 +0200
[ActiveJob] [ActiveStorage::AnalyzeJob] [e243d3b0-10ec-4ed9-b08c-1fdd9fdea74d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e243d3b0-10ec-4ed9-b08c-1fdd9fdea74d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [e243d3b0-10ec-4ed9-b08c-1fdd9fdea74d] Performed ActiveStorage::AnalyzeJob (Job ID: e243d3b0-10ec-4ed9-b08c-1fdd9fdea74d) from Async(default) in 33.87ms
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 4.3ms | Allocations: 1742)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 7347.0ms | Allocations: 92729)
  Rendered layout layouts/application.html.erb (Duration: 7418.2ms | Allocations: 110544)
Completed 200 OK in 7528ms (Views: 7484.3ms | ActiveRecord: 0.0ms | Allocations: 116767)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-31 09:14:19 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 91ms (ActiveRecord: 0.3ms | Allocations: 2602)
Started GET "/" for 127.0.0.1 at 2023-08-31 09:14:19 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3908)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 6128)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 1.1ms | Allocations: 6969)
Started GET "/users/1" for 127.0.0.1 at 2023-08-31 09:14:20 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 1sp4t8b9plv29uwqlejq5n84cxjr[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "azcd6fl0218ngjepr2gi3os7rwdv"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-31 07:14:22.592539"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-31 07:14:22.594815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: azcd6fl0218ngjepr2gi3os7rwdv (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d8fef5fb-f5e1-426b-bd9a-e021ac9149df) to Async(default) with arguments: #<GlobalID:0x000055b3bafa3cf0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8fef5fb-f5e1-426b-bd9a-e021ac9149df]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8fef5fb-f5e1-426b-bd9a-e021ac9149df] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8fef5fb-f5e1-426b-bd9a-e021ac9149df] Performed ActiveStorage::AnalyzeJob (Job ID: d8fef5fb-f5e1-426b-bd9a-e021ac9149df) from Async(default) in 2.75ms
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 2610.6ms | Allocations: 57437)
  Rendered layout layouts/application.html.erb (Duration: 2614.0ms | Allocations: 59766)
Completed 200 OK in 2700ms (Views: 2611.3ms | ActiveRecord: 5.2ms | Allocations: 62262)
Started GET "/books/new" for 127.0.0.1 at 2023-08-31 09:14:22 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 81.3ms | Allocations: 2876)
  Rendered books/new.html.erb within layouts/application (Duration: 82.7ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 86.1ms | Allocations: 5302)
Completed 200 OK in 113ms (Views: 88.1ms | ActiveRecord: 0.5ms | Allocations: 25153)
Started POST "/books" for 127.0.0.1 at 2023-08-31 09:14:22 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"test", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "test"], ["trama", "Ecco questa è la trama del libro test scritto"], ["tag", "Amore"], ["genere", "Romanzo"], ["created_at", "2023-08-31 07:14:22.984807"], ["updated_at", "2023-08-31 07:14:22.984807"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/books/1
Completed 302 Found in 9ms (ActiveRecord: 0.7ms | Allocations: 1693)
Started GET "/books/1" for 127.0.0.1 at 2023-08-31 09:14:22 +0200
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  Rendered books/show.html.erb within layouts/application (Duration: 110.6ms | Allocations: 27585)
  Rendered layout layouts/application.html.erb (Duration: 115.1ms | Allocations: 29976)
Completed 200 OK in 120ms (Views: 114.0ms | ActiveRecord: 2.1ms | Allocations: 30666)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$wkJxg7A7flQOLG2YLyy4zOdfxBbr4cNswoWxv3F5aQMk.pb33bsSu"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:23.128102"], ["updated_at", "2023-08-31 07:14:23.128102"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "AFkVqaCCxCCGXch6MCJN"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:23.128225"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0yq8jhk0qpz8w90b95kvsgtiibhj"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:23.141060"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:23.143354"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:23.144921"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 0yq8jhk0qpz8w90b95kvsgtiibhj (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 714e5606-ed97-4321-9849-294dce42e00e) to Async(default) with arguments: #<GlobalID:0x000055b3bdec25e0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [714e5606-ed97-4321-9849-294dce42e00e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [714e5606-ed97-4321-9849-294dce42e00e] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [714e5606-ed97-4321-9849-294dce42e00e] Performed ActiveStorage::AnalyzeJob (Job ID: 714e5606-ed97-4321-9849-294dce42e00e) from Async(default) in 4.16ms
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:23.154475"], ["confirmed_at", "2023-08-31 07:14:23.151318"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.4ms | Allocations: 780)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2290)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4448)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 4984)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 910)
Started GET "/" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1912)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4131)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.3ms | Allocations: 4352)
Started GET "/users/1" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 0yq8jhk0qpz8w90b95kvsgtiibhj[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "omqw3ahq5ludlhqr1sbzo1s0mvl7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-31 07:14:23.302961"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-31 07:14:23.304841"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: omqw3ahq5ludlhqr1sbzo1s0mvl7 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 39f41bef-0e30-4ba9-af93-3500464d3a0d) to Async(default) with arguments: #<GlobalID:0x000055b3bada7c58 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f41bef-0e30-4ba9-af93-3500464d3a0d]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f41bef-0e30-4ba9-af93-3500464d3a0d] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [39f41bef-0e30-4ba9-af93-3500464d3a0d] Performed ActiveStorage::AnalyzeJob (Job ID: 39f41bef-0e30-4ba9-af93-3500464d3a0d) from Async(default) in 1.98ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 107.7ms | Allocations: 8390)
  Rendered layout layouts/application.html.erb (Duration: 110.9ms | Allocations: 10632)
Completed 200 OK in 113ms (Views: 109.1ms | ActiveRecord: 2.6ms | Allocations: 10977)
Started GET "/books/new" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by BooksController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  Rendered books/_form.html.erb (Duration: 4.2ms | Allocations: 1902)
  Rendered books/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1937)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4141)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 5100)
Started POST "/books" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"titolo"=>"", "trama"=>"Ecco questa è la trama del libro test scritto", "tag"=>"Amore", "genere"=>"Romanzo"}, "commit"=>"Create Book"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Rendered books/errore.html.erb within layouts/application (Duration: 18.7ms | Allocations: 642)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 2877)
Completed 200 OK in 29ms (Views: 23.5ms | ActiveRecord: 0.2ms | Allocations: 4275)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
Started GET "/" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1610)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3743)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.4ms | Allocations: 3964)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "sonountest"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@gmail.com"], ["encrypted_password", "$2a$04$AcZq/qWcrlNO0ZxWWUyhD.z9NsNigu6LA0PECyvIta1BudIT.rw2a"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:23.434620"], ["updated_at", "2023-08-31 07:14:23.434620"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "sonountest"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "TVtqPsGL1Dz6uto_qXeR"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:23.434727"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ei5z4hpp7634stpb2wit7tfdiyub"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:23.446321"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:23.448040"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:23.449477"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: ei5z4hpp7634stpb2wit7tfdiyub (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0788493b-9124-485e-a106-05763393ae06) to Async(default) with arguments: #<GlobalID:0x000055b3bb04c0a8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0788493b-9124-485e-a106-05763393ae06]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0788493b-9124-485e-a106-05763393ae06] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [0788493b-9124-485e-a106-05763393ae06] Performed ActiveStorage::AnalyzeJob (Job ID: 0788493b-9124-485e-a106-05763393ae06) from Async(default) in 3.28ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "sonountest"], ["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "confirmed_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:23.459062"], ["confirmed_at", "2023-08-31 07:14:23.456045"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/sessions/new.html.erb within layouts/application
  Rendered users/shared/_links.html.erb (Duration: 1.5ms | Allocations: 770)
  Rendered users/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2268)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4422)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 4940)
Started POST "/users/sign_in" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by Users::SessionsController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 7ms (ActiveRecord: 0.1ms | Allocations: 882)
Started GET "/" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1887)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4093)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.3ms | Allocations: 4313)
Started GET "/users/1" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: ei5z4hpp7634stpb2wit7tfdiyub[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::VariantRecord Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wh10v05wwnm0szxt5ssb2kxjjes7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 2031], ["checksum", "/qlVDBlzjB8tCfzm/g+jzg=="], ["created_at", "2023-08-31 07:14:23.600804"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2023-08-31 07:14:23.602717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: wh10v05wwnm0szxt5ssb2kxjjes7 (checksum: /qlVDBlzjB8tCfzm/g+jzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1b735f75-f3f9-4d12-85a7-30740dd596ba) to Async(default) with arguments: #<GlobalID:0x000055b3b9cc3a90 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b735f75-f3f9-4d12-85a7-30740dd596ba]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b735f75-f3f9-4d12-85a7-30740dd596ba] Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b735f75-f3f9-4d12-85a7-30740dd596ba] Performed ActiveStorage::AnalyzeJob (Job ID: 1b735f75-f3f9-4d12-85a7-30740dd596ba) from Async(default) in 1.74ms
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 104.6ms | Allocations: 8392)
  Rendered layout layouts/application.html.erb (Duration: 108.3ms | Allocations: 10634)
Completed 200 OK in 111ms (Views: 106.6ms | ActiveRecord: 2.7ms | Allocations: 10979)
Started DELETE "/signout" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by Devise::SessionsController#destroy as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
Redirected to http://www.example.com/
Completed 303 See Other in 100ms (ActiveRecord: 0.3ms | Allocations: 1763)
Started GET "/" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."likes" ASC[0m
  Rendered pages/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1658)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3778)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 3998)
Started GET "/users?search=sonountest&commit=Search" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by UsersController#index as HTML
  Parameters: {"search"=>"sonountest", "commit"=>"Search"}
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (LOWER(username) LIKE '%sonountest%')[0m
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  Rendered users/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2000)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 4327)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.8ms | Allocations: 4839)
Started GET "/users/1" for 127.0.0.1 at 2023-08-31 09:14:23 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "G4LGMVvWmxCFhr8ZOjmlfa5mhuk="], ["LIMIT", 1]]
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books" WHERE "books"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mFollow Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ? AND "follows"."blocked" = ?[0m  [["followable_id", 1], ["followable_type", "User"], ["blocked", 0]]
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "users"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "User"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "User"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" INNER JOIN "follows" ON "follows"."followable_type" = ? AND "follows"."followable_id" = "books"."id" WHERE "follows"."blocked" = ? AND "follows"."follower_id" = ? AND "follows"."follower_type" = ? AND "follows"."followable_type" = ?[0m  [["followable_type", "Book"], ["blocked", 0], ["follower_id", 1], ["follower_type", "User"], ["followable_type", "Book"]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  Rendered users/show.html.erb within layouts/application (Duration: 16.2ms | Allocations: 3791)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 5909)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 1.4ms | Allocations: 6254)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$7JEQQszR7kSONJk94sTppejAGHewCvS5oklmg0vDxMCOD7pA9v64e"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:48.914811"], ["updated_at", "2023-08-31 07:14:48.914811"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "W4xL3N8nAACwKGuU-X7k"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:48.915078"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "crzhi40bqz1d32weyw6d0ghijh7n"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:48.992104"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:48.994470"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:48.996529"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: crzhi40bqz1d32weyw6d0ghijh7n (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c629d273-d861-444b-819f-3804a0594157) to Async(default) with arguments: #<GlobalID:0x000055d1645be5b0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157] Performing ActiveStorage::AnalyzeJob (Job ID: c629d273-d861-444b-819f-3804a0594157) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x00007fcf7c034f28 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.226400"], ["updated_at", "2023-08-31 07:14:49.226400"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157] [36m  Disk Storage (2.6ms) [0m[34mDownloaded file from key: crzhi40bqz1d32weyw6d0ghijh7n[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c629d273-d861-444b-819f-3804a0594157] Performed ActiveStorage::AnalyzeJob (Job ID: c629d273-d861-444b-819f-3804a0594157) from Async(default) in 212.47ms
Processing by BooksController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered books/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 295)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 414)
Completed 200 OK in 21ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 8532)
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$sub4DwUl5RoxnIyLOATGM.GT5ffwUZYi.jA.JKxfU9.qcCh7D7ZRC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.438808"], ["updated_at", "2023-08-31 07:14:49.438808"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "KLf9yq-yNYyRQTxqVKtg"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.438955"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0p5yy7kplxgzczirlybbrz5oxw9x"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.451354"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.453058"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.454669"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 0p5yy7kplxgzczirlybbrz5oxw9x (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3755789a-0a08-4632-baec-4b1b76d6db54) to Async(default) with arguments: #<GlobalID:0x000055d1647cc690 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.2ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.464366"], ["updated_at", "2023-08-31 07:14:49.464366"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#show as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54] Performing ActiveStorage::AnalyzeJob (Job ID: 3755789a-0a08-4632-baec-4b1b76d6db54) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x00007fcf7c38bc08 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: 0p5yy7kplxgzczirlybbrz5oxw9x[0m
  Rendered books/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 114)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 433)
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 0.4ms | Allocations: 1412)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$MJYKWmxkQycwHRx6K9OpM.IFsY5t//PdK1X4S/ej2B4FbB2o6c61G"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.488324"], ["updated_at", "2023-08-31 07:14:49.488324"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "rvuCfyyr3Uoqb169qwiQ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.488538"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "10g0n2q7sa5m3j7i12mor8se0tb1"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.502255"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.504185"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.505679"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 10g0n2q7sa5m3j7i12mor8se0tb1 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dc5f5813-4c94-48f0-96f3-5e5973f6a09f) to Async(default) with arguments: #<GlobalID:0x000055d16422c398 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3755789a-0a08-4632-baec-4b1b76d6db54] Performed ActiveStorage::AnalyzeJob (Job ID: 3755789a-0a08-4632-baec-4b1b76d6db54) from Async(default) in 55.81ms
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc5f5813-4c94-48f0-96f3-5e5973f6a09f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc5f5813-4c94-48f0-96f3-5e5973f6a09f] Performing ActiveStorage::AnalyzeJob (Job ID: dc5f5813-4c94-48f0-96f3-5e5973f6a09f) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x000055d16463e620 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc5f5813-4c94-48f0-96f3-5e5973f6a09f] [36m  Disk Storage (1.7ms) [0m[34mDownloaded file from key: 10g0n2q7sa5m3j7i12mor8se0tb1[0m
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055d164ed81c8>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.539032"], ["updated_at", "2023-08-31 07:14:49.539032"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 14ms (ActiveRecord: 0.7ms | Allocations: 2980)
  [1m[36mBook Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc5f5813-4c94-48f0-96f3-5e5973f6a09f] Performed ActiveStorage::AnalyzeJob (Job ID: dc5f5813-4c94-48f0-96f3-5e5973f6a09f) from Async(default) in 33.35ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$vntICwlIYmKCRmlOdSfGze8EDFLyYCsxvUzAFK2S4wfY9UjEy82g6"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.555065"], ["updated_at", "2023-08-31 07:14:49.555065"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "ViqPoUBzz-BvLQhS52BH"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.555260"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "j6sdqti3tcgs5kk7rtanineykmqz"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.566271"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.568085"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.569392"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: j6sdqti3tcgs5kk7rtanineykmqz (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c2a97738-c58d-4d3f-9860-8c0e4a6b61f5) to Async(default) with arguments: #<GlobalID:0x000055d1668aa1c8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055d1645cbaa8>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5] Performing ActiveStorage::AnalyzeJob (Job ID: c2a97738-c58d-4d3f-9860-8c0e4a6b61f5) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x000055d1646ca698 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.5ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.583042"], ["updated_at", "2023-08-31 07:14:49.583042"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 1553)
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5] [36m  Disk Storage (10.4ms) [0m[34mDownloaded file from key: j6sdqti3tcgs5kk7rtanineykmqz[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$eTypZveTQZMa2/X.dgM8buKbnBLoGzMd2eeT.6sVQTWDOxiVIiaRK"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.611868"], ["updated_at", "2023-08-31 07:14:49.611868"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "f9Sy4UdfHy5nGRVFSGo5"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.611983"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "whds87rik5bcrg8qvypnfn04ajem"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.626578"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.628390"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.629613"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: whds87rik5bcrg8qvypnfn04ajem (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2ef00a9f-bcf7-43af-8639-39ba21b8ea0b) to Async(default) with arguments: #<GlobalID:0x000055d164f3cd80 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c2a97738-c58d-4d3f-9860-8c0e4a6b61f5] Performed ActiveStorage::AnalyzeJob (Job ID: c2a97738-c58d-4d3f-9860-8c0e4a6b61f5) from Async(default) in 67.18ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ef00a9f-bcf7-43af-8639-39ba21b8ea0b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ef00a9f-bcf7-43af-8639-39ba21b8ea0b] Performing ActiveStorage::AnalyzeJob (Job ID: 2ef00a9f-bcf7-43af-8639-39ba21b8ea0b) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x00007fcf7c3d6410 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007fcf48038620>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "controller"=>"books", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.646722"], ["updated_at", "2023-08-31 07:14:49.646722"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ef00a9f-bcf7-43af-8639-39ba21b8ea0b] [36m  Disk Storage (5.4ms) [0m[34mDownloaded file from key: whds87rik5bcrg8qvypnfn04ajem[0m
Redirected to http://test.host/books/1
Completed 302 Found in 11ms (ActiveRecord: 0.6ms | Allocations: 1837)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$BijqzlKV/o.S7LCxhBDSSOJzzYv0Fxoj5ulqFSD./J6RQWJ9wjSPO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.667380"], ["updated_at", "2023-08-31 07:14:49.667380"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "nnH3F_szSuZYsJvd6Jkj"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.667539"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ei2170gz551zqadcktrzhldj5qne"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.681271"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.683196"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.684706"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: ei2170gz551zqadcktrzhldj5qne (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 963f535d-e0a8-40a7-99dc-67709ed8da6f) to Async(default) with arguments: #<GlobalID:0x000055d166a57048 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [2ef00a9f-bcf7-43af-8639-39ba21b8ea0b] Performed ActiveStorage::AnalyzeJob (Job ID: 2ef00a9f-bcf7-43af-8639-39ba21b8ea0b) from Async(default) in 60.97ms
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f] Performing ActiveStorage::AnalyzeJob (Job ID: 963f535d-e0a8-40a7-99dc-67709ed8da6f) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x00007fcf7c3dd6c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x000055d166a3e4f8>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f] [36m  Disk Storage (3.3ms) [0m[34mDownloaded file from key: ei2170gz551zqadcktrzhldj5qne[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.8ms | Allocations: 113)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 429)
Completed 200 OK in 10ms (Views: 4.6ms | ActiveRecord: 0.1ms | Allocations: 1842)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$2r3RKJNmH3.frMGCSxGpBOvvSULsiYMbdIKW5J82HJRJ7ScPxSPDG"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.716580"], ["updated_at", "2023-08-31 07:14:49.716580"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "ENqURrymAg4hTka6tQof"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.716699"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "aiz4fcamomnau3w7tuultpydkzvy"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.730006"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.731548"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.732676"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: aiz4fcamomnau3w7tuultpydkzvy (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 86704763-32e2-49ec-8711-8657f833afbe) to Async(default) with arguments: #<GlobalID:0x000055d1684d5668 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
Processing by BooksController#create as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}}
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [963f535d-e0a8-40a7-99dc-67709ed8da6f] Performed ActiveStorage::AnalyzeJob (Job ID: 963f535d-e0a8-40a7-99dc-67709ed8da6f) from Async(default) in 56.41ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [86704763-32e2-49ec-8711-8657f833afbe]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [86704763-32e2-49ec-8711-8657f833afbe] Performing ActiveStorage::AnalyzeJob (Job ID: 86704763-32e2-49ec-8711-8657f833afbe) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x00007fcf4806f378 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: create, request: #<ActionController::TestRequest:0x00007fcf48068e88>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "controller"=>"books", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering books/errore.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [86704763-32e2-49ec-8711-8657f833afbe] [36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: aiz4fcamomnau3w7tuultpydkzvy[0m
  Rendered books/errore.html.erb within layouts/application (Duration: 0.8ms | Allocations: 105)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 466)
Completed 200 OK in 13ms (Views: 5.3ms | ActiveRecord: 0.1ms | Allocations: 2198)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$UM4F16ZOqJmnL64OrQAsiONWWQpo88ICNkDYtpGqxAeCGA4IVeWXy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.766625"], ["updated_at", "2023-08-31 07:14:49.766625"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "EdfwFTecELN8XVNJdvkR"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.766762"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tdlv2r9r9403328smp508wgnvug4"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.780381"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.782720"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.784166"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: tdlv2r9r9403328smp508wgnvug4 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d88fc285-3426-4c70-8e8a-0e8f640ad088) to Async(default) with arguments: #<GlobalID:0x000055d16856f4e8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.793163"], ["updated_at", "2023-08-31 07:14:49.793163"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [d88fc285-3426-4c70-8e8a-0e8f640ad088]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d88fc285-3426-4c70-8e8a-0e8f640ad088] Performing ActiveStorage::AnalyzeJob (Job ID: d88fc285-3426-4c70-8e8a-0e8f640ad088) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x000055d168588a10 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"non-fiction", "tag"=>"newtest", "titolo"=>"New Test Book", "trama"=>"This is a new test book"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.3ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mBook Update (0.2ms)[0m  [1m[33mUPDATE "books" SET "titolo" = ?, "trama" = ?, "tag" = ?, "genere" = ?, "updated_at" = ? WHERE "books"."id" = ?[0m  [["titolo", "New Test Book"], ["trama", "This is a new test book"], ["tag", "newtest"], ["genere", "non-fiction"], ["updated_at", "2023-08-31 07:14:49.805924"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/books/1
Completed 302 Found in 8ms (ActiveRecord: 0.7ms | Allocations: 1425)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [86704763-32e2-49ec-8711-8657f833afbe] Performed ActiveStorage::AnalyzeJob (Job ID: 86704763-32e2-49ec-8711-8657f833afbe) from Async(default) in 62.64ms
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d88fc285-3426-4c70-8e8a-0e8f640ad088] [36m  Disk Storage (1.6ms) [0m[34mDownloaded file from key: tdlv2r9r9403328smp508wgnvug4[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$IMNTdykQBhuqJmlWeYEV4.Tske/L.MCyU.cdLmG7KehPMU.OlNrum"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.822312"], ["updated_at", "2023-08-31 07:14:49.822312"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "hJesbnVNRs5r-33-j-vt"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.822448"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "icctwwd146ouyurb9pzp2t1os6yt"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.836361"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.839203"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.840762"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: icctwwd146ouyurb9pzp2t1os6yt (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 037c982a-701b-4d74-968d-1aef1e794bd6) to Async(default) with arguments: #<GlobalID:0x000055d1685cf550 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.849416"], ["updated_at", "2023-08-31 07:14:49.849416"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [037c982a-701b-4d74-968d-1aef1e794bd6]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [037c982a-701b-4d74-968d-1aef1e794bd6] Performing ActiveStorage::AnalyzeJob (Job ID: 037c982a-701b-4d74-968d-1aef1e794bd6) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x000055d1660b38c0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d88fc285-3426-4c70-8e8a-0e8f640ad088]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d88fc285-3426-4c70-8e8a-0e8f640ad088] Performed ActiveStorage::AnalyzeJob (Job ID: d88fc285-3426-4c70-8e8a-0e8f640ad088) from Async(default) in 67.83ms
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055d1685e76f0>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1076)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [037c982a-701b-4d74-968d-1aef1e794bd6] [36m  Disk Storage (6.2ms) [0m[34mDownloaded file from key: icctwwd146ouyurb9pzp2t1os6yt[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$U/XtPUjX6ghsxfpANlzt2OssUQA5r8001vXpCmecX/uz70duoBdO2"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.872679"], ["updated_at", "2023-08-31 07:14:49.872679"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "szmtW2cRYqDF11Zz2xhQ"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.872802"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pvff21ww38s5ivupaguprptcirdg"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.886524"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.888653"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.891338"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: pvff21ww38s5ivupaguprptcirdg (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dc89eabc-2232-4f8d-bcc9-b7f51472e551) to Async(default) with arguments: #<GlobalID:0x000055d16861fb18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.900551"], ["updated_at", "2023-08-31 07:14:49.900551"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc89eabc-2232-4f8d-bcc9-b7f51472e551]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc89eabc-2232-4f8d-bcc9-b7f51472e551] Performing ActiveStorage::AnalyzeJob (Job ID: dc89eabc-2232-4f8d-bcc9-b7f51472e551) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x000055d165e45ea8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  Parameters: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [037c982a-701b-4d74-968d-1aef1e794bd6]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [037c982a-701b-4d74-968d-1aef1e794bd6] Performed ActiveStorage::AnalyzeJob (Job ID: 037c982a-701b-4d74-968d-1aef1e794bd6) from Async(default) in 65.3ms
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055d168637920>, params: {"book"=>{"genere"=>"fiction", "tag"=>"test", "titolo"=>"Test Book", "trama"=>"This is a test book", "user_id"=>"1"}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
Redirected to http://test.host/books/1
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1330)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc89eabc-2232-4f8d-bcc9-b7f51472e551] [36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: pvff21ww38s5ivupaguprptcirdg[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$ABJbix6QF.W4WUa/bIQWkO22dfeDOIV8KcfQe9BeKNid/6E1M6aFS"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:49.924621"], ["updated_at", "2023-08-31 07:14:49.924621"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "4Dz-C9TTnH2vTtCTEeRW"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:49.924800"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "08icvi3z7v76jeny2pl25qsklrs7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:49.940114"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:49.942108"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:49.944662"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 08icvi3z7v76jeny2pl25qsklrs7 (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 26e1ae35-266f-4d92-aab3-63b17a1d71a2) to Async(default) with arguments: #<GlobalID:0x000055d161f897c8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:49.981183"], ["updated_at", "2023-08-31 07:14:49.981183"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [26e1ae35-266f-4d92-aab3-63b17a1d71a2]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26e1ae35-266f-4d92-aab3-63b17a1d71a2] Performing ActiveStorage::AnalyzeJob (Job ID: 26e1ae35-266f-4d92-aab3-63b17a1d71a2) from Async(default) enqueued at 2023-08-31T07:14:49Z with arguments: #<GlobalID:0x000055d16863ea18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055d1686425c8>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc89eabc-2232-4f8d-bcc9-b7f51472e551]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [dc89eabc-2232-4f8d-bcc9-b7f51472e551] Performed ActiveStorage::AnalyzeJob (Job ID: dc89eabc-2232-4f8d-bcc9-b7f51472e551) from Async(default) in 99.03ms
  Rendered books/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 114)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [26e1ae35-266f-4d92-aab3-63b17a1d71a2] [36m  Disk Storage (2.0ms) [0m[34mDownloaded file from key: 08icvi3z7v76jeny2pl25qsklrs7[0m
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 397)
Completed 200 OK in 11ms (Views: 3.9ms | ActiveRecord: 0.2ms | Allocations: 1893)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$wQFw1K4mWQks53ZUDgA3hOqWdqBKb3b3IemeJv8hoWl2msXxzsXfy"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:50.009747"], ["updated_at", "2023-08-31 07:14:50.009747"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "R761yzxTvsby4u_4_eyD"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:50.009890"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fj0vuh2f8k83hqrhpbue65k8cx3g"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:50.024634"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:50.026650"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:50.028631"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: fj0vuh2f8k83hqrhpbue65k8cx3g (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f8374236-6463-4a16-bb05-1f0b104aff2d) to Async(default) with arguments: #<GlobalID:0x000055d1685faae8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.4ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:50.038077"], ["updated_at", "2023-08-31 07:14:50.038077"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#update as HTML
  Parameters: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d] Performing ActiveStorage::AnalyzeJob (Job ID: f8374236-6463-4a16-bb05-1f0b104aff2d) from Async(default) enqueued at 2023-08-31T07:14:50Z with arguments: #<GlobalID:0x000055d1685e86b8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [26e1ae35-266f-4d92-aab3-63b17a1d71a2]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[31mUnpermitted parameter: :user_id. Context: { controller: BooksController, action: update, request: #<ActionController::TestRequest:0x000055d1685ed7f8>, params: {"book"=>{"genere"=>"", "tag"=>"", "titolo"=>"", "trama"=>"", "user_id"=>""}, "id"=>"1", "controller"=>"books", "action"=>"update"} }[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26e1ae35-266f-4d92-aab3-63b17a1d71a2] Performed ActiveStorage::AnalyzeJob (Job ID: 26e1ae35-266f-4d92-aab3-63b17a1d71a2) from Async(default) in 97.13ms
  Rendering layout layouts/application.html.erb
  Rendering books/edit.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d] [36m  Disk Storage (3.0ms) [0m[34mDownloaded file from key: fj0vuh2f8k83hqrhpbue65k8cx3g[0m
  Rendered books/edit.html.erb within layouts/application (Duration: 0.7ms | Allocations: 95)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 427)
Completed 200 OK in 13ms (Views: 4.4ms | ActiveRecord: 0.2ms | Allocations: 2141)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$WjncOiWNQvsMzIa5pYM2M.BoGgo0z4XtEdRQtrxnDAFYp6PwO2ktC"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:50.066477"], ["updated_at", "2023-08-31 07:14:50.066477"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "PjJSsFkxsCtGsPKYdKck"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:50.066594"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "o19hl83atxuq83cnvul2hjaliu4d"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:50.079981"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:50.081772"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:50.083144"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: o19hl83atxuq83cnvul2hjaliu4d (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6acb0ae1-7ccb-4612-b080-23c03bbc1662) to Async(default) with arguments: #<GlobalID:0x000055d168593dc0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:50.092940"], ["updated_at", "2023-08-31 07:14:50.092940"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d]   [1m[36mActiveStorage::Blob Update (0.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":1200,\"height\":1328,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f8374236-6463-4a16-bb05-1f0b104aff2d] Performed ActiveStorage::AnalyzeJob (Job ID: f8374236-6463-4a16-bb05-1f0b104aff2d) from Async(default) in 68.76ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [6acb0ae1-7ccb-4612-b080-23c03bbc1662]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6acb0ae1-7ccb-4612-b080-23c03bbc1662] Performing ActiveStorage::AnalyzeJob (Job ID: 6acb0ae1-7ccb-4612-b080-23c03bbc1662) from Async(default) enqueued at 2023-08-31T07:14:50Z with arguments: #<GlobalID:0x000055d168574bf0 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6acb0ae1-7ccb-4612-b080-23c03bbc1662] [36m  Disk Storage (2.8ms) [0m[34mDownloaded file from key: o19hl83atxuq83cnvul2hjaliu4d[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.2ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6acb0ae1-7ccb-4612-b080-23c03bbc1662] Performed ActiveStorage::AnalyzeJob (Job ID: 6acb0ae1-7ccb-4612-b080-23c03bbc1662) from Async(default) in 44.61ms
  [1m[36mReview Load (0.2ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.2ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 129ms (ActiveRecord: 3.6ms | Allocations: 20310)
  [1m[36mBook Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "books"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "testuser"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "full_name", "uid", "avatar_url", "provider", "admin", "username", "avatar_file_name", "avatar_content_type", "avatar_file_size", "avatar_updated_at", "confirmation_token", "confirmed_at", "confirmation_sent_at", "unconfirmed_email") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "test@example.com"], ["encrypted_password", "$2a$04$wWJTImkfAeBQcdcZkiD0zu0C.Oajo84z6.08OIjj3gUGKNMnskOQO"], ["reset_password_token", nil], ["reset_password_sent_at", nil], ["remember_created_at", nil], ["created_at", "2023-08-31 07:14:50.238460"], ["updated_at", "2023-08-31 07:14:50.238460"], ["full_name", nil], ["uid", nil], ["avatar_url", nil], ["provider", nil], ["admin", 0], ["username", "testuser"], ["avatar_file_name", nil], ["avatar_content_type", nil], ["avatar_file_size", nil], ["avatar_updated_at", nil], ["confirmation_token", "6v9NYA6S3ncnBdv6Vs_-"], ["confirmed_at", nil], ["confirmation_sent_at", "2023-08-31 07:14:50.238590"], ["unconfirmed_email", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? AND "users"."id" != ? LIMIT ?[0m  [["username", "testuser"], ["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "whhzrdyj0y750q42sicpknlph8ld"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "test"], ["byte_size", 25641], ["checksum", "Rj2jiWEsYdzl7QNUBRTbew=="], ["created_at", "2023-08-31 07:14:50.250830"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2023-08-31 07:14:50.252534"]]
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2023-08-31 07:14:50.253991"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: whhzrdyj0y750q42sicpknlph8ld (checksum: Rj2jiWEsYdzl7QNUBRTbew==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ab23046e-bdcc-4c6b-954a-cd651a533816) to Async(default) with arguments: #<GlobalID:0x000055d164f3db18 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mBook Create (0.3ms)[0m  [1m[32mINSERT INTO "books" ("titolo", "trama", "tag", "genere", "created_at", "updated_at", "user_id", "cover_file_name", "cover_content_type", "cover_file_size", "cover_updated_at", "likes", "stato", "visibility") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["titolo", "Test Book"], ["trama", "This is a test book"], ["tag", "test"], ["genere", "fiction"], ["created_at", "2023-08-31 07:14:50.263638"], ["updated_at", "2023-08-31 07:14:50.263638"], ["user_id", 1], ["cover_file_name", nil], ["cover_content_type", nil], ["cover_file_size", nil], ["cover_updated_at", nil], ["likes", nil], ["stato", "inpubblicazione"], ["visibility", "visibile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by BooksController#destroy as HTML
  Parameters: {"id"=>"1"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [ab23046e-bdcc-4c6b-954a-cd651a533816]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ab23046e-bdcc-4c6b-954a-cd651a533816] Performing ActiveStorage::AnalyzeJob (Job ID: ab23046e-bdcc-4c6b-954a-cd651a533816) from Async(default) enqueued at 2023-08-31T07:14:50Z with arguments: #<GlobalID:0x000055d164ecebc8 @uri=#<URI::GID gid://weshelf/ActiveStorage::Blob/1>>
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."user_id" = ? AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mChapter Load (0.1ms)[0m  [1m[34mSELECT "chapters".* FROM "chapters" WHERE "chapters"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1m[34mSELECT "reviews".* FROM "reviews" WHERE "reviews"."book_id" = ?[0m  [["book_id", 1]]
  [1m[36mFollow Load (0.1ms)[0m  [1m[34mSELECT "follows".* FROM "follows" WHERE "follows"."followable_id" = ? AND "follows"."followable_type" = ?[0m  [["followable_id", 1], ["followable_type", "Book"]]
  [1m[36mActsAsVotable::Vote Delete All (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."votable_id" = ? AND "votes"."votable_type" = ?[0m  [["votable_id", 1], ["votable_type", "Book"]]
  [1m[36mBook Destroy (0.2ms)[0m  [1m[31mDELETE FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 1.0ms | Allocations: 2077)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ab23046e-bdcc-4c6b-954a-cd651a533816] [36m  Disk Storage (5.7ms) [0m[34mDownloaded file from key: whhzrdyj0y750q42sicpknlph8ld[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ab23046e-bdcc-4c6b-954a-cd651a533816] Performed ActiveStorage::AnalyzeJob (Job ID: ab23046e-bdcc-4c6b-954a-cd651a533816) from Async(default) in 25.82ms
